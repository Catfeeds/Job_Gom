{"version":3,"sources":["webpack:///./src/js/page/searchTopics/index.js","webpack:///./~/_tmodjs-loader@1.0.1@tmodjs-loader/runtime.js","webpack:///./src/js/module/popup/alert.js?466a**********","webpack:///./src/js/module/popup/face/emoji.js?d6cd****","webpack:///./src/js/plugin/tiles.js?b136*","webpack:///./src/js/utils/truncate.js?b86a***","webpack:///./src/js/utils/byteLen.js?1ae0***","webpack:///./src/js/utils/encodeHtml.js?4c98*","webpack:///./src/js/module/popup/face/face.js?b70b*","webpack:///./src/js/module/popup/face/backward.js?6a63***","webpack:///./src/js/module/popup/face/face.tpl?dd34***","webpack:///./src/js/module/tmodHelper/truncateByteLen.js?3937*","webpack:///./src/js/module/tmodHelper/showPic.js?d726**","webpack:///./src/js/module/tmodHelper/othersLink.js?36d4","webpack:///./src/js/page/searchTopics/topics.tpl","webpack:///./src/js/page/searchTopics/keywordMark.js"],"names":["fetch","require","url","tpl","Tiles","keywordMark","alert","tiles","columnWidth","_decodeURIComponent","uri","result","decodeURIComponent","ex","unescape","keyword","$","data","$loadMore","$loading","firing","page","finished","beforeLoad","hide","show","noMoreData","str","msg","find","html","off","load","get","word","page_num","pagesize","done","json","code","modelidPage","topics","length","modelid","i","$_CONFIG","group_domain","appended","init","a","b","fail","always","on","Dialog","noop","create","content","options","defaults","fixed","modal","autofocus","className","okCls","ok","extend","d","header","_$","title","css","module","exports","imgPath","imgpath","ext","groupOne","name","groupTwo","groupThree","groupFour","groupFive","format","arr","len","emoji","concat","settings","element","$tiles","children","_create","_init","prototype","constructor","_getTiles","container","width","_getColumnWidth","colNums","_getColumns","appendTo","cols","containerWidth","colNum","Math","floor","max","layout","outerWidth","callback","add","destroy","_placeTile","tile","eq","getShortestColumn","append","shortest","h","offsetHeight","scrollHeight","byteLen","isHighSurrogate","codePoint","isLowSurrogate","truncate","string","byteLength","Error","charLength","curByteLength","segment","charCodeAt","slice","replace","reg","emojis","backward","faceTpl","faceReg","faceUrl","defaultIndex","emojiMap","makeData","total","offset","ceil","list","end","j","push","Array","x","y","setShowIndex","left","top","index","addClass","siblings","removeClass","insertFace","fn","isHide","e","preventDefault","stopPropagation","attr","initHTML","faceHTML","initEvent","document","parseEmoji","r","isEmptyObject","s","$1","img","old","insert","path","tmod","encodeHTML","face","truncateByteLen","l","helper","showPic","pic","defaultpic","othersLink","id","islogin","userId","i_domain","nodeName","markText","_nodeName","textArr","split","marker","RegExp","each","_this","text","indexOf"],"mappings":"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","file":"searchTopics.js","sourcesContent":["var fetch = require('io/fetch');\r\nvar url = require('io/url');\r\n\r\nvar tpl = require('./topics.tpl');\r\nvar Tiles = require('tiles');\r\nvar keywordMark = require('./keywordMark');\r\nvar alert = require('module/popup/alert');\r\nrequire('module/tmodHelper/showPic')();\r\nrequire('module/tmodHelper/truncateByteLen')();\r\nrequire('module/tmodHelper/othersLink')();\r\n\r\n// 发送统计数据用\r\n// var buriedPoint = require('utils/buriedPoint');\r\n// buriedPoint.setPageData('searchTopic');\r\n\r\nvar tiles = new Tiles({\r\n    columnWidth: 242\r\n}, '[data-node=tiles]');\r\nvar _decodeURIComponent = function(uri) {\r\n    if (!uri) {\r\n        return uri;\r\n    }\r\n    var result;\r\n    try {\r\n        result = decodeURIComponent(uri);\r\n    } catch (ex) {\r\n        result = unescape(uri);\r\n    }\r\n    return result;\r\n};\r\nvar keyword = _decodeURIComponent($('[data-node=tiles]').data('keyword'));\r\nvar $loadMore = $('[data-action=loadMore]');\r\nvar $loading = $('[data-node=loading]');\r\n// 加载更多\r\nvar firing = false; // 是否正在加载\r\nvar page = 1;\r\nvar finished = false; // 数据是否全部加载完毕\r\n\r\nvar beforeLoad = function() {\r\n    $loadMore.hide();\r\n    $loading.show();\r\n};\r\n\r\nvar noMoreData = function(str) {\r\n    var msg = str || '没有更多数据';\r\n    $loadMore.find('span').html(msg);\r\n    $loadMore.off().show();\r\n    $loading.hide();\r\n};\r\n\r\nvar load = function() {\r\n    if (firing) {\r\n        return;\r\n    }\r\n    if (finished) {\r\n        noMoreData();\r\n        return;\r\n    }\r\n    firing = true;\r\n    beforeLoad();\r\n    fetch.get(url.get('searchTopics'), {\r\n        data: {\r\n            word: keyword,\r\n            page_num: page,\r\n            pagesize: 20\r\n        }\r\n    }).done(function(json /*, textStatus, jqXHR*/ ) {\r\n        if (json.code === 200) {\r\n            var modelidPage = (page-1)*20;//埋点用的modelid增加基点\r\n            page++;\r\n            var topics = json.data.topics || [];\r\n            if (topics.length == 0) {\r\n                finished = true;\r\n                noMoreData('无相关话题');\r\n            } else {\r\n                $loading.hide();\r\n                // 增加modelid埋点\r\n                var modelid;\r\n                for( var i=0;i<topics.length;i++ ){\r\n                \tmodelid = i+modelidPage+1+'';\r\n                    switch (modelid.length){\r\n                        case 1:\r\n                            modelid = '000'+modelid;\r\n                            break;\r\n                        case 2:\r\n                            modelid = '00'+modelid;\r\n                            break;\r\n                        case 3:\r\n                            modelid = '0'+modelid;\r\n                            break;\r\n                        default:\r\n                            modelid = modelid;\r\n                    }\r\n                    topics[i].modelid = $_CONFIG['sshtjg'] + modelid;\r\n                }\r\n                topics.group_domain = $_CONFIG.group_domain;\r\n                tiles.appended($(tpl({\r\n                    topics: topics\r\n                })));\r\n                keywordMark.init({\r\n                    a: $('[data-node=list_title]'),\r\n                    b: $('[data-node=list_description]')\r\n                }, keyword);\r\n                if (topics.length < 20) {\r\n                    $loadMore.off().hide();\r\n                    $loading.hide();\r\n                } else {\r\n                    $loadMore.show();\r\n                }\r\n            }\r\n        } else {\r\n            finished = true;\r\n            noMoreData();\r\n        }\r\n    }).fail(function() {\r\n        alert(\"数据请求失败 请稍后尝试\");\r\n    }).always(function() {\r\n        firing = false;\r\n    });\r\n    return false;\r\n};\r\n\r\nvar init = function() {\r\n    load();\r\n    $loadMore.on('click', load); // 加载更多\r\n\r\n    /*\r\n    share.shareItem($('[data-node=groupWrap]'), '[data-node=share]', function(conf){\r\n    \tconf.url = $_CONFIG.group_domain + conf.url;\r\n    \tconf.title = conf.title + '这儿有我们志趣相投的小伙伴，快加入我们吧！';\r\n    });\r\n    */\r\n};\r\ninit();\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/searchTopics/index.js","/*TMODJS:{}*/\r\n!function () {\r\n\tfunction a(a, b) {\r\n\t\treturn (/string|function/.test(typeof b) ? h : g)(a, b)\r\n\t}\r\n\r\n\tfunction b(a, c) {\r\n\t\treturn \"string\" != typeof a && (c = typeof a, \"number\" === c ? a += \"\" : a = \"function\" === c ? b(a.call(a)) : \"\"), a\r\n\t}\r\n\r\n\tfunction c(a) {\r\n\t\treturn l[a]\r\n\t}\r\n\r\n\tfunction d(a) {\r\n\t\treturn b(a).replace(/&(?![\\w#]+;)|[<>\"']/g, c)\r\n\t}\r\n\r\n\tfunction e(a, b) {\r\n\t\tif (m(a))for (var c = 0, d = a.length; d > c; c++)b.call(a, a[c], c, a); else for (c in a)b.call(a, a[c], c)\r\n\t}\r\n\r\n\tfunction f(a, b) {\r\n\t\tvar c = /(\\/)[^\\/]+\\1\\.\\.\\1/, d = (\"./\" + a).replace(/[^\\/]+$/, \"\"), e = d + b;\r\n\t\tfor (e = e.replace(/\\/\\.\\//g, \"/\"); e.match(c);)e = e.replace(c, \"/\");\r\n\t\treturn e\r\n\t}\r\n\r\n\tfunction g(b, c) {\r\n\t\tvar d = a.get(b) || i({filename: b, name: \"Render Error\", message: \"Template not found\"});\r\n\t\treturn c ? d(c) : d\r\n\t}\r\n\r\n\tfunction h(a, b) {\r\n\t\tif (\"string\" == typeof b) {\r\n\t\t\tvar c = b;\r\n\t\t\tb = function () {\r\n\t\t\t\treturn new k(c)\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar d = j[a] = function (c) {\r\n\t\t\ttry {\r\n\t\t\t\treturn new b(c, a) + \"\"\r\n\t\t\t} catch (d) {\r\n\t\t\t\treturn i(d)()\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn d.prototype = b.prototype = n, d.toString = function () {\r\n\t\t\treturn b + \"\"\r\n\t\t}, d\r\n\t}\r\n\r\n\tfunction i(a) {\r\n\t\tvar b = \"{Template Error}\", c = a.stack || \"\";\r\n\t\tif (c)c = c.split(\"\\n\").slice(0, 2).join(\"\\n\"); else for (var d in a)c += \"<\" + d + \">\\n\" + a[d] + \"\\n\\n\";\r\n\t\treturn function () {\r\n\t\t\treturn \"object\" == typeof console && console.error(b + \"\\n\\n\" + c), b\r\n\t\t}\r\n\t}\r\n\r\n\tvar j = a.cache = {}, k = this.String, l = {\r\n\t\t\"<\": \"&#60;\",\r\n\t\t\">\": \"&#62;\",\r\n\t\t'\"': \"&#34;\",\r\n\t\t\"'\": \"&#39;\",\r\n\t\t\"&\": \"&#38;\"\r\n\t}, m = Array.isArray || function (a) {\r\n\t\t\treturn \"[object Array]\" === {}.toString.call(a)\r\n\t\t}, n = a.utils = {\r\n\t\t$helpers: {}, $include: function (a, b, c) {\r\n\t\t\treturn a = f(c, a), g(a, b)\r\n\t\t}, $string: b, $escape: d, $each: e\r\n\t}, o = a.helpers = n.$helpers;\r\n\ta.get = function (a) {\r\n\t\treturn j[a.replace(/^\\.\\//, \"\")]\r\n\t}, a.helper = function (a, b) {\r\n\t\to[a] = b\r\n\t}, module.exports = a\r\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_tmodjs-loader@1.0.1@tmodjs-loader/runtime.js\n// module id = 34\n// module chunks = 0 1 2 3 4 5 7 9 13 15 16 20 21 22 26 27 29 30 32 34 35 38 43 44 45","var Dialog = require('dialog');\nvar noop = function() {};\n\nvar create = function(content, options) {\n    content = content || '';\n    options = options || {};\n    var defaults = {\n        fixed: true,\n        modal: true,\n        autofocus: false,\n        content: '<p class=\"del-pop-p\">' + content + '</p>',\n        className: 'pop-box',\n        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n        ok: noop\n    };\n    $.extend(true, defaults, options);\n    var d = Dialog(defaults);\n\n    var header = d._$('header');\n    var title = d._$('title');\n    if(!options.title){\n        title.css('borderBottom', 'none');\n    }\n    header.show();\n    d.show();\n    return d;\n};\n\nmodule.exports = create;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/alert.js","var imgPath = $_CONFIG.imgpath + '/images/emoji/';\n\nvar ext = '.png';\n\nvar groupOne = [{\n    name: '微笑',\n    url: 'weixiao'\n}, {\n    name: '色',\n    url: 'se'\n}, {\n    name: '亲亲',\n    url: 'qinqin'\n}, {\n    name: '得意',\n    url: 'deyi'\n}, {\n    name: '流泪',\n    url: 'liulei'\n}, {\n    name: '害羞',\n    url: 'haixiu'\n}, {\n    name: '闭嘴',\n    url: 'bizui'\n}, {\n    name: '鼓掌',\n    url: 'guzhang'\n}, {\n    name: '大哭',\n    url: 'daku'\n}, {\n    name: '尴尬',\n    url: 'ganga'\n}, {\n    name: '生气',\n    url: 'shengqi'\n}, {\n    name: '调皮',\n    url: 'tiaopi'\n}, {\n    name: '呲牙',\n    url: 'ciya'\n}, {\n    name: '惊讶',\n    url: 'jingya'\n}, {\n    name: '委屈',\n    url: 'weiqu'\n}, {\n    name: '吐血',\n    url: 'tuxue'\n}, {\n    name: '冷汗',\n    url: 'lenghan'\n}, {\n    name: '抓狂',\n    url: 'zhuakuang'\n}, {\n    name: '难过',\n    url: 'nanguo'\n}, {\n    name: '偷笑',\n    url: 'touxiao'\n}, {\n    name: '白眼',\n    url: 'baiyan'\n}, {\n    name: '不屑',\n    url: 'buxie'\n}, {\n    name: '快哭了',\n    url: 'kuaikule'\n}];\n\nvar groupTwo = [{\n    name: '困',\n    url: 'kun'\n}, {\n    name: '装酷',\n    url: 'zhuangku'\n}, {\n    name: '大笑',\n    url: 'daxiao'\n}, {\n    name: '偷瞄',\n    url: 'toumiao'\n}, {\n    name: '奋斗',\n    url: 'fendou'\n}, {\n    name: '咒骂',\n    url: 'zhouma'\n}, {\n    name: '疑问',\n    url: 'yiwen'\n}, {\n    name: '晕',\n    url: 'yun'\n}, {\n    name: '捶打',\n    url: 'chuida'\n}, {\n    name: '再见',\n    url: 'zaijian'\n}, {\n    name: '抠鼻',\n    url: 'koubi'\n}, {\n    name: '发呆',\n    url: 'fadai'\n}, {\n    name: '坏笑',\n    url: 'huaixiao'\n}, {\n    name: '哈欠',\n    url: 'haqian'\n}, {\n    name: '鄙视',\n    url: 'bishi'\n}, {\n    name: '睡觉',\n    url: 'shuijiao'\n}, {\n    name: '饿',\n    url: 'e'\n}, {\n    name: '阴险',\n    url: 'yinxian'\n}, {\n    name: '难受',\n    url: 'nanshou'\n}, {\n    name: '可怜',\n    url: 'kelian'\n}, {\n    name: '撇嘴',\n    url: 'piezui'\n}, {\n    name: '石化',\n    url: 'shihua'\n}, {\n    name: '泪眼',\n    url: 'leiyan'\n}];\n\nvar groupThree = [{\n    name: '嘘',\n    url: 'xu'\n}, {\n    name: '哼哼',\n    url: 'hengheng'\n}, {\n    name: '爱慕',\n    url: 'aimu'\n}, {\n    name: '财迷',\n    url: 'caimi'\n}, {\n    name: '耶',\n    url: 'ye'\n}, {\n    name: '思考',\n    url: 'sikao'\n}, {\n    name: '骷髅',\n    url: 'kulou'\n}, {\n    name: '痛哭',\n    url: 'tongku'\n}, {\n    name: '恭喜',\n    url: 'gongxi'\n}, {\n    name: '捂脸',\n    url: 'wulian'\n}, {\n    name: '嘿哈',\n    url: 'heiha'\n}, {\n    name: '机智',\n    url: 'jizhi'\n}, {\n    name: '皱眉',\n    url: 'zhoumei'\n}, {\n    name: '安慰',\n    url: 'anwei'\n}, {\n    name: '飞吻',\n    url: 'feiwen'\n}, {\n    name: '奸笑',\n    url: 'jianxiao'\n}, {\n    name: '猪头',\n    url: 'zhutou'\n}, {\n    name: '玫瑰',\n    url: 'meigui'\n}, {\n    name: '凋谢',\n    url: 'diaoxie'\n}, {\n    name: '爱心',\n    url: 'aixin'\n}, {\n    name: '心碎',\n    url: 'xinsui'\n}, {\n    name: '蛋糕',\n    url: 'dangao'\n}, {\n    name: '喝水',\n    url: 'heshui'\n}];\n\nvar groupFour = [{\n    name: '西瓜',\n    url: 'xigua'\n}, {\n    name: '咖啡',\n    url: 'kafei'\n}, {\n    name: '啤酒',\n    url: 'pijiu'\n}, {\n    name: '包包',\n    url: 'baobao'\n}, {\n    name: '高跟鞋',\n    url: 'gaogenxie'\n}, {\n    name: '帽子',\n    url: 'maozi'\n}, {\n    name: '口红',\n    url: 'kouhong'\n}, {\n    name: '裙子',\n    url: 'qunzi'\n}, {\n    name: 'T恤',\n    url: 'txu'\n}, {\n    name: '裤子',\n    url: 'kuzi'\n}, {\n    name: '眼镜',\n    url: 'yanjing'\n}, {\n    name: '太阳镜',\n    url: 'taiyangjing'\n}, {\n    name: '蜡烛',\n    url: 'lazhu'\n}, {\n    name: '礼物',\n    url: 'liwu'\n}, {\n    name: '红包',\n    url: 'hongbao'\n}, {\n    name: '拥抱',\n    url: 'yongbao'\n}, {\n    name: '太阳',\n    url: 'taiyang'\n}, {\n    name: '月亮',\n    url: 'yueliang'\n}, {\n    name: '便便',\n    url: 'bianbian'\n}, {\n    name: '炸弹',\n    url: 'zhadan'\n}, {\n    name: '菜刀',\n    url: 'caidao'\n}, {\n    name: '握手',\n    url: 'woshou'\n}, {\n    name: '胜利',\n    url: 'shengli'\n}];\n\nvar groupFive = [{\n    name: '赞',\n    url: 'zan'\n}, {\n    name: 'OK',\n    url: 'ok'\n}, {\n    name: '勾引',\n    url: 'gouyin'\n}, {\n    name: 'NO',\n    url: 'no'\n}, {\n    name: '打脸',\n    url: 'dalian'\n}, {\n    name: '抱拳',\n    url: 'baoquan'\n}, {\n    name: '乒乓球',\n    url: 'pingpangqiu'\n}, {\n    name: '足球',\n    url: 'zuqiu'\n}, {\n    name: '篮球',\n    url: 'lanqiu'\n}];\n\nvar format = function(arr) {\n    for (var i = 0, len = arr.length; i < len; i++) {\n        var emoji = arr[i];\n        emoji.url = imgPath + emoji.url + ext;\n    }\n    return arr;\n};\n\nmodule.exports = format(groupOne.concat(groupTwo, groupThree, groupFour, groupFive));\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/face/emoji.js","/**\n * 浮动式瀑布流,不再对每一个 tile进行绝对定位，而是根据容器宽度和tile的宽度，\n *\t将容器分为若干列，将砖块放入到最短的列中即可。\n *\n * var tiles = new Tiles({}, '[data-node=tiles]');\n */\n\nvar settings = {};\n\nfunction Tiles(options, element) {\n\tthis.element = $(element);\n\tthis.$tiles = this.element.children();\n\n\tthis._create(options);\n\tthis._init();\n}\n\nTiles.prototype = {\n\tconstructor: Tiles,\n\t_getTiles: function() {\n\t\treturn this.element.children();\n\t},\n\n\t_create: function(options) {\n\t\tthis.options = $.extend(true, {}, settings, options || {});\n\n\t\tvar container = this.element;\n\t\tvar width = this.columnWidth = this._getColumnWidth();\n\t\tvar colNums = this._getColumns();\n\n\t\tfor (var i = 0; i < colNums; i = i + 1) {\n\t\t\t$('<div style=\"float:left;width:' + width + 'px;\" data-node=\"tiles-col\"></div>').appendTo(container);\n\t\t}\n\t\tthis.cols = container.find('> [data-node=tiles-col]');\n\n\t},\n\n\t/*getInstance: function() {\n\t\treturn $.data(this.element[0], prefix);\n\t},*/\n\n\t_getColumns: function() { //calculates number of columns\n\t\tvar containerWidth = this.element.width();\n\t\tvar colNum = Math.floor(containerWidth / this.columnWidth);\n\t\tcolNum = Math.max(colNum, 1);\n\t\treturn (this.colNum = colNum);\n\t},\n\n\t_init: function() {\n\t\tthis.layout(this.$tiles);\n\t},\n\n\t_getColumnWidth: function() { //指定的列宽或第一个砖块的宽或者是容器的宽\n\t\treturn this.options.columnWidth || this.$tiles.outerWidth(true) || this.element.width();\n\t},\n\n\tappended: function($tiles, callback) {\n\t\tthis.$tiles = this.$tiles.add($tiles);\n\t\tthis.layout($tiles, callback);\n\t},\n\n\tdestroy: function() {\n\t\t// this.element.removeData(prefix);\n\t},\n\n\tlayout: function($tiles) {\n\t\tfor (var i = 0, len = $tiles.length; i < len; i++) {\n\t\t\tthis._placeTile($tiles[i]);\n\t\t}\n\t},\n\n\t_placeTile: function(tile) {\n\t\tthis.cols.eq(this.getShortestColumn()).append(tile);\n\t},\n\n\tgetShortestColumn: function() {\n\t\tvar result = 0,\n\t\t\tcols = this.cols,\n\t\t\tlen = cols.length,\n\t\t\tshortest, h;\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\th = cols[i].offsetHeight || cols[i].scrollHeight;\n\t\t\tif (i == 0) {\n\t\t\t\tshortest = h;\n\t\t\t}\n\t\t\tif (h < shortest) {\n\t\t\t\tshortest = h;\n\t\t\t\tresult = i;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n};\n\nmodule.exports = Tiles;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin/tiles.js","/**\n * [truncate 按字节截取字符串]\n * @param  {[function]}  getLength [获取长度的方法]\n * @param  {[string]}  string [截取的字符串]\n * @param  {[number]}  byteLength [截取的长度]\n * @return {string}           [返回截取后的字符串]\n */\nvar byteLen = require('./byteLen');\n\nfunction isHighSurrogate(codePoint) {\n    return codePoint >= 0xd800 && codePoint <= 0xdbff;\n}\n\nfunction isLowSurrogate(codePoint) {\n    return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n}\n\n// Truncate string by size in bytes\nfunction truncate(string, byteLength) {\n    if (typeof string !== \"string\") {\n        throw new Error(\"Input must be string\");\n    }\n\n    var charLength = string.length;\n    var curByteLength = 0;\n    var codePoint;\n    var segment;\n\n    for (var i = 0; i < charLength; i += 1) {\n        codePoint = string.charCodeAt(i);\n        segment = string[i];\n\n        if (isHighSurrogate(codePoint) && isLowSurrogate(string.charCodeAt(i + 1))) {\n            i += 1;\n            segment += string[i];\n        }\n\n        curByteLength += byteLen(segment);\n\n        if (curByteLength === byteLength) {\n            return string.slice(0, i + 1);\n        } else if (curByteLength > byteLength) {\n            return string.slice(0, i - segment.length + 1);\n        }\n    }\n\n    return string;\n}\n\nmodule.exports = truncate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/truncate.js","var byteLen = function (str) {\n    if (str == null) return 0;\n    if (typeof str != \"string\") {\n        str += \"\";\n    }\n    return str.replace(/[^\\x00-\\xff]/g, \"01\").length;\n}\n\nmodule.exports = byteLen;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/byteLen.js","var html = function(str, reg) {\n    return str ? str.replace(reg || /[&<\">'](?:(amp|lt|ldquo|rdquo|quot|gt|#39|nbsp|#\\d+);)?/g, function(a, b) {\n        if (b) {\n            return a;\n        } else {\n            return {\n                '<': '&lt;',\n                '&': '&amp;',\n                '\"': '&quot;',\n                '“': '&ldquo;',\n                '”': '&rdquo;',\n                '>': '&gt;',\n                \"'\": '&#39;'\n            }[a]\n        }\n\n    }) : '';\n};\n\nmodule.exports = html;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/encodeHtml.js","var emojis = require('./emoji');\r\nvar backward = require('./backward');\r\nvar faceTpl = require('./face.tpl');\r\n\r\nvar faceReg,\r\n    faceUrl,\r\n    defaultIndex = 0;\r\n\r\n// 将表情转换成map\r\nvar emojiMap = {};\r\n\r\n// 数据适配转换\r\nvar makeData = function(data) {\r\n    var total = data.length;\r\n    var offset = 24;\r\n    var page = Math.ceil(total / offset);\r\n    var list = [];\r\n\r\n    for (var i = 0; i < page; i++) {\r\n        list[i] = [];\r\n        var end = offset * (i + 1);\r\n        end = end > total ? total : end;\r\n        for (var j = i * offset; j < end; j++) {\r\n            var emoji = data[j];\r\n            list[i].push(emoji);\r\n            emojiMap[emoji.name] = emoji.url;\r\n        }\r\n    }\r\n    return {\r\n        page: new Array(page),\r\n        list: list\r\n    };\r\n};\r\n// 表情层显示\r\nvar show = function(x, y) {\r\n    setShowIndex(0);\r\n    $('[data-node=faceBox]').css({\r\n        left: x + 'px',\r\n        top: y + 'px'\r\n    }).show();\r\n};\r\n// 表情层隐藏\r\nvar hide = function() {\r\n    $('[data-node=faceBox]').hide();\r\n};\r\n// tab方式显示所选页\r\nvar setShowIndex = function(index) {\r\n    index = index || defaultIndex;\r\n\r\n    $('[data-action=facePage] > li').eq(index).addClass('active').siblings('li').removeClass('active');\r\n    $('[data-node=faceList] > div').eq(index).removeClass('hide').siblings('div').addClass('hide');\r\n};\r\n\r\n/**\r\n * 插入表情，回调数据\r\n * @param  {Function} fn     回调函数\r\n * @param  {Boolean}  isHide 点击表情后是否隐藏表情浮层，默认隐藏\r\n * @return {[type]}          null\r\n */\r\nvar insertFace = function(fn, isHide) {\r\n    $('body').on('click', '[data-face]', function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        faceReg = $(this).data('face');\r\n        faceUrl = $(this).attr('src');\r\n        fn({\r\n            reg: faceReg,\r\n            url: faceUrl\r\n        });\r\n        isHide !== false && $('[data-node=faceBox]').hide();\r\n    });\r\n};\r\n// 初始化表情弹层\r\nvar initHTML = function(fn) {\r\n    var data = makeData(emojis);\r\n    var faceHTML = faceTpl(data);\r\n    $('body').append(faceHTML);\r\n    fn();\r\n};\r\n// 初始化事件\r\nvar initEvent = function() {\r\n    $('body').on('click', '[data-node=faceBox]', function(e) {\r\n        e.stopPropagation();\r\n    });\r\n    $(document).on('click', function() {\r\n        $('[data-node=faceBox]').hide();\r\n    });\r\n    // 分页切换显示\r\n    $('[data-node=faceBox]').on('mouseenter', '[data-action=facePage] > li', function() {\r\n        var index = $(this).index();\r\n        setShowIndex(index);\r\n    });\r\n};\r\n\r\n// 把表情占位符替换成img\r\nvar parseEmoji = function(str) {\r\n    var r = /(\\[([\\s\\S]+?)\\])/g;\r\n    if ($.isEmptyObject(emojiMap)) {\r\n        makeData(emojis);\r\n    }\r\n\r\n    return str.replace(r, function(s, $1, name) {\r\n        var img = emojiMap[name];\r\n        if (img) {\r\n            return '<img width=\"22\" height=\"22\" src=\"' + img + '\" />';\r\n        } else {\r\n            // 兼容旧版表情\r\n            var old = backward[name];\r\n            if (old) {\r\n                return '<img width=\"22\" height=\"22\" src=\"' + old.url + '\" />';\r\n            }\r\n            return s;\r\n        }\r\n    });\r\n};\r\n\r\nvar init = function() {\r\n    initHTML(initEvent);\r\n};\r\n\r\nmodule.exports = {\r\n    init: init,\r\n    insert: insertFace,\r\n    show: show,\r\n    hide: hide,\r\n    parseEmoji: parseEmoji\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/face/face.js","var path = $_CONFIG.imgpath + '/images/emoji/';\nvar ext = '.png';\n\nvar backward = {\n    '亲': {\n        name: '亲亲',\n        url: path + 'qinqin' + ext\n    },\n    '愤怒': {\n        name: '生气',\n        url: path + 'shengqi' + ext\n    },\n    '惊恐': {\n        name: '惊讶',\n        url: path + 'jingya' + ext\n    },\n    '迷茫': {\n        name: '委屈',\n        url: path + 'weiqu' + ext\n    },\n    '伤心': {\n        name: '难过',\n        url: path + 'nanguo' + ext\n    },\n    '努力': {\n        name: '奋斗',\n        url: path + 'fendou' + ext\n    },\n    'YY': {\n        name: ' 坏笑',\n        url: path + 'huaixiao' + ext\n    },\n    '恶心': {\n        name: '难受',\n        url: path + 'nanshou' + ext\n    }\n};\n\nmodule.exports = backward;\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/face/backward.js","var template=require('tmodjs-loader/runtime');\nmodule.exports=template('src/js/module/popup/face/face',function($data,$filename\n/*``*/) {\n'use strict';var $utils=this,$helpers=$utils.$helpers,$each=$utils.$each,list=$data.list,v=$data.v,i=$data.i,face=$data.face,$index=$data.$index,$escape=$utils.$escape,page=$data.page,$out='';$out+='<div data-node=\"faceBox\" class=\"imoj-box\" style=\"position: absolute;z-index: 9999;display:none\"> <em class=\"sanjiao\"></em> <div data-node=\"faceList\" class=\"imoj-list\"> ';\n$each(list,function(v,i){\n$out+=' <div class=\"imoj-content clearfix ';\nif(i){\n$out+='hide';\n}\n$out+='\"> ';\n$each(v,function(face,$index){\n$out+=' <a href=\"javascript:;\"> <img width=\"22\" height=\"22\" data-face=\"[';\n$out+=$escape(face.name);\n$out+=']\" src=\"';\n$out+=$escape(face.url);\n$out+='\" alt=\"';\n$out+=$escape(face.name);\n$out+='\" title=\"';\n$out+=$escape(face.name);\n$out+='\"> </a> ';\n});\n$out+=' </div> ';\n});\n$out+=' </div> <ul data-action=\"facePage\" class=\"pagination\"> ';\n$each(page,function(v,i){\n$out+=' <li ';\nif(i==0){\n$out+='class=\"active\"';\n}\n$out+='>';\n$out+=$escape(i+1);\n$out+='</li> ';\n});\n$out+=' </ul> </div>';\nreturn new String($out);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/module/popup/face/face.tpl\n// module id = 76\n// module chunks = 2 5 15 20 21 29 30 32 44","/**\n * truncateByteLen  - tmod helpers\n * @author Zhengchun Fu\n */\nvar tmod = require('tmodjs-loader/runtime');\nvar truncate = require('utils/truncate');\nvar byteLen = require('utils/byteLen');\nvar encodeHTML = require('utils/encodeHtml');\nvar face = require('module/popup/face/face');\n\nvar truncateByteLen = function(str, len) {\n\tvar l = byteLen(str);\n\tvar s;\n\tif (l > len) {\n\t\ts = truncate(str, len) + '...';\n\t} else {\n\t\ts = str;\n\t}\n\treturn face.parseEmoji(encodeHTML(s));\n};\n\nmodule.exports = function() {\n\ttmod.helper('truncateByteLen', truncateByteLen);\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/tmodHelper/truncateByteLen.js","/**\n * showPic  - tmod helpers\n * 社交部分显示默认图片\n * @author Zhengchun Fu\n */\nvar tmod = require('tmodjs-loader/runtime');\nvar showPic = function(pic, defaultpic) {\n\tif (pic === '') {\n\t\treturn $_CONFIG.imgpath + '/images/public/' + defaultpic;\n\t} else {\n\t\treturn pic;\n\t}\n};\n\nmodule.exports = function() {\n\ttmod.helper('showPic', showPic);\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/tmodHelper/showPic.js","/**\n * othersLink  - tmod helpers\n * 他人主页链接跳转\n * @author Qiaoli\n */\n\nvar tmod = require('tmodjs-loader/runtime');\nvar othersLink = function(id) {\n    if ($_CONFIG.islogin !== '0' && $_CONFIG.userId == id) {\n        return $_CONFIG.i_domain + 'member/profileHome';\n    } else {\n        return $_CONFIG.group_domain + 'ta/' + id + '.html';\n    }\n};\n\nmodule.exports = function() {\n    tmod.helper('othersLink', othersLink);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/tmodHelper/othersLink.js","var template=require('tmodjs-loader/runtime');\nmodule.exports=template('src/js/page/searchTopics/topics',function($data,$filename\n/*``*/) {\n'use strict';var $utils=this,$helpers=$utils.$helpers,$each=$utils.$each,topics=$data.topics,topic=$data.topic,index=$data.index,topicFirstPic=$data.topicFirstPic,$escape=$utils.$escape,$string=$utils.$string,$out='';$each(topics,function(topic,index){\n$out+=' ';\nif(topic.topic){\n$out+=' ';\nif(topicFirstPic === \"\"){\n$out+=' <div class=\"circle-box no-pic\"> ';\n}else{\n$out+=' <div modelid=\"';\n$out+=$escape(topic.modelid);\n$out+='\" class=\"circle-box\"> ';\n}\n$out+=' <div class=\"mg-negative\"> ';\nif(topic.topic.topicFirstPic === \"\"){\n$out+=' <span class=\"topic-tag topic-tag-static\"> ';\n}else{\n$out+=' <span class=\"topic-tag\"> ';\n}\n$out+=' ';\nif(topic.user){\n$out+=' <a href=\"';\n$out+=$escape($helpers. othersLink(topic.user.id ));\n$out+='\" target=\"_blank\"> <em class=\"icon-lysy\"> <img src=\"';\n$out+=$escape($helpers. showPic(topic.user.facePicUrl , 'head-default.png'));\n$out+='\" title=\"';\n$out+=$escape(topic.user.nickname);\n$out+='\" onerror=\"imgError(this)\"> </em> ';\n$out+=$escape(topic.user.nickname);\n$out+=' </a> ';\n}else{\n$out+=' <a href=\"javascript:;\" style=\"cursor: default;\"> <em class=\"icon-lysy\"> <img src=\"\" title=\"\" onerror=\"imgError(this)\"> </em> ';\n}\n$out+=' </span> ';\nif(topic.topic.topicFirstPic !== \"\"){\n$out+=' <div class=\"list-img\"> <a href=\"';\n$out+=$escape(topics.group_domain);\n$out+='topic/';\n$out+=$escape(topic.topic.id);\n$out+='.html\" target=\"_blank\">  <img src=\"';\n$out+=$escape(topic.topic.topicFirstPic);\n$out+='\" title=\"\" onerror=\"imgError(this);\"> ';\nif(topic.topic.picType == 'video'){\n$out+=' <em class=\"icon-play\"></em> ';\n}\n$out+=' </a> </div> ';\n}\n$out+=' <div class=\"list-title\"> <p class=\"list-title-content\"> <a data-node=\"list_title\" href=\"';\n$out+=$escape(topics.group_domain);\n$out+='topic/';\n$out+=$escape(topic.topic.id);\n$out+='.html\" target=\"_blank\">';\n$out+=$string($helpers. truncateByteLen(topic.topic.name , '52'));\n$out+='</a> <span class=\"list-title-time\">';\n$out+=$escape(topic.topic.time_str);\n$out+='</span> </p> </div> <p data-node=\"list_description\" class=\"list-description\">';\n$out+=$string($helpers. truncateByteLen(topic.topic.topicContent , '74'));\n$out+='</p> <div class=\"text-icon\"> ';\nif(topic.like){\n$out+=' <a href=\"javascript:;\" data-action=\"like\" data-id=\"';\n$out+=$escape(topic.id);\n$out+='\" data-type=\"1\" data-praise=\"';\n$out+=$escape(topic.like.isLike === false ? 1 : 0);\n$out+='\" data-count=';\n$out+=$escape(topic.like.userQuantity);\n$out+='> <em class=\"icon-like\"></em> ';\n$out+=$escape(topic.like.userQuantity);\n$out+=' </a> ';\n}\n$out+=' <a href=\"javascript:;\" class=\"a-share\"> <em class=\"icon-discuss\"></em> <span>';\n$out+=$escape(topic.topic.topicReplyNum);\n$out+='</span> </a> <!-- <a data-action=\"shareto\" data-surl=\"';\n$out+=$escape(topics.groupDomain);\n$out+='topic/detail?tid=';\n$out+=$escape(topic.id);\n$out+='\" data-stitle=\"这儿有我们志趣相投的小伙伴，快加入我们吧\" data-spic=\"\" href=\"javascript:;\" class=\"a-share\"> <em class=\"icon icon-share\"></em>分享到 </a> --> </div> </div> </div> ';\n}\n$out+=' ';\n});\n$out+=' ';\nreturn new String($out);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/page/searchTopics/topics.tpl\n// module id = 202\n// module chunks = 21","//参数：\n//nodeName:jquery选择器对象或对象集合,为直接包含所要过滤内容的节点\n//keywordMark.init({\n//\ta:$('[data-node=list_title]'),\n//\tb:$('[data-node=list_description]')\n//},keyword);\n//markText:需要替换成的文字\nvar init = function(nodeName, markText) {\n    var _nodeName = nodeName;\n    var textArr = markText.split('+');\n    var marker = function(nodeName, markText) {\n        var reg = new RegExp(markText, 'g');\n        for (var i in nodeName) {\n            $(nodeName[i]).each(function() {\n                var _this = $(this);\n                var text = _this.html();\n                if (text.indexOf(markText) > -1 && (text.indexOf('img') == -1 && text.indexOf('src') == -1)) {\n                    text = text.replace(reg, '<aside style=\"color:red;display:inline\">' + markText + '</aside>');\n                    _this.html(text);\n                }\n            });\n        }\n    };\n    for (var i = 0; i < textArr.length; i++) {\n        if (textArr[i].length > 0) {\n            marker(_nodeName, textArr[i]);\n        }\n    }\n};\n\nmodule.exports = {\n    init: init\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/searchTopics/keywordMark.js"],"sourceRoot":""}