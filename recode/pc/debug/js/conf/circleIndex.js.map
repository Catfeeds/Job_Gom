{"version":3,"sources":["webpack:///./src/js/page/circleIndex/index.js","webpack:///./~/_tmodjs-loader@1.0.1@tmodjs-loader/runtime.js?5041*","webpack:///./src/js/page/circleIndex/screenLit.js","webpack:///./src/js/page/circleIndex/getData.js","webpack:///./src/js/module/hint.js?34fa","webpack:///./src/js/module/atgregion.js","webpack:///./src/js/page/circleIndex/slider.js","webpack:///./src/js/plugin/jquery.bxslider.js","webpack:///./src/js/page/circleIndex/imgLazyload.js","webpack:///./src/js/plugin/jquery.lazyload.js","webpack:///./src/js/page/circleIndex/hotConTab.js","webpack:///./src/js/page/circleIndex/tabChange.js","webpack:///./src/js/page/circleIndex/tabWidget/index.js","webpack:///./src/js/page/circleIndex/tabWidget/repFace.js","webpack:///./src/js/module/popup/face/emoji.js","webpack:///./src/js/page/circleIndex/joinCircle.js","webpack:///./src/js/page/circleIndex/tabWidget/money.tpl","webpack:///./src/js/page/circleIndex/tabWidget/money-right.tpl","webpack:///./src/js/page/circleIndex/tabWidget/circleTab.tpl","webpack:///./src/js/page/circleIndex/goon/index.js","webpack:///./src/js/page/circleIndex/goon/goOn.tpl"],"names":["require","init","slider","bannerSlider","ggSlider","screenChange","$","window","width","removeClass","addClass","onresize","module","exports","fetch","url","toast","Pubsub","chunkAry","arr","num","ret","forEach","item","i","push","length","getData","ids","type","cb","da","groupDomain","$_CONFIG","api","get","data","done","success","renderTopic","$container","selector","each","key","val","sel","$item","find","topicLike","likeQuantity","topicSpeak","replyQuantity","text","circleStatus","joinStatus","overrun","attr","renderCircle","circleMember","memberQuantity","circleTopic","topicQuantity","status","maxUsers","renderGoods","salePrice","mostRebate","$moneyBox","$goodsPrice","$returnMoney","getIds","ary","idx","id","inArray","idStr","join","initTopic","topicIds","initCircle","circleIds","initGoods","goodIds","goodAry","split","chunk","index","sub","$publicMask","$publicTips","timer","events","off","on","hide","msg","options","defaults","duration","callback","extend","clearTimeout","show","append","css","offsetHeight","setTimeout","location","hostname","len","domain","getCookieArea","ss_service_gome","dataType","jsonpCallback","value","atgregion","cookie","expires","path","pub","$selector","bxSlider","adaptiveHeight","startSlide","infiniteLoop","auto","autoHover","useCSS","pagerTriggerEvent","$bannerBox","$bannerImgBox","$goodsBannerBox","$goodsBannerImg","destorySlider","destroySlider","destoryBanner","destoryGG","plugin","mode","slideSelector","hideControlOnEnd","speed","easing","slideMargin","randomStart","captions","ticker","tickerHover","adaptiveHeightSpeed","video","preloadImages","responsive","slideZIndex","wrapperClass","touchEnabled","swipeThreshold","oneToOneTouch","preventDefaultSwipeX","preventDefaultSwipeY","pager","pagerType","pagerShortSeparator","pagerSelector","buildPager","pagerCustom","controls","nextText","prevText","nextSelector","prevSelector","autoControls","startText","stopText","autoControlsCombine","autoControlsSelector","pause","autoStart","autoDirection","autoDelay","autoSlideForOnePage","minSlides","maxSlides","moveSlides","slideWidth","onSliderLoad","onSlideBefore","onSlideAfter","onSlideNext","onSlidePrev","onSliderResize","fn","el","windowWidth","windowHeight","height","settings","parseInt","children","Math","floor","random","active","carousel","minThreshold","maxThreshold","working","interval","animProp","usingCSS","div","document","createElement","props","style","undefined","cssPrefix","replace","toLowerCase","setup","wrap","viewport","parent","loader","prepend","position","slidesShowing","getNumberSlidesShowing","overflow","maxWidth","getViewportMaxWidth","margin","listStyle","getSlideWidth","zIndex","display","eq","appendCaptions","last","getPagerQty","fitVids","preloadSelector","appendPager","appendControls","appendControlsAuto","after","loadElements","start","total","count","slice","sliceAppend","clone","slicePrepend","remove","setSlidePosition","getViewportHeight","redrawSlider","initialized","bind","resizeWindow","initAuto","initTicker","updatePagerActive","updateDirectionControls","currentIndex","getMoveBy","add","outerHeight","max","apply","map","parseFloat","newElWidth","wrapWidth","childWidth","first","pagerQty","ceil","breakPoint","counter","lastChild","setPositionProperty","left","outerWidth","lastShowingIndex","top","params","propValue","unbind","updateAfterSlideTransition","tickerLoop","animateObj","animate","populatePager","pagerHtml","linkContent","isFunction","pagerEl","html","clickPagerBind","next","prev","clickNextBind","clickPrevBind","directionEl","stop","autoEl","clickStartBind","clickStopBind","updateAutoControls","title","e","stopAuto","goToNextSlide","preventDefault","goToPrevSlide","startAuto","pagerLink","currentTarget","pagerIndex","goToSlide","slideIndex","oldIndex","state","timeout","hover","autoPaused","startPosition","totalDimens","ratio","property","newSpeed","abs","resumeSpeed","reset","animateProperty","resetValue","windowWidthNew","windowHeightNew","call","direction","filter","fadeOut","fadeIn","moveBy","requestEl","preventControlUpdate","setInterval","clearInterval","getCurrentSlide","getCurrentSlideElement","getSlideCount","removeAttr","unwrap","reloadSlider","jQuery","tabLazy","lazyload","effect","failure_limit","$hotConTagsBox","$lis","$topicTag","$tagItem","tabWidget","$circleFloor","$circleTabBox","$moneyFloor","$moneyTabBox","_$","clickFn","$this","siblings","floorName","parents","tagName","initEvent","lazy","repFace","joinCircle","moneyTpl","moneyRTpl","circleTpl","$travelTab","$beautyTab","$homeTab","$videoTab","$moneyTab","$moneyRTab","$moneyTabsBox","topic_path","tabObj","renderTab","$circleCon","isCircle","dpBefore","htmlStr","groups","_group_ids","_group_url","indexOf","topics","v","name","topic_url","daBanner","banners","_product_ids","_product_url","daR","products","rightStr","fromFetch","feData","fail","fromCatch","tabFloor","hasData","emoji","reg","str","imgStr","originText","arguments","imgPath","imgpath","ext","groupOne","groupTwo","groupThree","groupFour","groupFive","format","concat","loginPop","checkLoginStatus","getCircleStatus","$sucPop","$sucCha","$failPop","$failCha","$failText","$sucText","sucTimer","failTimer","initCha","handlePop","joinFlag","fromLogin","groupId","post","groupid","result","code","$joinCircleSuc","message","$joinCircleChk","error","$joinCircleRef","always","initJoin","isLogin","goOnTpl","bpBefore","initGoOn","topicPath","group_domain","imgDomain","$GLOBAL_CONFIG","pcimgpath","dataAry","modNum","topicURL","goOnData","$goOn","goOnFlag","scrollLoading","scrollTop","offset"],"mappings":"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,KAApD;AACA,iBAAImF,WAAW;AACX0D,uBAAM,CADK;AAEXG,sBAAK;AAFM,cAAf;AAIA,iBAAIiD,QAAQ;AACRpD,uBAAM,CADE;AAERG,sBAAK;AAFG,cAAZ;AAIA;AACA,iBAAI5R,OAAOkM,QAAP,CAAgBlB,aAAhB,IAAiC,MAArC,EAA6C;AACzC+C,4BAAWjC,GAAGjJ,IAAH,CAAQ,WAAR,EAAqBqO,KAArB,GAA6BnD,QAA7B,EAAX;AACA;AACH,cAHD,MAGO;AACH8G,yBAAQ7U,OAAOoM,QAAP,CAAgB8E,KAAhB,GAAwBnD,QAAxB,EAAR;AACH;AACD,iBAAI+G,kBAAkB9U,OAAOkM,QAAP,CAAgBzD,IAAhB,IAClB,YADkB,GACH,CAACsF,SAAS0D,IADP,GACc,CAAC1D,SAAS6D,GAD9C;AAEA,iBAAImD,aAAa/U,OAAOkM,QAAP,CAAgBzD,IAAhB,IAAwB,YAAxB,GACb,CAACoM,MAAMpD,IADM,GACC,CAACoD,MAAMjD,GADzB;AAEA,iBAAIC,SAAS;AACTkD,6BAAYA;AADH,cAAb;AAGAvD,iCAAoBsD,eAApB,EAAqC,QAArC,EAA+ClM,KAA/C,EACIiJ,MADJ;AAEH,UA1BD;;AA4BA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,cAAa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA,yCAAwC,oCAAoC;;AAE5E;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,MAAK;;AAEL,EAAC,kB;;;;;;;;;ACzPD;;;;;AAKA,KAAII,iBAAiBnW,EAAE,2BAAF,CAArB;AACA,KAAIoW,OAAOD,eAAe1T,IAAf,CAAoB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MAhDH,CAgDU,YAAW;AACjBZ,wBAAW,CAAX;AACH,UAlDD;AAmDH;AACD,SAAIC,SAAJ,EAAe;AACXZ,yBAAgBzW,IAAhB;AACH,MAFD,MAEO;AACHA;AACH;AACJ,EA/DD;;AAiEA,KAAIiY,WAAW,SAAXA,QAAW,CAASrJ,CAAT,EAAY;AACvB,SAAI,CAACwI,QAAL,EAAe;AACfA,gBAAW,CAAX;AACA,SAAI5E,QAAQ9W,EAAE,IAAF,CAAZ;AACA,SAAIwc,UAAU1B,kBAAd;AACA,SAAI0B,OAAJ,EAAa;AACTlF,oBAAWR,KAAX;AACH,MAFD,MAEO;AACH4E,oBAAW,CAAX;AACAb,kBAAS,YAAW;AAChBvD,wBAAWR,KAAX,EAAkB,IAAlB;AACH,UAFD;AAGH;AACD,YAAO,KAAP;AACH,EAdD;AAeA,KAAIK,YAAY,SAAZA,SAAY,GAAW;AACvBnX,OAAE,MAAF,EAAUuF,EAAV,CAAa,OAAb,EAAsB,4BAAtB,EAAoDgX,QAApD;AACH,EAFD;AAGAjc,QAAOC,OAAP,CAAeZ,IAAf,GAAsBwX,SAAtB,C;;;;;;;AC1IA;AACA;AACA;AACA,cAAa,+HAA+H;AAC5I;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC,E;;;;;;AC3BD;AACA;AACA;AACA,cAAa,+HAA+H;AAC5I;AACA;AACA;AACA;AACA,6DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC,E;;;;;;AClCD;AACA;AACA;AACA,cAAa,4LAA4L;AACzM,yHAAwH;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC,E;;;;;;;;ACtFD;;;;;;AAMA,oBAAAzX,CAAQ,EAAR;AACA,KAAIe,MAAM,mBAAAf,CAAQ,EAAR,CAAV;AACA,KAAIc,QAAQ,mBAAAd,CAAQ,EAAR,CAAZ;AACA,KAAI+c,UAAU,mBAAA/c,CAAQ,EAAR,CAAd;;AAEA,KAAIwC,aAAalC,EAAE,uBAAF,CAAjB;;AAEA,KAAI0c,WAAW,iBAAf;;AAEA,KAAIC,WAAW,SAAXA,QAAW,GAAW;AACtB,SAAIC,YAAYjb,SAASkb,YAAT,GAAwB,QAAxC;AACA,SAAIC,YAAYC,eAAeC,SAA/B;AACA,SAAItb,cAAcC,SAAS,cAAT,CAAlB;AACA,SAAIC,MAAMF,cAAcjB,IAAIoB,GAAJ,CAAQ,iBAAR,CAAxB;AACArB,WAAMqB,GAAN,CAAUD,GAAV,EAAeG,IAAf,CAAoB,UAASD,IAAT,EAAe;AAC/B,aAAI,CAACA,KAAKE,OAAN,IAAiB,CAACF,KAAKA,IAAL,CAAUV,MAAhC,EAAwC;AACxC,aAAI6b,UAAUnb,KAAKA,IAAnB;AACA,cAAK,IAAIZ,IAAI,CAAb,EAAgBA,IAAI+b,QAAQ7b,MAA5B,EAAoCF,GAApC,EAAyC;AACrC,iBAAIgc,SAAShc,IAAI,CAAjB;AACA+b,qBAAQ/b,CAAR,EAAWic,QAAX,GAAsBP,YAAYK,QAAQ/b,CAAR,EAAWiD,EAAvB,GAA4B,eAA5B,GAA8CuY,QAA9C,GAAyDQ,MAA/E;AACH;AACD,aAAI7K,OAAOoK,QAAQ;AACfW,uBAAUH,OADK;AAEf7C,sBAAS0C;AAFM,UAAR,CAAX;AAIA5a,oBAAW+D,MAAX,CAAkBjG,EAAEqS,IAAF,CAAlB;AACA,aAAIgL,QAAQrd,EAAE,kBAAF,CAAZ;AACAqd,eAAM5a,IAAN,CAAW,KAAX,EAAkBuT,QAAlB,CAA2B;AACvBC,qBAAQ,QADe;AAEvBC,4BAAe;AAFQ,UAA3B;AAIH,MAjBD;AAkBH,EAvBD;AAwBA,KAAIoH,WAAW,CAAf;;AAEA,KAAIC,gBAAgB,SAAhBA,aAAgB,GAAW;AAC3B,SAAI,CAACD,QAAL,EAAe;AACf,SAAItd,EAAE6M,QAAF,EAAY2Q,SAAZ,KAA0Bxd,EAAEC,MAAF,EAAU4L,MAAV,EAA1B,GAA+C,GAA/C,IAAsD3J,WAAWub,MAAX,GAAoBjM,GAApB,GAA0BtP,WAAW2J,MAAX,EAApF,EAAyG;AACrG;AACA8Q;AACAW,oBAAW,CAAX;AACH;AACJ,EAPD;AAQA,KAAInG,YAAY,SAAZA,SAAY,GAAW;AACvBnX,OAAEC,MAAF,EAAUsF,EAAV,CAAa,QAAb,EAAuBgY,aAAvB;AACH,EAFD;AAGAjd,QAAOC,OAAP,CAAeZ,IAAf,GAAsBwX,SAAtB,C;;;;;;;ACpDA;AACA;AACA;AACA,cAAa,2JAA2J;AACxK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC,E","file":"circleIndex.js","sourcesContent":["//判断是否窄屏\nrequire('./screenLit').init();\n//获取首页动态数据\nrequire('./getData').init();\n//轮播\nvar slider = require('./slider');\nslider.bannerSlider();\nslider.ggSlider();\n//图片懒加载\nrequire('./imgLazyload');\n//热门内容tab切换\nrequire('./hotConTab');\n//初始化楼层tab切换\nrequire('./tabChange').init();\n//初始化加入圈子\nrequire('./joinCircle').init();\n//不断寻觅滚动加载\nrequire('./goon/index').init();\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/index.js","/*TMODJS:{}*/\r\n!function () {\r\n\tfunction a(a, b) {\r\n\t\treturn (/string|function/.test(typeof b) ? h : g)(a, b)\r\n\t}\r\n\r\n\tfunction b(a, c) {\r\n\t\treturn \"string\" != typeof a && (c = typeof a, \"number\" === c ? a += \"\" : a = \"function\" === c ? b(a.call(a)) : \"\"), a\r\n\t}\r\n\r\n\tfunction c(a) {\r\n\t\treturn l[a]\r\n\t}\r\n\r\n\tfunction d(a) {\r\n\t\treturn b(a).replace(/&(?![\\w#]+;)|[<>\"']/g, c)\r\n\t}\r\n\r\n\tfunction e(a, b) {\r\n\t\tif (m(a))for (var c = 0, d = a.length; d > c; c++)b.call(a, a[c], c, a); else for (c in a)b.call(a, a[c], c)\r\n\t}\r\n\r\n\tfunction f(a, b) {\r\n\t\tvar c = /(\\/)[^\\/]+\\1\\.\\.\\1/, d = (\"./\" + a).replace(/[^\\/]+$/, \"\"), e = d + b;\r\n\t\tfor (e = e.replace(/\\/\\.\\//g, \"/\"); e.match(c);)e = e.replace(c, \"/\");\r\n\t\treturn e\r\n\t}\r\n\r\n\tfunction g(b, c) {\r\n\t\tvar d = a.get(b) || i({filename: b, name: \"Render Error\", message: \"Template not found\"});\r\n\t\treturn c ? d(c) : d\r\n\t}\r\n\r\n\tfunction h(a, b) {\r\n\t\tif (\"string\" == typeof b) {\r\n\t\t\tvar c = b;\r\n\t\t\tb = function () {\r\n\t\t\t\treturn new k(c)\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar d = j[a] = function (c) {\r\n\t\t\ttry {\r\n\t\t\t\treturn new b(c, a) + \"\"\r\n\t\t\t} catch (d) {\r\n\t\t\t\treturn i(d)()\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn d.prototype = b.prototype = n, d.toString = function () {\r\n\t\t\treturn b + \"\"\r\n\t\t}, d\r\n\t}\r\n\r\n\tfunction i(a) {\r\n\t\tvar b = \"{Template Error}\", c = a.stack || \"\";\r\n\t\tif (c)c = c.split(\"\\n\").slice(0, 2).join(\"\\n\"); else for (var d in a)c += \"<\" + d + \">\\n\" + a[d] + \"\\n\\n\";\r\n\t\treturn function () {\r\n\t\t\treturn \"object\" == typeof console && console.error(b + \"\\n\\n\" + c), b\r\n\t\t}\r\n\t}\r\n\r\n\tvar j = a.cache = {}, k = this.String, l = {\r\n\t\t\"<\": \"&#60;\",\r\n\t\t\">\": \"&#62;\",\r\n\t\t'\"': \"&#34;\",\r\n\t\t\"'\": \"&#39;\",\r\n\t\t\"&\": \"&#38;\"\r\n\t}, m = Array.isArray || function (a) {\r\n\t\t\treturn \"[object Array]\" === {}.toString.call(a)\r\n\t\t}, n = a.utils = {\r\n\t\t$helpers: {}, $include: function (a, b, c) {\r\n\t\t\treturn a = f(c, a), g(a, b)\r\n\t\t}, $string: b, $escape: d, $each: e\r\n\t}, o = a.helpers = n.$helpers;\r\n\ta.get = function (a) {\r\n\t\treturn j[a.replace(/^\\.\\//, \"\")]\r\n\t}, a.helper = function (a, b) {\r\n\t\to[a] = b\r\n\t}, module.exports = a\r\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_tmodjs-loader@1.0.1@tmodjs-loader/runtime.js\n// module id = 34\n// module chunks = 0 1 2 3 4 5 7 9 13 15 16 20 21 22 26 27 29 30 32 34 35 38 43 44 45","function screenChange(){\n    $(window).width() > 1024 ? $('body').removeClass('screen-lit') : $('body').addClass('screen-lit');\n};\nfunction init(){\n\twindow.onresize = screenChange;\n\tscreenChange();\n}\nmodule.exports.init = init;\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/screenLit.js","/*\n *@author:dongyukuan\n *@desc:圈子、话题、商品的数据动态获取渲染\n *@date:2017/5/8\n */\n\nvar fetch = require('io/fetch');\nvar url = require(\"io/url\");\nvar toast = require('module/hint').init;\nvar Pubsub = require('io/pubsub');\nrequire('module/atgregion')();\n//拆分数组\nvar chunkAry = function(arr, num) {\n    num = num * 1 || 1;\n    var ret = [];\n    arr.forEach(function(item, i) {\n        if (i % num === 0) {\n            ret.push([]);\n        }\n        ret[ret.length - 1].push(item);\n    });\n    return ret;\n};\nvar getData = function(ids, type, cb) {\n    var da = {\n        type: type,\n        ids: ids\n    };\n    var groupDomain = $_CONFIG['group_domain'];\n    var api = groupDomain + url.get('getIndexData');\n    fetch.get(api, {\n        data: da\n    }).done(function(data) {\n        if (data.success) {\n            cb(data);\n        }\n    })\n};\n// 渲染话题的点赞数及评论数\nvar renderTopic = function($container, selector) {\n    return function(da) {\n        var data = da.data;\n        $.each(data, function(key, val) {\n            var sel = '[data-id=\"' + key + '\"]';\n            var $item = $container.find(sel);\n            var topicLike = val.likeQuantity || 0;\n            var topicSpeak = val.replyQuantity || 0;\n            if ($item.length) {\n                $item.find('[data-node=topicLike]').text(topicLike);\n                $item.find('[data-node=topicSpeak]').text(topicSpeak);\n            }\n        })\n    }\n};\n//操作按钮的状态\n//overrun为圈子成员是否达到上限\n//joinStatus为加入圈子的状态\nvar circleStatus = function($item, joinStatus, overrun) {\n        $item.find('[data-action=joinCircle]').attr('data-overrun', overrun);\n        switch (joinStatus) {\n            case 0:\n                $item.find('[data-action=joinCircle]').addClass('none');\n                $item.find('[data-node=joinCircleRef]').addClass('none');\n                $item.find('[data-node=joinCircleChk]').addClass('none');\n                $item.find('[data-node=joinCircleSuc]').removeClass('none');\n                break;\n            case 1:\n                $item.find('[data-action=joinCircle]').removeClass('none');\n                $item.find('[data-node=joinCircleSuc]').addClass('none');\n                $item.find('[data-node=joinCircleRef]').addClass('none');\n                $item.find('[data-node=joinCircleChk]').addClass('none');\n                break;\n            case 2:\n                $item.find('[data-action=joinCircle]').addClass('none');\n                $item.find('[data-node=joinCircleSuc]').addClass('none');\n                $item.find('[data-node=joinCircleRef]').addClass('none');\n                $item.find('[data-node=joinCircleChk]').removeClass('none');\n                break;\n        }\n    }\n    //渲染圈子的成员、话题数及加入状态\nvar renderCircle = function($container, selector, cb) {\n    return function(da) {\n        var data = da.data;\n        $.each(data, function(key, val) {\n            var sel = '[data-id=\"' + key + '\"]';\n            var $item = $container.find(sel);\n            var circleMember = val.memberQuantity || 0;\n            var circleTopic = val.topicQuantity || 0;\n            var joinStatus = val.status;\n            var overrun = !!(val.memberQuantity >= val.maxUsers); //是否超出最大人数\n            if ($item.length) {\n                $item.find('[data-node=circleTopic]').text(circleTopic);\n                $item.find('[data-node=circleMember]').text(circleMember);\n                circleStatus($item, joinStatus, overrun);\n                cb = cb || function() {};\n                cb();\n            }\n        })\n    }\n};\n//渲染商品价格及返利标识\nvar renderGoods = function($container, selector) {\n    return function(da) {\n        var data = da.data;\n        $.each(data, function(key, val) {\n            var sel = '[data-id=\"' + key + '\"]';\n            var $item = $container.find(sel);\n            var salePrice = val.salePrice !== null ? val.salePrice : '暂无售价';\n            var mostRebate = val.mostRebate || 0;\n            if ($item.length) {\n                $item.find('[data-node=goodsPrice]').text(salePrice);\n                var $moneyBox = $item.find('[data-node=moneyBox]');\n                var $goodsPrice = $item.find('[data-node=goodsPrice]');\n                var $returnMoney = $item.find('[data-node=returnMoney]');\n                if (salePrice) { //price是否存在\n                    $moneyBox.removeClass('none');\n                    $goodsPrice.text(salePrice);\n                    if (mostRebate > 0) { //返利\n                        $returnMoney.removeClass('none');\n                    }\n                };\n            }\n        })\n    }\n};\nvar getIds = function(selector, $container) {\n    var ary = [];\n    $container.find(selector).each(function(idx, val) {\n        var id = $(val).attr('data-id');\n        if ($.inArray(id, ary) < 0) {\n            ary.push(id);\n        }\n    });\n    var idStr = ary.join(',');\n    return idStr;\n}\n\nvar initTopic = function($container) {\n    $container = $container || $('body');\n    var selector = '[data-node=topicData]';\n    var topicIds = getIds(selector, $container);\n    var type = 'topic';\n    getData(topicIds, type, renderTopic($container, selector));\n}\nvar initCircle = function(cb, $container) {\n    $container = $container || $('body');\n    cb = cb || function() {};\n    var selector = '[data-node=circleData]';\n    var circleIds = getIds(selector, $container);\n    var type = 'group';\n    getData(circleIds, type, renderCircle($container, selector, cb));\n}\nvar initGoods = function($container) {\n    $container = $container || $('body');\n    var selector = '[data-node=goodsData]';\n    var goodIds = getIds(selector, $container);\n    var goodAry = goodIds.split(',');\n    var chunk = chunkAry(goodAry, 10);\n    var type = 'product';\n    chunk.forEach(function(item, index) {\n        var idStr = item.join(',');\n        getData(idStr, type, renderGoods($container, selector));\n    })\n}\nvar init = function() {\n    initTopic();\n    initCircle();\n    Pubsub('getAreaId').sub(initGoods);\n}\nmodule.exports = {\n    init: init,\n    initCircle: initCircle,\n    initGoods: initGoods,\n    initTopic: initTopic\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/getData.js","/*\r\n * 弹层提示弹窗\r\n * zhaodonghong\r\n */\r\n\r\n\r\n\r\nvar $publicMask;\r\nvar $publicTips;\r\nvar timer;\r\n\r\n\r\nvar events = function() {\r\n\r\n    $publicMask.off().on('click', function() {\r\n        $publicMask.hide();\r\n        $publicTips.hide();\r\n    });\r\n\r\n    $publicTips.off().on('click', function() {\r\n        $publicMask.hide();\r\n        $publicTips.hide();\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * msg string 提示信息\r\n * options object \r\n * options.duration settimout消失时间\r\n * options.callback 提示消失的回调\r\n*/\r\nvar init = function(msg, options) {\r\n    var defaults = {\r\n        duration: 2000,\r\n        callback: function() {}\r\n    };\r\n\r\n    $.extend(defaults, options || {});\r\n\r\n    clearTimeout(timer);\r\n    $publicMask = $('[data-action=\"publicMask\"]');\r\n    $publicTips = $('[data-action=\"publicTips\"]');\r\n\r\n    if ($publicMask.length > 0) {\r\n\r\n        $publicMask.show();\r\n        $publicTips.show().text(msg);\r\n\r\n    } else {\r\n\r\n        $('body').append('<div data-action=\"publicMask\" class=\"ordi-toast\"></div><div class=\"ordi-toast-txt\" data-action=\"publicTips\">' + msg + '</div>');\r\n        $publicMask = $('[data-action=\"publicMask\"]');\r\n        $publicTips = $('[data-action=\"publicTips\"]');\r\n        events();\r\n    }\r\n\r\n    $publicTips.css('margin', -$publicTips[0].offsetHeight / 2 + 'px 0 0 ' + -$publicTips.width() / 2 + 'px');\r\n\r\n    timer = setTimeout(function() {\r\n\r\n        $publicMask.hide();\r\n        $publicTips.hide();\r\n\r\n        defaults.callback();\r\n\r\n    }, defaults.duration);\r\n};\r\n\r\n\r\n\r\nmodule.exports = {\r\n    init: init,\r\n    events: events\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/hint.js","var fetch = require('io/fetch');\nvar Pubsub = require('io/pubsub');\n\nvar url = location.hostname.split('.');\nvar len = url.length;\nvar domain = url[len - 2] + '.' + url[len - 1];\nvar getCookieArea = function() {\n    fetch.get($_CONFIG.ss_service_gome + 'item/v1/cookie/getregion/flag/public/ip', {\n        dataType: 'jsonp',\n        jsonpCallback: \"ip\"\n    }).done(function(data) {\n        var value = data.atgregion;\n        if (data.success === true) {\n            $.cookie('atgregion', value, {\n                expires: 1,\n                path: '/',\n                domain: domain\n            });\n            Pubsub('getAreaId').pub();\n        }\n    })\n};\nmodule.exports = getCookieArea;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/atgregion.js","/*\n *@author:dongyukuan\n *@desc:初始化轮播图 \n *@date:2017/5/5\n */\nrequire('../../plugin/jquery.bxslider');\n\nvar slider = function($selector){\n\t$selector.bxSlider({\n\t    adaptiveHeight: true,\n\t    startSlide: 0,\n\t    infiniteLoop: true,\n\t    auto: true,\n\t    autoHover: true,\n\t    useCSS: false,\n\t    pagerTriggerEvent: 'mouseenter'\n\t})\n}\n//首页banner\nvar $bannerBox = $('[data-node=bannerBox]');\nvar $bannerImgBox = $bannerBox.find('[data-node=bannerImg]');\nvar bannerSlider = function(){\n\tslider($bannerImgBox)\n};\n//逛逛商品banner\nvar $goodsBannerBox = $('[data-node=goodsBannerBox]');\nvar $goodsBannerImg = $goodsBannerBox.find('[data-node=goodsBannerImg]');\nvar ggSlider = function(){\n\tslider($goodsBannerImg)\n};\n//摧毁轮播\nvar destorySlider = function($selector){\n\t$selector.destroySlider();\n}\nvar destoryBanner = function(){\n\tdestorySlider($bannerImgBox);\n};\n\nvar destoryGG = function(){\n\tdestorySlider($goodsBannerImg);\n}\nmodule.exports = {\n\tbannerSlider:bannerSlider,\n\tggSlider:ggSlider,\n\tdestoryGG:destoryGG,\n\tdestoryBanner:destoryBanner\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/slider.js","/**\n * BxSlider v4.1.2 - Fully loaded, responsive content slider\n * http://bxslider.com\n *\n * Copyright 2014, Steven Wanderski - http://stevenwanderski.com - http://bxcreative.com\n * Written while drinking Belgian ales and listening to jazz\n *\n * Released under the MIT license - http://opensource.org/licenses/MIT\n */\n\n(function($) {\n\n    var plugin = {};\n\n    var defaults = {\n\n        // GENERAL\n        mode: 'horizontal',\n        slideSelector: '',\n        infiniteLoop: true,\n        hideControlOnEnd: false,\n        speed: 500,\n        easing: null,\n        slideMargin: 0,\n        startSlide: 0,\n        randomStart: false,\n        captions: false,\n        ticker: false,\n        tickerHover: false,\n        adaptiveHeight: false,\n        adaptiveHeightSpeed: 500,\n        video: false,\n        useCSS: true,\n        preloadImages: 'visible',\n        responsive: true,\n        slideZIndex: 50,\n        wrapperClass: 'bx-wrapper',\n\n        // TOUCH\n        touchEnabled: true,\n        swipeThreshold: 50,\n        oneToOneTouch: true,\n        preventDefaultSwipeX: true,\n        preventDefaultSwipeY: false,\n\n        // PAGER\n        pager: true,\n        pagerType: 'full',\n        pagerShortSeparator: ' / ',\n        pagerSelector: null,\n        buildPager: null,\n        pagerCustom: null,\n        pagerTriggerEvent: 'click',\n\n        // CONTROLS\n        controls: true,\n        nextText: 'Next',\n        prevText: 'Prev',\n        nextSelector: null,\n        prevSelector: null,\n        autoControls: false,\n        startText: 'Start',\n        stopText: 'Stop',\n        autoControlsCombine: false,\n        autoControlsSelector: null,\n\n        // AUTO\n        auto: false,\n        pause: 4000,\n        autoStart: true,\n        autoDirection: 'next',\n        autoHover: false,\n        autoDelay: 0,\n        autoSlideForOnePage: false,\n\n        // CAROUSEL\n        minSlides: 1,\n        maxSlides: 1,\n        moveSlides: 0,\n        slideWidth: 0,\n\n        // CALLBACKS\n        onSliderLoad: function() {},\n        onSlideBefore: function() {},\n        onSlideAfter: function() {},\n        onSlideNext: function() {},\n        onSlidePrev: function() {},\n        onSliderResize: function() {}\n    }\n\n    $.fn.bxSlider = function(options) {\n        if (this.length == 0) return this;\n        // support mutltiple elements\n        if (this.length > 1) {\n            this.each(function() {\n                $(this).bxSlider(options)\n            });\n            return this;\n        }\n\n        // create a namespace to be used throughout the plugin\n        var slider = {};\n        // set a reference to our slider element\n        var el = this;\n        plugin.el = this;\n\n        /**\n         * Makes slideshow responsive\n         */\n        // first get the original window dimens (thanks alot IE)\n        var windowWidth = $(window).width();\n        var windowHeight = $(window).height();\n\n        /**\n         * ===================================================================================\n         * = PRIVATE FUNCTIONS\n         * ===================================================================================\n         */\n\n        /**\n         * Initializes namespace settings to be used throughout plugin\n         */\n        var init = function() {\n            // merge user-supplied options with the defaults\n            slider.settings = $.extend({}, defaults, options);\n            // parse slideWidth setting\n            slider.settings.slideWidth = parseInt(slider.settings.slideWidth);\n            // store the original children\n            slider.children = el.children(slider.settings.slideSelector);\n            // check if actual number of slides is less than minSlides / maxSlides\n            if (slider.children.length < slider.settings.minSlides)\n                slider.settings.minSlides = slider.children.length;\n            if (slider.children.length < slider.settings.maxSlides)\n                slider.settings.maxSlides = slider.children.length;\n            // if random start, set the startSlide setting to random number\n            if (slider.settings.randomStart) slider.settings.startSlide =\n                Math.floor(Math.random() * slider.children.length);\n            // store active slide information\n            slider.active = {\n                    index: slider.settings.startSlide\n                }\n                // store if the slider is in carousel mode (displaying / moving multiple slides)\n            slider.carousel = slider.settings.minSlides > 1 ||\n                slider.settings.maxSlides > 1;\n            // if carousel, force preloadImages = 'all'\n            if (slider.carousel) slider.settings.preloadImages =\n                'all';\n            // calculate the min / max width thresholds based on min / max number of slides\n            // used to setup and update carousel slides dimensions\n            slider.minThreshold = (slider.settings.minSlides *\n                slider.settings.slideWidth) + ((slider.settings\n                .minSlides - 1) * slider.settings.slideMargin);\n            slider.maxThreshold = (slider.settings.maxSlides *\n                slider.settings.slideWidth) + ((slider.settings\n                .maxSlides - 1) * slider.settings.slideMargin);\n            // store the current state of the slider (if currently animating, working is true)\n            slider.working = false;\n            // initialize the controls object\n            slider.controls = {};\n            // initialize an auto interval\n            slider.interval = null;\n            // determine which property to use for transitions\n            slider.animProp = slider.settings.mode == 'vertical' ?\n                'top' : 'left';\n            // determine if hardware acceleration can be used\n            slider.usingCSS = slider.settings.useCSS && slider.settings\n                .mode != 'fade' && (function() {\n                    // create our test div element\n                    var div = document.createElement('div');\n                    // css transition properties\n                    var props = ['WebkitPerspective',\n                        'MozPerspective', 'OPerspective',\n                        'msPerspective'\n                    ];\n                    // test for each property\n                    for (var i in props) {\n                        if (div.style[props[i]] !== undefined) {\n                            slider.cssPrefix = props[i].replace(\n                                'Perspective', '').toLowerCase();\n                            slider.animProp = '-' + slider.cssPrefix +\n                                '-transform';\n                            return true;\n                        }\n                    }\n                    return false;\n                }());\n            // if vertical mode always make maxSlides and minSlides equal\n            if (slider.settings.mode == 'vertical') slider.settings\n                .maxSlides = slider.settings.minSlides;\n            // save original style data\n            el.data(\"origStyle\", el.attr(\"style\"));\n            el.children(slider.settings.slideSelector).each(\n                function() {\n                    $(this).data(\"origStyle\", $(this).attr(\n                        \"style\"));\n                });\n            // perform all DOM / CSS modifications\n            setup();\n        }\n\n        /**\n         * Performs all DOM and CSS modifications\n         */\n        var setup = function() {\n            // wrap el in a wrapper\n            el.wrap('<div class=\"' + slider.settings.wrapperClass +\n                '\"><div class=\"bx-viewport\"></div></div>');\n            // store a namspace reference to .bx-viewport\n            slider.viewport = el.parent();\n            // add a loading div to display while images are loading\n            slider.loader = $('<div class=\"bx-loading\" />');\n            slider.viewport.prepend(slider.loader);\n            // set el to a massive width, to hold any needed slides\n            // also strip any margin and padding from el\n            el.css({\n                width: slider.settings.mode == 'horizontal' ?\n                    (slider.children.length * 100 + 215) +\n                    '%' : 'auto',\n                position: 'relative'\n            });\n            // if using CSS, add the easing property\n            if (slider.usingCSS && slider.settings.easing) {\n                el.css('-' + slider.cssPrefix +\n                    '-transition-timing-function', slider.settings\n                    .easing);\n                // if not using CSS and no easing value was supplied, use the default JS animation easing (swing)\n            } else if (!slider.settings.easing) {\n                slider.settings.easing = 'swing';\n            }\n            var slidesShowing = getNumberSlidesShowing();\n            // make modifications to the viewport (.bx-viewport)\n            slider.viewport.css({\n                width: '100%',\n                overflow: 'hidden',\n                position: 'relative'\n            });\n            slider.viewport.parent().css({\n                maxWidth: getViewportMaxWidth()\n            });\n            // make modification to the wrapper (.bx-wrapper)\n            if (!slider.settings.pager) {\n                slider.viewport.parent().css({\n                    margin: '0 auto 0px'\n                });\n            }\n            // apply css to all slider children\n            slider.children.css({\n                'float': slider.settings.mode ==\n                    'horizontal' ? 'left' : 'none',\n                listStyle: 'none',\n                position: 'relative'\n            });\n            // apply the calculated width after the float is applied to prevent scrollbar interference\n            slider.children.css('width', getSlideWidth());\n            // if slideMargin is supplied, add the css\n            if (slider.settings.mode == 'horizontal' && slider.settings\n                .slideMargin > 0) slider.children.css('marginRight',\n                slider.settings.slideMargin);\n            if (slider.settings.mode == 'vertical' && slider.settings\n                .slideMargin > 0) slider.children.css(\n                'marginBottom', slider.settings.slideMargin);\n            // if \"fade\" mode, add positioning and z-index CSS\n            if (slider.settings.mode == 'fade') {\n                slider.children.css({\n                    position: 'absolute',\n                    zIndex: 0,\n                    display: 'none'\n                });\n                // prepare the z-index on the showing element\n                slider.children.eq(slider.settings.startSlide).css({\n                    zIndex: slider.settings.slideZIndex,\n                    display: 'block'\n                });\n            }\n            // create an element to contain all slider controls (pager, start / stop, etc)\n            slider.controls.el = $('<div class=\"bx-controls\" />');\n            // if captions are requested, add them\n            if (slider.settings.captions) appendCaptions();\n            // check if startSlide is last slide\n            slider.active.last = slider.settings.startSlide ==\n                getPagerQty() - 1;\n            // if video is true, set up the fitVids plugin\n            if (slider.settings.video) el.fitVids();\n            // set the default preload selector (visible)\n            var preloadSelector = slider.children.eq(slider.settings\n                .startSlide);\n            if (slider.settings.preloadImages == \"all\")\n                preloadSelector = slider.children;\n            // only check for control addition if not in \"ticker\" mode\n            if (!slider.settings.ticker) {\n                // if pager is requested, add it\n                if (slider.settings.pager) appendPager();\n                // if controls are requested, add them\n                if (slider.settings.controls) appendControls();\n                // if auto is true, and auto controls are requested, add them\n                if (slider.settings.auto && slider.settings.autoControls)\n                    appendControlsAuto();\n                // if any control option is requested, add the controls wrapper\n                if (slider.settings.controls || slider.settings.autoControls ||\n                    slider.settings.pager) slider.viewport.after(\n                    slider.controls.el);\n                // if ticker mode, do not allow a pager\n            } else {\n                slider.settings.pager = false;\n            }\n            // preload all images, then perform final DOM / CSS modifications that depend on images being loaded\n            loadElements(preloadSelector, start);\n        }\n\n        var loadElements = function(selector, callback) {\n            var total = selector.find('img, iframe').length;\n            if (total == 0) {\n                callback();\n                return;\n            }\n            var count = 0;\n            callback();\n        }\n\n        /**\n         * Start the slider\n         */\n        var start = function() {\n            // if infinite loop, prepare additional slides\n            if (slider.settings.infiniteLoop && slider.settings.mode !=\n                'fade' && !slider.settings.ticker) {\n                var slice = slider.settings.mode == 'vertical' ?\n                    slider.settings.minSlides : slider.settings.maxSlides;\n                var sliceAppend = slider.children.slice(0, slice).clone()\n                    .addClass('bx-clone');\n                var slicePrepend = slider.children.slice(-slice).clone()\n                    .addClass('bx-clone');\n                el.append(sliceAppend).prepend(slicePrepend);\n            }\n            // remove the loading DOM element\n            slider.loader.remove();\n            // set the left / top position of \"el\"\n            setSlidePosition();\n            // if \"vertical\" mode, always use adaptiveHeight to prevent odd behavior\n            if (slider.settings.mode == 'vertical') slider.settings\n                .adaptiveHeight = true;\n            // set the viewport height\n            slider.viewport.height(getViewportHeight());\n            // make sure everything is positioned just right (same as a window resize)\n            el.redrawSlider();\n            // onSliderLoad callback\n            slider.settings.onSliderLoad(slider.active.index);\n            // slider has been fully initialized\n            slider.initialized = true;\n            // bind the resize call to the window\n            if (slider.settings.responsive) $(window).bind('resize',\n                resizeWindow);\n            // if auto is true and has more than 1 page, start the show\n            if (slider.settings.auto && slider.settings.autoStart &&\n                (getPagerQty() > 1 || slider.settings.autoSlideForOnePage)\n            ) initAuto();\n            // if ticker is true, start the ticker\n            if (slider.settings.ticker) initTicker();\n            // if pager is requested, make the appropriate pager link active\n            if (slider.settings.pager) updatePagerActive(slider.settings\n                .startSlide);\n            // check for any updates to the controls (like hideControlOnEnd updates)\n            if (slider.settings.controls) updateDirectionControls();\n            // if touchEnabled is true, setup the touch events\n            //if (slider.settings.touchEnabled && !slider.settings.ticker) initTouch();\n        }\n\n        /**\n         * Returns the calculated height of the viewport, used to determine either adaptiveHeight or the maxHeight value\n         */\n        var getViewportHeight = function() {\n            var height = 0;\n            // first determine which children (slides) should be used in our height calculation\n            var children = $();\n            // if mode is not \"vertical\" and adaptiveHeight is false, include all children\n            if (slider.settings.mode != 'vertical' && !slider.settings\n                .adaptiveHeight) {\n                children = slider.children;\n            } else {\n                // if not carousel, return the single active child\n                if (!slider.carousel) {\n                    children = slider.children.eq(slider.active.index);\n                    // if carousel, return a slice of children\n                } else {\n                    // get the individual slide index\n                    var currentIndex = slider.settings.moveSlides ==\n                        1 ? slider.active.index : slider.active.index *\n                        getMoveBy();\n                    // add the current slide to the children\n                    children = slider.children.eq(currentIndex);\n                    // cycle through the remaining \"showing\" slides\n                    for (i = 1; i <= slider.settings.maxSlides - 1; i++) {\n                        // if looped back to the start\n                        if (currentIndex + i >= slider.children.length) {\n                            children = children.add(slider.children\n                                .eq(i - 1));\n                        } else {\n                            children = children.add(slider.children\n                                .eq(currentIndex + i));\n                        }\n                    }\n                }\n            }\n            // if \"vertical\" mode, calculate the sum of the heights of the children\n            if (slider.settings.mode == 'vertical') {\n                children.each(function(index) {\n                    height += $(this).outerHeight();\n                });\n                // add user-supplied margins\n                if (slider.settings.slideMargin > 0) {\n                    height += slider.settings.slideMargin * (slider\n                        .settings.minSlides - 1);\n                }\n                // if not \"vertical\" mode, calculate the max height of the children\n            } else {\n                height = Math.max.apply(Math, children.map(function() {\n                    return $(this).outerHeight(false);\n                }).get());\n            }\n\n            if (slider.viewport.css('box-sizing') == 'border-box') {\n                height += parseFloat(slider.viewport.css(\n                        'padding-top')) + parseFloat(slider.viewport\n                        .css('padding-bottom')) +\n                    parseFloat(slider.viewport.css(\n                        'border-top-width')) + parseFloat(slider.viewport\n                        .css('border-bottom-width'));\n            } else if (slider.viewport.css('box-sizing') ==\n                'padding-box') {\n                height += parseFloat(slider.viewport.css(\n                    'padding-top')) + parseFloat(slider.viewport\n                    .css('padding-bottom'));\n            }\n\n            return height;\n        }\n\n        /**\n         * Returns the calculated width to be used for the outer wrapper / viewport\n         */\n        var getViewportMaxWidth = function() {\n            var width = '100%';\n            if (slider.settings.slideWidth > 0) {\n                if (slider.settings.mode == 'horizontal') {\n                    width = (slider.settings.maxSlides * slider.settings\n                        .slideWidth) + ((slider.settings.maxSlides -\n                        1) * slider.settings.slideMargin);\n                } else {\n                    width = slider.settings.slideWidth;\n                }\n            }\n            return width;\n        }\n\n        /**\n         * Returns the calculated width to be applied to each slide\n         */\n        var getSlideWidth = function() {\n            // start with any user-supplied slide width\n            var newElWidth = slider.settings.slideWidth;\n            // get the current viewport width\n            var wrapWidth = slider.viewport.width();\n            // if slide width was not supplied, or is larger than the viewport use the viewport width\n            if (slider.settings.slideWidth == 0 ||\n                (slider.settings.slideWidth > wrapWidth && !slider.carousel) ||\n                slider.settings.mode == 'vertical') {\n                newElWidth = wrapWidth;\n                // if carousel, use the thresholds to determine the width\n            } else if (slider.settings.maxSlides > 1 && slider.settings\n                .mode == 'horizontal') {\n                if (wrapWidth > slider.maxThreshold) {\n                    // newElWidth = (wrapWidth - (slider.settings.slideMargin * (slider.settings.maxSlides - 1))) / slider.settings.maxSlides;\n                } else if (wrapWidth < slider.minThreshold) {\n                    newElWidth = (wrapWidth - (slider.settings.slideMargin *\n                            (slider.settings.minSlides - 1))) /\n                        slider.settings.minSlides;\n                }\n            }\n            return newElWidth;\n        }\n\n        /**\n         * Returns the number of slides currently visible in the viewport (includes partially visible slides)\n         */\n        var getNumberSlidesShowing = function() {\n            var slidesShowing = 1;\n            if (slider.settings.mode == 'horizontal' && slider.settings\n                .slideWidth > 0) {\n                // if viewport is smaller than minThreshold, return minSlides\n                if (slider.viewport.width() < slider.minThreshold) {\n                    slidesShowing = slider.settings.minSlides;\n                    // if viewport is larger than minThreshold, return maxSlides\n                } else if (slider.viewport.width() > slider.maxThreshold) {\n                    slidesShowing = slider.settings.maxSlides;\n                    // if viewport is between min / max thresholds, divide viewport width by first child width\n                } else {\n                    var childWidth = slider.children.first().width() +\n                        slider.settings.slideMargin;\n                    slidesShowing = Math.floor((slider.viewport.width() +\n                            slider.settings.slideMargin) /\n                        childWidth);\n                }\n                // if \"vertical\" mode, slides showing will always be minSlides\n            } else if (slider.settings.mode == 'vertical') {\n                slidesShowing = slider.settings.minSlides;\n            }\n            return slidesShowing;\n        }\n\n        /**\n         * Returns the number of pages (one full viewport of slides is one \"page\")\n         */\n        var getPagerQty = function() {\n            var pagerQty = 0;\n            // if moveSlides is specified by the user\n            if (slider.settings.moveSlides > 0) {\n                if (slider.settings.infiniteLoop) {\n                    pagerQty = Math.ceil(slider.children.length /\n                        getMoveBy());\n                } else {\n                    // use a while loop to determine pages\n                    var breakPoint = 0;\n                    var counter = 0\n                        // when breakpoint goes above children length, counter is the number of pages\n                    while (breakPoint < slider.children.length) {\n                        ++pagerQty;\n                        breakPoint = counter +\n                            getNumberSlidesShowing();\n                        counter += slider.settings.moveSlides <=\n                            getNumberSlidesShowing() ? slider.settings\n                            .moveSlides : getNumberSlidesShowing();\n                    }\n                }\n                // if moveSlides is 0 (auto) divide children length by sides showing, then round up\n            } else {\n                pagerQty = Math.ceil(slider.children.length /\n                    getNumberSlidesShowing());\n            }\n            return pagerQty;\n        }\n\n        /**\n         * Returns the number of indivual slides by which to shift the slider\n         */\n        var getMoveBy = function() {\n            // if moveSlides was set by the user and moveSlides is less than number of slides showing\n            if (slider.settings.moveSlides > 0 && slider.settings.moveSlides <=\n                getNumberSlidesShowing()) {\n                return slider.settings.moveSlides;\n            }\n            // if moveSlides is 0 (auto)\n            return getNumberSlidesShowing();\n        }\n\n        /**\n         * Sets the slider's (el) left or top position\n         */\n        var setSlidePosition = function() {\n            // if last slide, not infinite loop, and number of children is larger than specified maxSlides\n            if (slider.children.length > slider.settings.maxSlides &&\n                slider.active.last && !slider.settings.infiniteLoop\n            ) {\n                if (slider.settings.mode == 'horizontal') {\n                    // get the last child's position\n                    var lastChild = slider.children.last();\n                    var position = lastChild.position();\n                    // set the left position\n                    setPositionProperty(-(position.left - (slider.viewport\n                        .width() - lastChild.outerWidth()\n                    )), 'reset', 0);\n                } else if (slider.settings.mode == 'vertical') {\n                    // get the last showing index's position\n                    var lastShowingIndex = slider.children.length -\n                        slider.settings.minSlides;\n                    var position = slider.children.eq(\n                        lastShowingIndex).position();\n                    // set the top position\n                    setPositionProperty(-position.top, 'reset', 0);\n                }\n                // if not last slide\n            } else {\n                // get the position of the first showing slide\n                var position = slider.children.eq(slider.active.index *\n                    getMoveBy()).position();\n                // check for last slide\n                if (slider.active.index == getPagerQty() - 1) slider\n                    .active.last = true;\n                // set the repective position\n                if (position != undefined) {\n                    if (slider.settings.mode == 'horizontal')\n                        setPositionProperty(-position.left, 'reset',\n                            0);\n                    else if (slider.settings.mode == 'vertical')\n                        setPositionProperty(-position.top, 'reset',\n                            0);\n                }\n            }\n        }\n\n        /**\n         * Sets the el's animating property position (which in turn will sometimes animate el).\n         * If using CSS, sets the transform property. If not using CSS, sets the top / left property.\n         *\n         * @param value (int)\n         *  - the animating property's value\n         *\n         * @param type (string) 'slider', 'reset', 'ticker'\n         *  - the type of instance for which the function is being\n         *\n         * @param duration (int)\n         *  - the amount of time (in ms) the transition should occupy\n         *\n         * @param params (array) optional\n         *  - an optional parameter containing any variables that need to be passed in\n         */\n        var setPositionProperty = function(value, type, duration,\n            params) {\n\n        \t//value = Math.round(value/10) * 10;\n\n            // use CSS transform\n            if (slider.usingCSS) {\n                // determine the translate3d value\n                var propValue = slider.settings.mode == 'vertical' ?\n                    'translate3d(0, ' + value + 'px, 0)' :\n                    'translate3d(' + value + 'px, 0, 0)';\n                // add the CSS transition-duration\n                el.css('-' + slider.cssPrefix +\n                    '-transition-duration', duration / 1000 +\n                    's');\n                if (type == 'slide') {\n                    // set the property value\n                    el.css(slider.animProp, propValue);\n                    // bind a callback method - executes when CSS transition completes\n                    el.bind(\n                        'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',\n                        function() {\n                            // unbind the callback\n                            el.unbind(\n                                'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd'\n                            );\n                            updateAfterSlideTransition();\n                        });\n                } else if (type == 'reset') {\n                    el.css(slider.animProp, propValue);\n                } else if (type == 'ticker') {\n                    // make the transition use 'linear'\n                    el.css('-' + slider.cssPrefix +\n                        '-transition-timing-function', 'linear'\n                    );\n                    el.css(slider.animProp, propValue);\n                    // bind a callback method - executes when CSS transition completes\n                    el.bind(\n                        'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',\n                        function() {\n                            // unbind the callback\n                            el.unbind(\n                                'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd'\n                            );\n                            // reset the position\n                            setPositionProperty(params[\n                                    'resetValue'], 'reset',\n                                0);\n                            // start the loop again\n                            tickerLoop();\n                        });\n                }\n                // use JS animate\n            } else {\n                var animateObj = {};\n                animateObj[slider.animProp] = value;\n                if (type == 'slide') {\n                    el.animate(animateObj, duration, slider.settings\n                        .easing,\n                        function() {\n                            updateAfterSlideTransition();\n                        });\n                } else if (type == 'reset') {\n                    el.css(slider.animProp, value)\n                } else if (type == 'ticker') {\n                    el.animate(animateObj, speed, 'linear',\n                        function() {\n                            setPositionProperty(params[\n                                    'resetValue'], 'reset',\n                                0);\n                            // run the recursive loop after animation\n                            tickerLoop();\n                        });\n                }\n            }\n        }\n\n        /**\n         * Populates the pager with proper amount of pages\n         */\n        var populatePager = function() {\n            var pagerHtml = '';\n            var pagerQty = getPagerQty();\n            // loop through each pager item\n            for (var i = 0; i < pagerQty; i++) {\n                var linkContent = '';\n                // if a buildPager function is supplied, use it to get pager link value, else use index + 1\n                if (slider.settings.buildPager && $.isFunction(\n                        slider.settings.buildPager)) {\n                    linkContent = slider.settings.buildPager(i);\n                    slider.pagerEl.addClass('bx-custom-pager');\n                } else {\n                    linkContent = i + 1;\n                    slider.pagerEl.addClass('bx-default-pager');\n                }\n                // var linkContent = slider.settings.buildPager && $.isFunction(slider.settings.buildPager) ? slider.settings.buildPager(i) : i + 1;\n                // add the markup to the string\n                pagerHtml +=\n                    '<span class=\"bx-pager-item\"><a href=\"javascript:void(0)\" data-slide-index=\"' +\n                    i + '\" class=\"bx-pager-link\">' + linkContent +\n                    '</a></span>';\n            }\n            // populate the pager element with pager links\n            slider.pagerEl.html(pagerHtml);\n        }\n\n        /**\n         * Appends the pager to the controls element\n         */\n        var appendPager = function() {\n            if (!slider.settings.pagerCustom) {\n                // create the pager DOM element\n                slider.pagerEl = $('<div class=\"bx-pager\" />');\n                // if a pager selector was supplied, populate it with the pager\n                if (slider.settings.pagerSelector) {\n                    $(slider.settings.pagerSelector).html(slider.pagerEl);\n                    // if no pager selector was supplied, add it after the wrapper\n                } else {\n                    slider.controls.el.addClass('bx-has-pager').append(\n                        slider.pagerEl);\n                }\n                // populate the pager\n                populatePager();\n            } else {\n                slider.pagerEl = $(slider.settings.pagerCustom);\n            }\n            // assign the pager trigger event binding\n            slider.pagerEl.on(\n                slider.settings.pagerTriggerEvent,\n                'a',\n                clickPagerBind\n            );\n        }\n\n        /**\n         * Appends prev / next controls to the controls element\n         */\n        var appendControls = function() {\n            slider.controls.next = $(slider.settings.next);\n            slider.controls.prev = $(slider.settings.prev);\n            // bind click actions to the controls\n            slider.controls.next.bind('click', clickNextBind);\n            slider.controls.prev.bind('click', clickPrevBind);\n            // if nextSlector was supplied, populate it\n            if (slider.settings.nextSelector) {\n                $(slider.settings.nextSelector).append(slider.controls\n                    .next);\n            }\n            // if prevSlector was supplied, populate it\n            if (slider.settings.prevSelector) {\n                $(slider.settings.prevSelector).append(slider.controls\n                    .prev);\n            }\n            // if no custom selectors were supplied\n            if (!slider.settings.nextSelector && !slider.settings.prevSelector) {\n                // add the controls to the DOM\n                slider.controls.directionEl = $(\n                    '<div class=\"bx-controls-direction\" />');\n                // add the control elements to the directionEl\n                slider.controls.directionEl.append(slider.controls.prev)\n                    .append(slider.controls.next);\n                // slider.viewport.append(slider.controls.directionEl);\n                slider.controls.el.addClass(\n                    'bx-has-controls-direction').append(slider.controls\n                    .directionEl);\n            }\n        }\n\n        /**\n         * Appends start / stop auto controls to the controls element\n         */\n        var appendControlsAuto = function() {\n            slider.controls.start = $(\n                '<div class=\"bx-controls-auto-item\"><a class=\"bx-start\" href=\"\">' +\n                slider.settings.startText + '</a></div>');\n            slider.controls.stop = $(\n                '<div class=\"bx-controls-auto-item\"><a class=\"bx-stop\" href=\"\">' +\n                slider.settings.stopText + '</a></div>');\n            // add the controls to the DOM\n            slider.controls.autoEl = $(\n                '<div class=\"bx-controls-auto\" />');\n            // bind click actions to the controls\n            slider.controls.autoEl.on('click', '.bx-start',\n                clickStartBind);\n            slider.controls.autoEl.on('click', '.bx-stop',\n                clickStopBind);\n            // if autoControlsCombine, insert only the \"start\" control\n            if (slider.settings.autoControlsCombine) {\n                slider.controls.autoEl.append(slider.controls.start);\n                // if autoControlsCombine is false, insert both controls\n            } else {\n                slider.controls.autoEl.append(slider.controls.start)\n                    .append(slider.controls.stop);\n            }\n            // if auto controls selector was supplied, populate it with the controls\n            if (slider.settings.autoControlsSelector) {\n                $(slider.settings.autoControlsSelector).html(slider\n                    .controls.autoEl);\n                // if auto controls selector was not supplied, add it after the wrapper\n            } else {\n                slider.controls.el.addClass('bx-has-controls-auto')\n                    .append(slider.controls.autoEl);\n            }\n            // update the auto controls\n            updateAutoControls(slider.settings.autoStart ? 'stop' :\n                'start');\n        }\n\n        /**\n         * Appends image captions to the DOM\n         */\n        var appendCaptions = function() {\n            // cycle through each child\n            slider.children.each(function(index) {\n                // get the image title attribute\n                var title = $(this).find('img:first').attr(\n                    'title');\n                // append the caption\n                if (title != undefined && ('' + title).length) {\n                    $(this).append(\n                        '<div class=\"bx-caption\"><span>' +\n                        title + '</span></div>');\n                }\n            });\n        }\n\n        /**\n         * Click next binding\n         *\n         * @param e (event)\n         *  - DOM event object\n         */\n        var clickNextBind = function(e) {\n            // if auto show is running, stop it\n            if (slider.settings.auto) el.stopAuto();\n            el.goToNextSlide();\n            e.preventDefault();\n        }\n\n        /**\n         * Click prev binding\n         *\n         * @param e (event)\n         *  - DOM event object\n         */\n        var clickPrevBind = function(e) {\n            // if auto show is running, stop it\n            if (slider.settings.auto) el.stopAuto();\n            el.goToPrevSlide();\n            e.preventDefault();\n        }\n\n        /**\n         * Click start binding\n         *\n         * @param e (event)\n         *  - DOM event object\n         */\n        var clickStartBind = function(e) {\n            el.startAuto();\n            e.preventDefault();\n        }\n\n        /**\n         * Click stop binding\n         *\n         * @param e (event)\n         *  - DOM event object\n         */\n        var clickStopBind = function(e) {\n            el.stopAuto();\n            e.preventDefault();\n        }\n\n        /**\n         * Click pager binding\n         *\n         * @param e (event)\n         *  - DOM event object\n         */\n        var clickPagerBind = function(e) {\n            // if auto show is running, stop it\n            if (slider.settings.auto) {\n                el.stopAuto();\n                slider.interval = 1;\n            }\n            var pagerLink = $(e.currentTarget);\n            if (pagerLink.attr('data-slide-index') !== undefined) {\n                var pagerIndex = parseInt(pagerLink.attr(\n                    'data-slide-index'));\n                // if clicked pager link is not active, continue with the goToSlide call\n                if (pagerIndex != slider.active.index) el.goToSlide(\n                    pagerIndex);\n                e.preventDefault();\n            }\n        }\n\n        /**\n         * Updates the pager links with an active class\n         *\n         * @param slideIndex (int)\n         *  - index of slide to make active\n         */\n        var updatePagerActive = function(slideIndex) {\n            // if \"short\" pager type\n            var len = slider.children.length; // nb of children\n            if (slider.settings.pagerType == 'short') {\n                if (slider.settings.maxSlides > 1) {\n                    len = Math.ceil(slider.children.length / slider\n                        .settings.maxSlides);\n                }\n                slider.pagerEl.html((slideIndex + 1) + slider.settings\n                    .pagerShortSeparator + len);\n                return;\n            }\n            // remove all pager active classes\n            slider.pagerEl.find('a').removeClass('active');\n            // apply the active class for all pagers\n            slider.pagerEl.each(function(i, el) {\n                $(el).find('a').eq(slideIndex).addClass(\n                    'active');\n            });\n        }\n\n        /**\n         * Performs needed actions after a slide transition\n         */\n        var updateAfterSlideTransition = function() {\n            // if infinte loop is true\n            if (slider.settings.infiniteLoop) {\n                var position = '';\n                // first slide\n                if (slider.active.index == 0) {\n                    // set the new position\n                    position = slider.children.eq(0).position();\n                    // carousel, last slide\n                } else if (slider.active.index == getPagerQty() - 1 &&\n                    slider.carousel) {\n                    position = slider.children.eq((getPagerQty() -\n                        1) * getMoveBy()).position();\n                    // last slide\n                } else if (slider.active.index == slider.children.length -\n                    1) {\n                    position = slider.children.eq(slider.children.length -\n                        1).position();\n                }\n                if (position) {\n                    if (slider.settings.mode == 'horizontal') {\n                        setPositionProperty(-position.left, 'reset',\n                            0);\n                    } else if (slider.settings.mode == 'vertical') {\n                        setPositionProperty(-position.top, 'reset',\n                            0);\n                    }\n                }\n            }\n            // declare that the transition is complete\n            slider.working = false;\n            // onSlideAfter callback\n            slider.settings.onSlideAfter(slider.children.eq(slider.active\n                .index), slider.oldIndex, slider.active.index);\n        }\n\n        /**\n         * Updates the auto controls state (either active, or combined switch)\n         *\n         * @param state (string) \"start\", \"stop\"\n         *  - the new state of the auto show\n         */\n        var updateAutoControls = function(state) {\n            // if autoControlsCombine is true, replace the current control with the new state\n            if (slider.settings.autoControlsCombine) {\n                slider.controls.autoEl.html(slider.controls[state]);\n                // if autoControlsCombine is false, apply the \"active\" class to the appropriate control\n            } else {\n                slider.controls.autoEl.find('a').removeClass(\n                    'active');\n                slider.controls.autoEl.find('a:not(.bx-' + state +\n                    ')').addClass('active');\n            }\n        }\n\n        /**\n         * Updates the direction controls (checks if either should be hidden)\n         */\n        var updateDirectionControls = function() {\n            if (getPagerQty() == 1) {\n                slider.controls.prev.addClass('disabled');\n                slider.controls.next.addClass('disabled');\n            } else if (!slider.settings.infiniteLoop && slider.settings\n                .hideControlOnEnd) {\n                // if first slide\n                if (slider.active.index == 0) {\n                    slider.controls.prev.addClass('disabled');\n                    slider.controls.next.removeClass('disabled');\n                    // if last slide\n                } else if (slider.active.index == getPagerQty() - 1) {\n                    slider.controls.next.addClass('disabled');\n                    slider.controls.prev.removeClass('disabled');\n                    // if any slide in the middle\n                } else {\n                    slider.controls.prev.removeClass('disabled');\n                    slider.controls.next.removeClass('disabled');\n                }\n            }\n        }\n\n        /**\n         * Initialzes the auto process\n         */\n        var initAuto = function() {\n            // if autoDelay was supplied, launch the auto show using a setTimeout() call\n            if (slider.settings.autoDelay > 0) {\n                var timeout = setTimeout(el.startAuto, slider.settings\n                    .autoDelay);\n                // if autoDelay was not supplied, start the auto show normally\n            } else {\n                el.startAuto();\n            }\n            // if autoHover is requested\n            if (slider.settings.autoHover) {\n                // on el hover\n                el.hover(function() {\n                    // if the auto show is currently playing (has an active interval)\n                    if (slider.interval) {\n                        // stop the auto show and pass true agument which will prevent control update\n                        el.stopAuto(true);\n                        // create a new autoPaused value which will be used by the relative \"mouseout\" event\n                        slider.autoPaused = true;\n                    }\n                }, function() {\n                    // if the autoPaused value was created be the prior \"mouseover\" event\n                    if (slider.autoPaused) {\n                        // start the auto show and pass true agument which will prevent control update\n                        el.startAuto(true);\n                        // reset the autoPaused value\n                        slider.autoPaused = null;\n                    }\n                });\n            }\n        }\n\n        /**\n         * Initialzes the ticker process\n         */\n        var initTicker = function() {\n            var startPosition = 0;\n            // if autoDirection is \"next\", append a clone of the entire slider\n            if (slider.settings.autoDirection == 'next') {\n                el.append(slider.children.clone().addClass(\n                    'bx-clone'));\n                // if autoDirection is \"prev\", prepend a clone of the entire slider, and set the left position\n            } else {\n                el.prepend(slider.children.clone().addClass(\n                    'bx-clone'));\n                var position = slider.children.first().position();\n                startPosition = slider.settings.mode ==\n                    'horizontal' ? -position.left : -position.top;\n            }\n            setPositionProperty(startPosition, 'reset', 0);\n            // do not allow controls in ticker mode\n            slider.settings.pager = false;\n            slider.settings.controls = false;\n            slider.settings.autoControls = false;\n            // if autoHover is requested\n            if (slider.settings.tickerHover && !slider.usingCSS) {\n                // on el hover\n                slider.viewport.hover(function() {\n                    el.stop();\n                }, function() {\n                    // calculate the total width of children (used to calculate the speed ratio)\n                    var totalDimens = 0;\n                    slider.children.each(function(index) {\n                        totalDimens += slider.settings\n                            .mode == 'horizontal' ?\n                            $(this).outerWidth(true) :\n                            $(this).outerHeight(\n                                true);\n                    });\n                    // calculate the speed ratio (used to determine the new speed to finish the paused animation)\n                    var ratio = slider.settings.speed /\n                        totalDimens;\n                    // determine which property to use\n                    var property = slider.settings.mode ==\n                        'horizontal' ? 'left' : 'top';\n                    // calculate the new speed\n                    var newSpeed = ratio * (totalDimens - (\n                        Math.abs(parseInt(el.css(\n                            property)))));\n                    tickerLoop(newSpeed);\n                });\n            }\n            // start the ticker loop\n            tickerLoop();\n        }\n\n        /**\n         * Runs a continuous loop, news ticker-style\n         */\n        var tickerLoop = function(resumeSpeed) {\n            speed = resumeSpeed ? resumeSpeed : slider.settings.speed;\n            var position = {\n                left: 0,\n                top: 0\n            };\n            var reset = {\n                left: 0,\n                top: 0\n            };\n            // if \"next\" animate left position to last child, then reset left to 0\n            if (slider.settings.autoDirection == 'next') {\n                position = el.find('.bx-clone').first().position();\n                // if \"prev\" animate left position to 0, then reset left to first non-clone child\n            } else {\n                reset = slider.children.first().position();\n            }\n            var animateProperty = slider.settings.mode ==\n                'horizontal' ? -position.left : -position.top;\n            var resetValue = slider.settings.mode == 'horizontal' ?\n                -reset.left : -reset.top;\n            var params = {\n                resetValue: resetValue\n            };\n            setPositionProperty(animateProperty, 'ticker', speed,\n                params);\n        }\n\n        /**\n         * Initializes touch events\n         */\n        // var initTouch = function(){\n        // \t// initialize object to contain all touch values\n        // \tslider.touch = {\n        // \t\tstart: {x: 0, y: 0},\n        // \t\tend: {x: 0, y: 0}\n        // \t}\n        // \tslider.viewport.bind('touchstart', onTouchStart);\n        // }\n\n        // /**\n        //  * Event handler for \"touchstart\"\n        //  *\n        //  * @param e (event)\n        //  *  - DOM event object\n        //  */\n        // var onTouchStart = function(e){\n        // \tif(slider.working){\n        // \t\te.preventDefault();\n        // \t}else{\n        // \t\t// record the original position when touch starts\n        // \t\tslider.touch.originalPos = el.position();\n        // \t\tvar orig = e.originalEvent;\n        // \t\t// record the starting touch x, y coordinates\n        // \t\tslider.touch.start.x = orig.changedTouches[0].pageX;\n        // \t\tslider.touch.start.y = orig.changedTouches[0].pageY;\n        // \t\t// bind a \"touchmove\" event to the viewport\n        // \t\tslider.viewport.bind('touchmove', onTouchMove);\n        // \t\t// bind a \"touchend\" event to the viewport\n        // \t\tslider.viewport.bind('touchend', onTouchEnd);\n        // \t}\n        // }\n\n        // /**\n        //  * Event handler for \"touchmove\"\n        //  *\n        //  * @param e (event)\n        //  *  - DOM event object\n        //  */\n        // var onTouchMove = function(e){\n        // \tvar orig = e.originalEvent;\n        // \t// if scrolling on y axis, do not prevent default\n        // \tvar xMovement = Math.abs(orig.changedTouches[0].pageX - slider.touch.start.x);\n        // \tvar yMovement = Math.abs(orig.changedTouches[0].pageY - slider.touch.start.y);\n        // \t// x axis swipe\n        // \tif((xMovement * 3) > yMovement && slider.settings.preventDefaultSwipeX){\n        // \t\te.preventDefault();\n        // \t// y axis swipe\n        // \t}else if((yMovement * 3) > xMovement && slider.settings.preventDefaultSwipeY){\n        // \t\te.preventDefault();\n        // \t}\n        // \tif(slider.settings.mode != 'fade' && slider.settings.oneToOneTouch){\n        // \t\tvar value = 0;\n        // \t\t// if horizontal, drag along x axis\n        // \t\tif(slider.settings.mode == 'horizontal'){\n        // \t\t\tvar change = orig.changedTouches[0].pageX - slider.touch.start.x;\n        // \t\t\tvalue = slider.touch.originalPos.left + change;\n        // \t\t// if vertical, drag along y axis\n        // \t\t}else{\n        // \t\t\tvar change = orig.changedTouches[0].pageY - slider.touch.start.y;\n        // \t\t\tvalue = slider.touch.originalPos.top + change;\n        // \t\t}\n        // \t\tsetPositionProperty(value, 'reset', 0);\n        // \t}\n        // }\n\n        // /**\n        //  * Event handler for \"touchend\"\n        //  *\n        //  * @param e (event)\n        //  *  - DOM event object\n        //  */\n        // var onTouchEnd = function(e){\n        // \tslider.viewport.unbind('touchmove', onTouchMove);\n        // \tvar orig = e.originalEvent;\n        // \tvar value = 0;\n        // \t// record end x, y positions\n        // \tslider.touch.end.x = orig.changedTouches[0].pageX;\n        // \tslider.touch.end.y = orig.changedTouches[0].pageY;\n        // \t// if fade mode, check if absolute x distance clears the threshold\n        // \tif(slider.settings.mode == 'fade'){\n        // \t\tvar distance = Math.abs(slider.touch.start.x - slider.touch.end.x);\n        // \t\tif(distance >= slider.settings.swipeThreshold){\n        // \t\t\tslider.touch.start.x > slider.touch.end.x ? el.goToNextSlide() : el.goToPrevSlide();\n        // \t\t\tel.stopAuto();\n        // \t\t}\n        // \t// not fade mode\n        // \t}else{\n        // \t\tvar distance = 0;\n        // \t\t// calculate distance and el's animate property\n        // \t\tif(slider.settings.mode == 'horizontal'){\n        // \t\t\tdistance = slider.touch.end.x - slider.touch.start.x;\n        // \t\t\tvalue = slider.touch.originalPos.left;\n        // \t\t}else{\n        // \t\t\tdistance = slider.touch.end.y - slider.touch.start.y;\n        // \t\t\tvalue = slider.touch.originalPos.top;\n        // \t\t}\n        // \t\t// if not infinite loop and first / last slide, do not attempt a slide transition\n        // \t\tif(!slider.settings.infiniteLoop && ((slider.active.index == 0 && distance > 0) || (slider.active.last && distance < 0))){\n        // \t\t\tsetPositionProperty(value, 'reset', 200);\n        // \t\t}else{\n        // \t\t\t// check if distance clears threshold\n        // \t\t\tif(Math.abs(distance) >= slider.settings.swipeThreshold){\n        // \t\t\t\tdistance < 0 ? el.goToNextSlide() : el.goToPrevSlide();\n        // \t\t\t\tel.stopAuto();\n        // \t\t\t}else{\n        // \t\t\t\t// el.animate(property, 200);\n        // \t\t\t\tsetPositionProperty(value, 'reset', 200);\n        // \t\t\t}\n        // \t\t}\n        // \t}\n        // \tslider.viewport.unbind('touchend', onTouchEnd);\n        // }\n\n        /**\n         * Window resize event callback\n         */\n        var resizeWindow = function(e) {\n            // don't do anything if slider isn't initialized.\n            if (!slider.initialized) return;\n            // get the new window dimens (again, thank you IE)\n            var windowWidthNew = $(window).width();\n            var windowHeightNew = $(window).height();\n            // make sure that it is a true window resize\n            // *we must check this because our dinosaur friend IE fires a window resize event when certain DOM elements\n            // are resized. Can you just die already?*\n            if (windowWidth != windowWidthNew || windowHeight !=\n                windowHeightNew) {\n                // set the new window dimens\n                windowWidth = windowWidthNew;\n                windowHeight = windowHeightNew;\n                // update all dynamic elements\n                el.redrawSlider();\n                // Call user resize handler\n                slider.settings.onSliderResize.call(el, slider.active\n                    .index);\n            }\n        }\n\n        /**\n         * ===================================================================================\n         * = PUBLIC FUNCTIONS\n         * ===================================================================================\n         */\n\n        /**\n         * Performs slide transition to the specified slide\n         *\n         * @param slideIndex (int)\n         *  - the destination slide's index (zero-based)\n         *\n         * @param direction (string)\n         *  - INTERNAL USE ONLY - the direction of travel (\"prev\" / \"next\")\n         */\n        el.goToSlide = function(slideIndex, direction) {\n            // if plugin is currently in motion, ignore request\n            if (slider.working || slider.active.index == slideIndex)\n                return;\n            // declare that plugin is in motion\n            slider.working = true;\n            // store the old index\n            slider.oldIndex = slider.active.index;\n            // if slideIndex is less than zero, set active index to last child (this happens during infinite loop)\n            if (slideIndex < 0) {\n                slider.active.index = getPagerQty() - 1;\n                // if slideIndex is greater than children length, set active index to 0 (this happens during infinite loop)\n            } else if (slideIndex >= getPagerQty()) {\n                slider.active.index = 0;\n                // set active index to requested slide\n            } else {\n                slider.active.index = slideIndex;\n            }\n            // onSlideBefore, onSlideNext, onSlidePrev callbacks\n            slider.settings.onSlideBefore(slider.children.eq(slider\n                    .active.index), slider.oldIndex, slider.active\n                .index);\n            if (direction == 'next') {\n                slider.settings.onSlideNext(slider.children.eq(\n                        slider.active.index), slider.oldIndex,\n                    slider.active.index);\n            } else if (direction == 'prev') {\n                slider.settings.onSlidePrev(slider.children.eq(\n                        slider.active.index), slider.oldIndex,\n                    slider.active.index);\n            }\n            // check if last slide\n            slider.active.last = slider.active.index >= getPagerQty() -\n                1;\n            // update the pager with active class\n            if (slider.settings.pager) updatePagerActive(slider.active\n                .index);\n            // // check for direction control update\n            if (slider.settings.controls) updateDirectionControls();\n            // if slider is set to mode: \"fade\"\n            if (slider.settings.mode == 'fade') {\n                // if adaptiveHeight is true and next height is different from current height, animate to the new height\n                if (slider.settings.adaptiveHeight && slider.viewport\n                    .height() != getViewportHeight()) {\n                    slider.viewport.animate({\n                        height: getViewportHeight()\n                    }, slider.settings.adaptiveHeightSpeed);\n                }\n                // fade out the visible child and reset its z-index value\n                slider.children.filter(':visible').fadeOut(slider.settings\n                    .speed).css({\n                    zIndex: 0\n                });\n                // fade in the newly requested slide\n                slider.children.eq(slider.active.index).css(\n                    'zIndex', slider.settings.slideZIndex + 1).fadeIn(\n                    slider.settings.speed,\n                    function() {\n                        $(this).css('zIndex', slider.settings.slideZIndex);\n                        updateAfterSlideTransition();\n                    });\n                // slider mode is not \"fade\"\n            } else {\n                // if adaptiveHeight is true and next height is different from current height, animate to the new height\n                if (slider.settings.adaptiveHeight && slider.viewport\n                    .height() != getViewportHeight()) {\n                    slider.viewport.animate({\n                        height: getViewportHeight()\n                    }, slider.settings.adaptiveHeightSpeed);\n                }\n                var moveBy = 0;\n                var position = {\n                    left: 0,\n                    top: 0\n                };\n                // if carousel and not infinite loop\n                if (!slider.settings.infiniteLoop && slider.carousel &&\n                    slider.active.last) {\n                    if (slider.settings.mode == 'horizontal') {\n                        // get the last child position\n                        var lastChild = slider.children.eq(slider.children\n                            .length - 1);\n                        position = lastChild.position();\n                        // calculate the position of the last slide\n                        moveBy = slider.viewport.width() -\n                            lastChild.outerWidth();\n                    } else {\n                        // get last showing index position\n                        var lastShowingIndex = slider.children.length -\n                            slider.settings.minSlides;\n                        position = slider.children.eq(\n                            lastShowingIndex).position();\n                    }\n                    // horizontal carousel, going previous while on first slide (infiniteLoop mode)\n                } else if (slider.carousel && slider.active.last &&\n                    direction == 'prev') {\n                    // get the last child position\n                    var eq = slider.settings.moveSlides == 1 ?\n                        slider.settings.maxSlides - getMoveBy() : (\n                            (getPagerQty() - 1) * getMoveBy()) - (\n                            slider.children.length - slider.settings\n                            .maxSlides);\n                    var lastChild = el.children('.bx-clone').eq(eq);\n                    position = lastChild.position();\n                    // if infinite loop and \"Next\" is clicked on the last slide\n                } else if (direction == 'next' && slider.active.index ==\n                    0) {\n                    // get the last clone position\n                    position = el.find('> .bx-clone').eq(slider.settings\n                        .maxSlides).position();\n                    slider.active.last = false;\n                    // normal non-zero requests\n                } else if (slideIndex >= 0) {\n                    var requestEl = slideIndex * getMoveBy();\n                    position = slider.children.eq(requestEl).position();\n                }\n\n                /* If the position doesn't exist\n                 * (e.g. if you destroy the slider on a next click),\n                 * it doesn't throw an error.\n                 */\n                if (\"undefined\" !== typeof(position)) {\n                    var value = slider.settings.mode ==\n                        'horizontal' ? -(position.left - moveBy) :\n                        -position.top;\n                    // plugin values to be animated\n                    setPositionProperty(value, 'slide', slider.settings\n                        .speed);\n                }\n            }\n        }\n\n        /**\n         * Transitions to the next slide in the show\n         */\n        el.goToNextSlide = function() {\n            // if infiniteLoop is false and last page is showing, disregard call\n            if (!slider.settings.infiniteLoop && slider.active.last)\n                return;\n            var pagerIndex = parseInt(slider.active.index) + 1;\n            el.goToSlide(pagerIndex, 'next');\n        }\n\n        /**\n         * Transitions to the prev slide in the show\n         */\n        el.goToPrevSlide = function() {\n            // if infiniteLoop is false and last page is showing, disregard call\n            if (!slider.settings.infiniteLoop && slider.active.index ==\n                0) return;\n            var pagerIndex = parseInt(slider.active.index) - 1;\n            el.goToSlide(pagerIndex, 'prev');\n        }\n\n        /**\n         * Starts the auto show\n         *\n         * @param preventControlUpdate (boolean)\n         *  - if true, auto controls state will not be updated\n         */\n        el.startAuto = function(preventControlUpdate) {\n            // if an interval already exists, disregard call\n            if (slider.interval) return;\n            // create an interval\n            slider.interval = setInterval(function() {\n                slider.settings.autoDirection == 'next' ?\n                    el.goToNextSlide() : el.goToPrevSlide();\n            }, slider.settings.pause);\n            // if auto controls are displayed and preventControlUpdate is not true\n            if (slider.settings.autoControls &&\n                preventControlUpdate != true) updateAutoControls(\n                'stop');\n        }\n\n        /**\n         * Stops the auto show\n         *\n         * @param preventControlUpdate (boolean)\n         *  - if true, auto controls state will not be updated\n         */\n        el.stopAuto = function(preventControlUpdate) {\n            // if no interval exists, disregard call\n            if (!slider.interval) return;\n            // clear the interval\n            clearInterval(slider.interval);\n            slider.interval = null;\n            // if auto controls are displayed and preventControlUpdate is not true\n            if (slider.settings.autoControls &&\n                preventControlUpdate != true) updateAutoControls(\n                'start');\n        }\n\n        /**\n         * Returns current slide index (zero-based)\n         */\n        el.getCurrentSlide = function() {\n            return slider.active.index;\n        }\n\n        /**\n         * Returns current slide element\n         */\n        el.getCurrentSlideElement = function() {\n            return slider.children.eq(slider.active.index);\n        }\n\n        /**\n         * Returns number of slides in show\n         */\n        el.getSlideCount = function() {\n            return slider.children.length;\n        }\n\n        /**\n         * Update all dynamic slider elements\n         */\n        el.redrawSlider = function() {\n            // resize all children in ratio to new screen size\n            slider.children.add(el.find('.bx-clone')).width(\n                getSlideWidth());\n            // adjust the height\n            slider.viewport.css('height', getViewportHeight());\n            // update the slide position\n            if (!slider.settings.ticker) setSlidePosition();\n            // if active.last was true before the screen resize, we want\n            // to keep it last no matter what screen size we end on\n            if (slider.active.last) slider.active.index =\n                getPagerQty() - 1;\n            // if the active index (page) no longer exists due to the resize, simply set the index as last\n            if (slider.active.index >= getPagerQty()) slider.active\n                .last = true;\n            // if a pager is being displayed and a custom pager is not being used, update it\n            if (slider.settings.pager && !slider.settings.pagerCustom) {\n                populatePager();\n                updatePagerActive(slider.active.index);\n            }\n        }\n\n        /**\n         * Destroy the current instance of the slider (revert everything back to original state)\n         */\n        el.destroySlider = function() {\n            // don't do anything if slider has already been destroyed\n            if (!slider.initialized) return;\n            slider.initialized = false;\n            $('.bx-clone', this).remove();\n            slider.children.each(function() {\n                $(this).data(\"origStyle\") != undefined ? $(\n                    this).attr(\"style\", $(this).data(\n                    \"origStyle\")) : $(this).removeAttr(\n                    'style');\n            });\n            $(this).data(\"origStyle\") != undefined ? this.attr(\n                \"style\", $(this).data(\"origStyle\")) : $(this).removeAttr(\n                'style');\n            $(this).unwrap().unwrap();\n            if (slider.controls.el) slider.controls.el.remove();\n            if (slider.controls.next) slider.controls.next.remove();\n            if (slider.controls.prev) slider.controls.prev.remove();\n            if (slider.pagerEl && slider.settings.controls) slider.pagerEl\n                .remove();\n            $('.bx-caption', this).remove();\n            if (slider.controls.autoEl) slider.controls.autoEl.remove();\n            clearInterval(slider.interval);\n            if (slider.settings.responsive) $(window).unbind(\n                'resize', resizeWindow);\n        }\n\n        /**\n         * Reload the slider (revert all DOM changes, and re-initialize)\n         */\n        el.reloadSlider = function(settings) {\n            if (settings != undefined) options = settings;\n            el.destroySlider();\n            init();\n        }\n\n        init();\n\n        // returns the current jQuery object\n        return this;\n    }\n\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin/jquery.bxslider.js","require('lazyload');\nvar $container = $('[data-node=container]');\nvar tabLazy = function($selector){\n\t$selector.find('img').lazyload({\n\t\teffect: 'fadeIn',\n\t    failure_limit: 10\n\t})\n};\ntabLazy($container);\nmodule.exports = tabLazy;\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/imgLazyload.js","/*\n * Lazy Load - jQuery plugin for lazy loading images\n *\n * Copyright (c) 2007-2012 Mika Tuupola\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * Project home:\n *   http://www.appelsiini.net/projects/lazyload\n *\n * Version:  1.7.2\n *\n */\n(function($, window) {\n\n    var $window = $(window);\n    var $container;\n\n    $.fn.lazyload = function(options) {\n        var elements = this;\n        var settings = {\n            threshold: 0,\n            failure_limit: 0,\n            event: \"scroll\",\n            effect: \"show\",\n            container: window,\n            data_attribute: \"original\",\n            skip_invisible: true,\n            appear: null,\n            load: null\n        };\n\n        function update() {\n            var counter = 0;\n\n            elements.each(function() {\n                var $this = $(this);\n                if (settings.skip_invisible && !$this.is(\":visible\")) {\n                    return;\n                }\n                if ($.abovethetop(this, settings) ||\n                    $.leftofbegin(this, settings)) {\n                    /* Nothing. */\n                } else if (!$.belowthefold(this, settings) &&\n                    !$.rightoffold(this, settings)) {\n                    $this.trigger(\"appear\");\n                } else {\n                    if (++counter > settings.failure_limit) {\n                        return false;\n                    }\n                }\n            });\n\n        }\n\n        if (options) {\n            /* Maintain BC for a couple of versions. */\n            if (undefined !== options.failurelimit) {\n                options.failure_limit = options.failurelimit;\n                delete options.failurelimit;\n            }\n            if (undefined !== options.effectspeed) {\n                options.effect_speed = options.effectspeed;\n                delete options.effectspeed;\n            }\n\n            $.extend(settings, options);\n        }\n\n        /* Cache container as jQuery as object. */\n        $container = (settings.container === undefined ||\n            settings.container === window) ? $window : $(settings.container);\n\n        /* Fire one scroll event per scroll. Not one scroll event per image. */\n        if (0 === settings.event.indexOf(\"scroll\")) {\n            $container.bind(settings.event, function() {\n                return update();\n            });\n        }\n\n        this.each(function() {\n            var self = this;\n            var $self = $(self);\n\n            self.loaded = false;\n\n            /* When appear is triggered load original image. */\n            $self.one(\"appear\", function() {\n                if (!this.loaded) {\n                    if (settings.appear) {\n                        var elements_left = elements.length;\n                        settings.appear.call(self, elements_left, settings);\n                    }\n                    $(\"<img />\")\n                        .bind(\"load\", function() {\n                            $self\n                            //.hide()\n                                .attr(\"src\", $self.data(settings.data_attribute))[settings.effect](settings.effect_speed);\n                            self.loaded = true;\n\n                            /* Remove image from array so it is not looped next time. */\n                            var temp = $.grep(elements, function(element) {\n                                return !element.loaded;\n                            });\n                            elements = $(temp);\n\n                            if (settings.load) {\n                                var elements_left = elements.length;\n                                settings.load.call(self, elements_left, settings);\n                            }\n                        })\n                        .attr(\"src\", $self.data(settings.data_attribute));\n                }\n            });\n\n            /* When wanted event is triggered load original image */\n            /* by triggering appear.                              */\n            if (0 !== settings.event.indexOf(\"scroll\")) {\n                $self.bind(settings.event, function() {\n                    if (!self.loaded) {\n                        $self.trigger(\"appear\");\n                    }\n                });\n            }\n        });\n\n        /* Check if something appears when window is resized. */\n        $window.bind(\"resize\", function() {\n            update();\n        });\n\n        /* Force initial check if images should appear. */\n        update();\n\n        return this;\n    };\n\n    /* Convenience methods in jQuery namespace.           */\n    /* Use as  $.belowthefold(element, {threshold : 100, container : window}) */\n\n    $.belowthefold = function(element, settings) {\n        var fold;\n\n        if (settings.container === undefined || settings.container === window) {\n            fold = $window.height() + $window.scrollTop();\n        } else {\n            fold = $container.offset().top + $container.height();\n        }\n\n        return fold <= $(element).offset().top - settings.threshold;\n    };\n\n    $.rightoffold = function(element, settings) {\n        var fold;\n\n        if (settings.container === undefined || settings.container === window) {\n            fold = $window.width() + $window.scrollLeft();\n        } else {\n            fold = $container.offset().left + $container.width();\n        }\n\n        return fold <= $(element).offset().left - settings.threshold;\n    };\n\n    $.abovethetop = function(element, settings) {\n        var fold;\n\n        if (settings.container === undefined || settings.container === window) {\n            fold = $window.scrollTop();\n        } else {\n            fold = $container.offset().top;\n        }\n\n        return fold >= $(element).offset().top + settings.threshold + $(element).height();\n    };\n\n    $.leftofbegin = function(element, settings) {\n        var fold;\n\n        if (settings.container === undefined || settings.container === window) {\n            fold = $window.scrollLeft();\n        } else {\n            fold = $container.offset().left;\n        }\n\n        return fold >= $(element).offset().left + settings.threshold + $(element).width();\n    };\n\n    $.inviewport = function(element, settings) {\n        return !$.rightofscreen(element, settings) && !$.leftofscreen(element, settings) &&\n            !$.belowthefold(element, settings) && !$.abovethetop(element, settings);\n    };\n\n    /* Custom selectors for your convenience.   */\n    /* Use as $(\"img:below-the-fold\").something() */\n\n    $.extend($.expr[':'], {\n        \"below-the-fold\": function(a) {\n            return $.belowthefold(a, {\n                threshold: 0,\n                container: window\n            });\n        },\n        \"above-the-top\": function(a) {\n            return !$.belowthefold(a, {\n                threshold: 0,\n                container: window\n            });\n        },\n        \"right-of-screen\": function(a) {\n            return $.rightoffold(a, {\n                threshold: 0,\n                container: window\n            });\n        },\n        \"left-of-screen\": function(a) {\n            return !$.rightoffold(a, {\n                threshold: 0,\n                container: window\n            });\n        },\n        \"in-viewport\": function(a) {\n            return !$.inviewport(a, {\n                threshold: 0,\n                container: window\n            });\n        },\n        /* Maintain BC for couple of versions. */\n        \"above-the-fold\": function(a) {\n            return !$.belowthefold(a, {\n                threshold: 0,\n                container: window\n            });\n        },\n        \"right-of-fold\": function(a) {\n            return $.rightoffold(a, {\n                threshold: 0,\n                container: window\n            });\n        },\n        \"left-of-fold\": function(a) {\n            return !$.rightoffold(a, {\n                threshold: 0,\n                container: window\n            });\n        }\n    });\n\n})(jQuery, window);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/plugin/jquery.lazyload.js\n// module id = 49\n// module chunks = 1 9 29","/*\n *@author:dongyukuan\n *@desc:热门内容切换\n *@date:2017/5/8\n */\nvar $hotConTagsBox = $('[data-node=hotConTagsBox]');\nvar $lis = $hotConTagsBox.find('li');\n\nvar $topicTag = $('[data-node=tabConBox]');\nvar $tagItem = $topicTag.find('[data-node=topicTag]');\n$lis.on('mouseenter', function() {\n\tvar index = $lis.index(this);\n\t$lis.removeClass('tab-li');\n\t$(this).addClass('tab-li');\n\t$tagItem.addClass('none').eq(index).removeClass('none');\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/hotConTab.js","var tabWidget = require('./tabWidget/index');\n\nvar $circleFloor = $('[data-node = circleFloor]');\nvar $circleTabBox = $circleFloor.find('[data-node=travelTags]');\nvar $moneyFloor = $('[data-node = moneyFloor]');\nvar $moneyTabBox = $moneyFloor.find('[data-node=moneyTags]');\nwindow._$ = $;\nvar clickFn = function(){\n\tvar $this = $(this);\n\t$this.siblings().removeClass('hoverCls');\n\t$this.addClass('hoverCls');\n\tvar floorName = $this.parents('[floor-node]').attr('floor-node');\n\tvar tagName = $this.text();\n\ttabWidget(floorName,tagName,$this);\n};\nvar initEvent = function(){\n\t$circleTabBox.on('click','a',clickFn);\n\t$moneyTabBox.on('click','a',clickFn);\n};\nmodule.exports.init = initEvent;\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/tabChange.js","/*\n *@author:dongyukuan\n *@desc:圈子首页各圈子楼层的tab切换组件\n *@date:2017/5/4\n */\nvar lazy = require('../imgLazyload');\nvar fetch = require('io/fetch');\nvar url = require(\"io/url\");\nvar toast = require('module/hint').init;\nvar slider = require('../slider');\nvar repFace = require('./repFace');\nvar joinCircle = require('../joinCircle');\n\nvar moneyTpl = require('./money.tpl');\nvar moneyRTpl = require('./money-right.tpl');\nvar circleTpl = require('./circleTab.tpl');\n\nvar $travelTab = $('[data-node = travelTab]');\nvar $beautyTab = $('[data-node = beautyTab]');\nvar $homeTab = $('[data-node = homeTab]');\nvar $videoTab = $('[data-node = videoTab]');\nvar $moneyTab = $('[data-node = moneyTab]');\nvar $moneyRTab = $('[data-node=ggRight]');\nvar $goodsBannerImg = $('[data-node=goodsBannerImg]');\nvar $moneyTabsBox = $('[data-node=moneyTabsBox]');\n\nvar topic_path = $_CONFIG['group_domain'] + '/topic/';\n\n//缓存tab切换数据\nvar tabObj = {};\nvar renderTab = function(floorName, data, $selector) {\n    var $circleCon = $selector.parents('[data-node=\"circleFloor\"]').find('[data-node=\"circleTab\"]');\n    var isCircle = $circleCon.length;\n    var dpBefore = 'group-' + $selector.attr('dp-data'); //埋点前缀\n    var htmlStr = '';\n    if (isCircle) {\n        data = data.data.groups;\n        data.forEach(function(val, index) {\n            if (!val.status) {\n                val.status = val._group_ids ? val._group_ids.status : false;\n                val.memberQuantity = val._group_ids ? val._group_ids.memberQuantity : '';\n                val.topicQuantity = val._group_ids ? val._group_ids.topicQuantity : '';\n            }\n            //埋点\n            if (val._group_url.indexOf('intcmp=') < 0) {\n                val._group_url = val._group_url + '?intcmp=' + dpBefore + (index + 1) + '-1';\n            }\n            val.topics.forEach(function(v, i) {\n                v.name = repFace(v.name);\n                if (!v.topic_url) {\n                    v.topic_url = topic_path + v.id + '.html?intcmp=' + dpBefore + (index + 1) + '-' + (i + 2);\n                }\n            });\n        })\n        htmlStr = circleTpl({\n            data: data\n        });\n        $circleCon.html(htmlStr);\n\n        lazy($circleCon);\n        joinCircle.init();\n    } else {\n        slider.destoryGG();\n        var daBanner = data.data.banners;\n        daBanner.forEach(function(val, idx) {\n            val.mostRebate = val._product_ids ? val._product_ids.mostRebate : 0;\n            val.salePrice = val._product_ids && val._product_ids.salePrice !== null ? val._product_ids.salePrice : '暂无售价';\n            if (val._product_url.indexOf('intcmp=') < 0) {\n                val._product_url = val._product_url + '?intcmp=' + dpBefore + '1-' + (idx + 1);\n            }\n        });\n        htmlStr = moneyTpl({\n            data: daBanner\n        });\n\n        var daR = data.data.products;\n\n        daR.forEach(function(val, idx) {\n            val.mostRebate = val._product_ids ? val._product_ids.mostRebate : 0;\n            val.salePrice = val._product_ids && val._product_ids.salePrice !== null ? val._product_ids.salePrice : '暂无售价';\n            if (val._product_url.indexOf('intcmp=') < 0) {\n                val._product_url = val._product_url + '?intcmp=' + dpBefore + '2-' + (idx + 1);\n            }\n        });\n        var rightStr = moneyRTpl({\n            da: daR\n\n        });\n        $goodsBannerImg.html(htmlStr);\n        $moneyRTab.html(rightStr);\n        slider.ggSlider();\n        lazy($moneyTabsBox)\n    }\n};\n\nvar fromFetch = function(floorName, tagName, $selector) {\n    var feData = {\n        \"id\": floorName,\n        \"cat\": tagName\n    };\n    var groupDomain = $_CONFIG['group_domain'];\n    var api = groupDomain + url.get('tabChannel');\n    fetch.get(api, {\n        data: feData\n    }).done(function(data) {\n        if (data.success) {\n            renderTab(floorName, data, $selector);\n            if (typeof tabObj[floorName] !== 'undefined') {\n                if (!tabObj[floorName][tagName]) {\n                    tabObj[floorName][tagName] = data;\n                }\n            } else {\n                tabObj[floorName] = {};\n                tabObj[floorName][tagName] = data;\n            }\n        }\n    }).fail(function() {\n        toast('获取数据失败');\n    })\n}\nvar fromCatch = function(floorName, tagName, $selector) {\n    var tabFloor = tabObj[floorName];\n    var hasData = !!(tabFloor && tabFloor[tagName]);\n    var ret = false;\n    if (hasData) {\n        renderTab(floorName, tabFloor[tagName], $selector);\n        ret = true;\n    }\n    return ret;\n}\nvar init = function(floorName, tagName, $selector) {\n    !fromCatch(floorName, tagName, $selector) ? fromFetch(floorName, tagName, $selector) : void 0;\n}\nmodule.exports = init;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/tabWidget/index.js","var emoji = require('module/popup/face/emoji');\nvar reg = /(\\[([\\s\\S]+?)\\])/g;\nvar repFace = function(str){\n   str = str.replace(reg, function() {\n        var imgStr;\n        var originText = arguments[0];\n        var text = arguments[2];\n        emoji.forEach(function(item, index) {\n            if (item.name == text) {\n                imgStr = '<img class=\"imoji\" style=\"width:16px;height:16px;display:inline-block;\"  src=' + item.url + '>';\n            }\n        })\n        return imgStr ? imgStr : originText;\n    })\n    return str;\n}\nmodule.exports = repFace;\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/tabWidget/repFace.js","var imgPath = $_CONFIG.imgpath + '/images/emoji/';\n\nvar ext = '.png';\n\nvar groupOne = [{\n    name: '微笑',\n    url: 'weixiao'\n}, {\n    name: '色',\n    url: 'se'\n}, {\n    name: '亲亲',\n    url: 'qinqin'\n}, {\n    name: '得意',\n    url: 'deyi'\n}, {\n    name: '流泪',\n    url: 'liulei'\n}, {\n    name: '害羞',\n    url: 'haixiu'\n}, {\n    name: '闭嘴',\n    url: 'bizui'\n}, {\n    name: '鼓掌',\n    url: 'guzhang'\n}, {\n    name: '大哭',\n    url: 'daku'\n}, {\n    name: '尴尬',\n    url: 'ganga'\n}, {\n    name: '生气',\n    url: 'shengqi'\n}, {\n    name: '调皮',\n    url: 'tiaopi'\n}, {\n    name: '呲牙',\n    url: 'ciya'\n}, {\n    name: '惊讶',\n    url: 'jingya'\n}, {\n    name: '委屈',\n    url: 'weiqu'\n}, {\n    name: '吐血',\n    url: 'tuxue'\n}, {\n    name: '冷汗',\n    url: 'lenghan'\n}, {\n    name: '抓狂',\n    url: 'zhuakuang'\n}, {\n    name: '难过',\n    url: 'nanguo'\n}, {\n    name: '偷笑',\n    url: 'touxiao'\n}, {\n    name: '白眼',\n    url: 'baiyan'\n}, {\n    name: '不屑',\n    url: 'buxie'\n}, {\n    name: '快哭了',\n    url: 'kuaikule'\n}];\n\nvar groupTwo = [{\n    name: '困',\n    url: 'kun'\n}, {\n    name: '装酷',\n    url: 'zhuangku'\n}, {\n    name: '大笑',\n    url: 'daxiao'\n}, {\n    name: '偷瞄',\n    url: 'toumiao'\n}, {\n    name: '奋斗',\n    url: 'fendou'\n}, {\n    name: '咒骂',\n    url: 'zhouma'\n}, {\n    name: '疑问',\n    url: 'yiwen'\n}, {\n    name: '晕',\n    url: 'yun'\n}, {\n    name: '捶打',\n    url: 'chuida'\n}, {\n    name: '再见',\n    url: 'zaijian'\n}, {\n    name: '抠鼻',\n    url: 'koubi'\n}, {\n    name: '发呆',\n    url: 'fadai'\n}, {\n    name: '坏笑',\n    url: 'huaixiao'\n}, {\n    name: '哈欠',\n    url: 'haqian'\n}, {\n    name: '鄙视',\n    url: 'bishi'\n}, {\n    name: '睡觉',\n    url: 'shuijiao'\n}, {\n    name: '饿',\n    url: 'e'\n}, {\n    name: '阴险',\n    url: 'yinxian'\n}, {\n    name: '难受',\n    url: 'nanshou'\n}, {\n    name: '可怜',\n    url: 'kelian'\n}, {\n    name: '撇嘴',\n    url: 'piezui'\n}, {\n    name: '石化',\n    url: 'shihua'\n}, {\n    name: '泪眼',\n    url: 'leiyan'\n}];\n\nvar groupThree = [{\n    name: '嘘',\n    url: 'xu'\n}, {\n    name: '哼哼',\n    url: 'hengheng'\n}, {\n    name: '爱慕',\n    url: 'aimu'\n}, {\n    name: '财迷',\n    url: 'caimi'\n}, {\n    name: '耶',\n    url: 'ye'\n}, {\n    name: '思考',\n    url: 'sikao'\n}, {\n    name: '骷髅',\n    url: 'kulou'\n}, {\n    name: '痛哭',\n    url: 'tongku'\n}, {\n    name: '恭喜',\n    url: 'gongxi'\n}, {\n    name: '捂脸',\n    url: 'wulian'\n}, {\n    name: '嘿哈',\n    url: 'heiha'\n}, {\n    name: '机智',\n    url: 'jizhi'\n}, {\n    name: '皱眉',\n    url: 'zhoumei'\n}, {\n    name: '安慰',\n    url: 'anwei'\n}, {\n    name: '飞吻',\n    url: 'feiwen'\n}, {\n    name: '奸笑',\n    url: 'jianxiao'\n}, {\n    name: '猪头',\n    url: 'zhutou'\n}, {\n    name: '玫瑰',\n    url: 'meigui'\n}, {\n    name: '凋谢',\n    url: 'diaoxie'\n}, {\n    name: '爱心',\n    url: 'aixin'\n}, {\n    name: '心碎',\n    url: 'xinsui'\n}, {\n    name: '蛋糕',\n    url: 'dangao'\n}, {\n    name: '喝水',\n    url: 'heshui'\n}];\n\nvar groupFour = [{\n    name: '西瓜',\n    url: 'xigua'\n}, {\n    name: '咖啡',\n    url: 'kafei'\n}, {\n    name: '啤酒',\n    url: 'pijiu'\n}, {\n    name: '包包',\n    url: 'baobao'\n}, {\n    name: '高跟鞋',\n    url: 'gaogenxie'\n}, {\n    name: '帽子',\n    url: 'maozi'\n}, {\n    name: '口红',\n    url: 'kouhong'\n}, {\n    name: '裙子',\n    url: 'qunzi'\n}, {\n    name: 'T恤',\n    url: 'txu'\n}, {\n    name: '裤子',\n    url: 'kuzi'\n}, {\n    name: '眼镜',\n    url: 'yanjing'\n}, {\n    name: '太阳镜',\n    url: 'taiyangjing'\n}, {\n    name: '蜡烛',\n    url: 'lazhu'\n}, {\n    name: '礼物',\n    url: 'liwu'\n}, {\n    name: '红包',\n    url: 'hongbao'\n}, {\n    name: '拥抱',\n    url: 'yongbao'\n}, {\n    name: '太阳',\n    url: 'taiyang'\n}, {\n    name: '月亮',\n    url: 'yueliang'\n}, {\n    name: '便便',\n    url: 'bianbian'\n}, {\n    name: '炸弹',\n    url: 'zhadan'\n}, {\n    name: '菜刀',\n    url: 'caidao'\n}, {\n    name: '握手',\n    url: 'woshou'\n}, {\n    name: '胜利',\n    url: 'shengli'\n}];\n\nvar groupFive = [{\n    name: '赞',\n    url: 'zan'\n}, {\n    name: 'OK',\n    url: 'ok'\n}, {\n    name: '勾引',\n    url: 'gouyin'\n}, {\n    name: 'NO',\n    url: 'no'\n}, {\n    name: '打脸',\n    url: 'dalian'\n}, {\n    name: '抱拳',\n    url: 'baoquan'\n}, {\n    name: '乒乓球',\n    url: 'pingpangqiu'\n}, {\n    name: '足球',\n    url: 'zuqiu'\n}, {\n    name: '篮球',\n    url: 'lanqiu'\n}];\n\nvar format = function(arr) {\n    for (var i = 0, len = arr.length; i < len; i++) {\n        var emoji = arr[i];\n        emoji.url = imgPath + emoji.url + ext;\n    }\n    return arr;\n};\n\nmodule.exports = format(groupOne.concat(groupTwo, groupThree, groupFour, groupFive));\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/face/emoji.js","/*\n *@author:dongyukuan\n *@desc:加入圈子\n *@date:2017/5/4\n */\n\nvar toast = require('module/hint').init;\nvar fetch = require('io/fetch');\nvar url = require(\"io/url\");\nvar loginPop = require('module/popup/login');\nvar checkLoginStatus = require('module/checkLoginStatus');\nvar getCircleStatus = require('./getData').initCircle;\n\nvar $sucPop = $('[data-node=sucPop]');\nvar $sucCha = $('[data-action=sucCha]');\nvar $failPop = $('[data-node=failPop]');\nvar $failCha = $('[data-action=failCha]');\n\nvar $failText = $failPop.find('[data-node=failText]');\nvar $sucText = $sucPop.find('[data-node=sucText]');\n\nvar sucTimer = null;\nvar failTimer = null;\n\n//加入圈子pop提示\nvar initCha = function() {\n    $sucCha.on('click', function() {\n        $sucPop.hide();\n        window.clearTimeout(sucTimer);\n    });\n    $failCha.on('click', function() {\n        $failPop.hide();\n        window.clearTimeout(failTimer);\n    })\n};\n\nvar handlePop = function(status, msg) {\n    //初始化点击×号\n    initCha();\n    if (status == 'suc') {\n        msg ? $sucText.text(msg) : void 0;\n        $sucPop.show();\n        sucTimer = setTimeout(function() {\n            $sucPop.hide();\n        }, 2000)\n    } else if (status == 'fail') {\n        msg ? $failText.text(msg) : void 0;\n        $failPop.show();\n        failTimer = setTimeout(function() {\n            $failPop.hide();\n        }, 2000);\n    }\n};\n\nvar joinFlag = 1; //点击加入圈子按钮的开关，避免重复点击\nvar joinCircle = function($this, fromLogin) {\n    var groupId = $this.data('groupid');\n\n    function join() {\n        var groupDomain = $_CONFIG['group_domain'];\n        var api = groupDomain + url.get('joinCircle2');\n        fetch.post(api, {\n            \"data\": {\n                groupid: groupId\n            }\n        }).done(function(result) {\n            if (result.code == 200) {\n                var status = result.data.status;\n                if (status == 0) {\n                    var $joinCircleSuc = $this.siblings('[data-node = joinCircleSuc]');\n                    $this.addClass('none');\n                    $joinCircleSuc.removeClass('none');\n                    handlePop('suc', result.message);\n                } else if (status == 1) {\n                    var $joinCircleChk = $this.siblings('[data-node = joinCircleChk]');\n                    $this.addClass('none');\n                    $joinCircleChk.removeClass('none');\n                    handlePop('suc', result.message);\n                }\n            } else if (result.code == 409) {\n                switch (result.error.code) {\n                    case \"1\": //已加入状态\n                        var $joinCircleSuc = $this.siblings('[data-node = joinCircleSuc]').eq(0);\n                        $this.addClass('none');\n                        $joinCircleSuc.removeClass('none');\n                        handlePop('suc', result.message);\n                        break;\n                    case \"2\": //圈子人数达到上限\n                        var $joinCircleRef = $this.siblings('[data-node = joinCircleRef]').eq(0);\n                        $this.addClass('none');\n                        $joinCircleRef.removeClass('none');\n                        handlePop('fail', result.message);\n                        break;\n                    case \"3\": //待审核\n                        var $joinCircleChk = $this.siblings('[data-node = joinCircleChk]');\n                        $this.addClass('none');\n                        $joinCircleChk.removeClass('none');\n                        handlePop('suc', result.message);\n                        break;\n                }\n            } else {\n                var $joinCircleRef = $this.siblings('[data-node = joinCircleRef]');\n                $this.addClass('none');\n                $joinCircleRef.removeClass('none');\n                handlePop('fail', result.message);\n            }\n        }).fail(function() {\n            handlePop('fail');\n            joinFlag = 1;\n        }).always(function() {\n            joinFlag = 1;\n        });\n    }\n    if (fromLogin) {\n        getCircleStatus(join);\n    } else {\n        join();\n    }\n}\n\nvar initJoin = function(e) {\n    if (!joinFlag) return;\n    joinFlag = 0;\n    var $this = $(this);\n    var isLogin = checkLoginStatus();\n    if (isLogin) {\n        joinCircle($this);\n    } else {\n        joinFlag = 1;\n        loginPop(function() {\n            joinCircle($this, true);\n        })\n    }\n    return false;\n}\nvar initEvent = function() {\n    $('body').on('click', '[data-action = joinCircle]', initJoin);\n}\nmodule.exports.init = initEvent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/joinCircle.js","var template=require('tmodjs-loader/runtime');\nmodule.exports=template('src/js/page/circleIndex/tabWidget/money',function($data,$filename\n/*``*/) {\n'use strict';var $utils=this,$helpers=$utils.$helpers,$each=$utils.$each,data=$data.data,v=$data.v,i=$data.i,$escape=$utils.$escape,$out='';$out+=' ';\n$each(data,function(v,i){\n$out+=' <li class=\"slider-item-container\" data-id=\"';\n$out+=$escape(v.product_id);\n$out+='\">  <a href=\"';\n$out+=$escape(v._product_url);\n$out+='\" target=\"_blank\" title=\"';\n$out+=$escape(v.cmsName);\n$out+='\"> <div class=\"backgroundImg\" style=\"width: 600px;height:390px\"> <img src=\"';\n$out+=$escape(v.cmsImage);\n$out+='\"> </div> </a> <div class=\"item-big-one-bottom clearfixclass=\"item-big-one-price\"\"> <p class=\"item-big-one-price\">  <a href=\"';\n$out+=$escape(v._product_url);\n$out+='\" target=\"_blank\"> <span class=\"item-b-o-title overflow-one\"> ';\n$out+=$escape(v.cmsName);\n$out+='</span> </a> </p> <p class=\"item-b-o-p\">  ';\nif(v.mostRebate > 0){\n$out+=' <span class=\"item-b-o-rebate\"> <i>返利</i> </span> ';\n}\n$out+=' <span class=\"item-b-o-price\">';\n$out+=$escape(v.salePrice);\n$out+='</span> <em>¥</em> </p> </div> </li> ';\n});\n$out+=' ';\nreturn new String($out);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/page/circleIndex/tabWidget/money.tpl\n// module id = 56\n// module chunks = 1","var template=require('tmodjs-loader/runtime');\nmodule.exports=template('src/js/page/circleIndex/tabWidget/money-right',function($data,$filename\n/*``*/) {\n'use strict';var $utils=this,$helpers=$utils.$helpers,$each=$utils.$each,da=$data.da,v=$data.v,idx=$data.idx,$escape=$utils.$escape,$out='';$each(da,function(v,idx){\n$out+=' ';\nif(idx < 4){\n$out+=' <li data-node=\"goodsData\" data-id=\"';\n$out+=$escape(v.product_id);\n$out+='\"> <div class=\"backgroundImg-lit\" style=\"width:160px;height:160px\"> <a href=\"';\n$out+=$escape(v._product_url);\n$out+='\" target=\"_blank\"> <img data-original=\"';\n$out+=$escape(v.cmsImage);\n$out+='\"> </a> </div> <a class=\"item-s-f-a overflow-one\" href=\"';\n$out+=$escape(v._product_url);\n$out+='\" target=\"_blank\" title=\"';\n$out+=$escape(v.cmsName);\n$out+='\"> ';\n$out+=$escape(v.cmsName);\n$out+=' </a> <p class=\"item-s-f-money\" data-node=\"moneyBox\"> ';\nif(v.mostRebate > 0){\n$out+=' <span class=\"item-b-o-rebate\" data-node=\"returnMoney\"> <i>返利</i></span> ';\n}\n$out+=' ';\nif(v.salePrice){\n$out+='<em>¥</em>';\n}\n$out+=' <span class=\"item-b-o-price\" data-node=\"goodsPrice\">';\n$out+=$escape(v.salePrice);\n$out+='</span> </p> </li> ';\n}\n$out+=' ';\n});\n$out+=' ';\nreturn new String($out);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/page/circleIndex/tabWidget/money-right.tpl\n// module id = 57\n// module chunks = 1","var template=require('tmodjs-loader/runtime');\nmodule.exports=template('src/js/page/circleIndex/tabWidget/circleTab',function($data,$filename\n/*``*/) {\n'use strict';var $utils=this,$helpers=$utils.$helpers,$each=$utils.$each,data=$data.data,v=$data.v,idx=$data.idx,$escape=$utils.$escape,val=$data.val,$index=$data.$index,$string=$utils.$string,$out='';$each(data,function(v,idx){\n$out+=' <li> <div class=\"rec-circle-top\"> <span class=\"circle-img-item\"> <div class=\"backgroundImg\" style=\"width: 290px;height: 190px\"> <a href=\"';\n$out+=$escape(v._group_url);\n$out+='\" target=\"_blank\" title=\"';\n$out+=$escape(v.cmsName);\n$out+='\"> <img data-original=\"';\n$out+=$escape(v.cmsIcon);\n$out+='\"> </a> </div> ';\nif(v.introduction){\n$out+=' <div class=\"r-c-t-block overflow-one\"> ';\n$out+=$escape(v.introduction);\n$out+='</div> ';\n}\n$out+=' <span class=\"babel overflow-one\">';\n$out+=$escape(v.category_name);\n$out+='</span> </span> </div> <div class=\"rec-circle-bottom\"> <p class=\"r-c-b-p1\"> <a href=\"';\n$out+=$escape(v._group_url);\n$out+='\" target=\"_blank\"> <span class=\"r-c-b-title overflow-one\">';\n$out+=$escape(v.cmsName);\n$out+='</span> </a> ';\nif(v.topicQuantity){\n$out+=' <span class=\"r-c-b-member last\">话题<i class=\"r-c-b-i\">';\n$out+=$escape(v.topicQuantity);\n$out+='</i></span> ';\n}\n$out+=' ';\nif(v.memberQuantity){\n$out+=' <span class=\"r-c-b-member\">成员<i class=\"r-c-b-i\">';\n$out+=$escape(v.memberQuantity);\n$out+='</i></span> ';\n}\n$out+=' </p> ';\n$each(v.topics,function(val,$index){\n$out+=' <p class=\"r-c-b-p2\"> <a class=\"overflow-one\" href=\"';\n$out+=$escape(val.topic_url);\n$out+='\" data-id=\\'';\n$out+=$escape(val.id);\n$out+='\\' target=\"_blank\"> ';\nif(val.type==1){\n$out+=' [话题] ';\n}else{\n$out+=' [活动] ';\n}\n$out+=' ';\n$out+=$string(val.name);\n$out+='</a> </p> ';\n});\n$out+='  ';\nif(v.status == 0){\n$out+=' <a class=\"add-circle add-hover none\" href=\"javascript:void(0)\" data-action=\"joinCircle\" data-groupid=';\n$out+=$escape(v.group_id);\n$out+='> <em></em> <span>加入圈子</span> </a> <a class=\"ok-add-circle\" href=\"';\n$out+=$escape(v._group_url);\n$out+='\" data-node=\"joinCircleSuc\" target=\"_blank\"> <em></em> <span>已加入</span> </a> <a class=\"add-circle check-add-circle none\" href=\"';\n$out+=$escape(v._group_url);\n$out+='\" data-node=\"joinCircleChk\" target=\"_blank\"><em> </em><span>审核中</span></a> <a class=\"add-circle refuse-add-circle none\" href=\"';\n$out+=$escape(v._group_url);\n$out+='\" data-node=\"joinCircleRef\" target=\"_blank\"> <em> </em><span>加入圈子</span></a>  ';\n}else if(v.status == 2){\n$out+=' <a class=\"add-circle add-hover none\" href=\"javascript:void(0)\" data-action=\"joinCircle\" data-groupid=';\n$out+=$escape(v.group_id);\n$out+='> <em></em> <span>加入圈子</span> </a> <a class=\"ok-add-circle none\" href=\"';\n$out+=$escape(v._group_url);\n$out+='\" data-node=\"joinCircleSuc\" target=\"_blank\"> <em></em> <span>已加入</span> </a> <a class=\"add-circle check-add-circle\" href=\"';\n$out+=$escape(v._group_url);\n$out+='\" data-node=\"joinCircleChk\" target=\"_blank\"><em> </em><span>审核中</span></a> <a class=\"add-circle refuse-add-circle none\" href=\"';\n$out+=$escape(v._group_url);\n$out+='\" data-node=\"joinCircleRef\" target=\"_blank\"> <em> </em><span>加入圈子</span></a>  ';\n}else{\n$out+=' <a class=\"add-circle add-hover\" href=\"javascript:void(0)\" data-action=\"joinCircle\" data-groupid=';\n$out+=$escape(v.group_id);\n$out+='> <em></em> <span>加入圈子</span> </a> <a class=\"ok-add-circle none\" href=\"';\n$out+=$escape(v._group_url);\n$out+='\" data-node=\"joinCircleSuc\" target=\"_blank\"> <em></em> <span>已加入</span> </a> <a class=\"add-circle check-add-circle none\" href=\"';\n$out+=$escape(v._group_url);\n$out+='\" data-node=\"joinCircleChk\" target=\"_blank\"><em> </em><span>审核中</span></a> <a class=\"add-circle refuse-add-circle none\" href=\"';\n$out+=$escape(v._group_url);\n$out+='\" data-node=\"joinCircleRef\" target=\"_blank\"> <em> </em><span>加入圈子</span></a> ';\n}\n$out+=' </div> </li> ';\n});\n$out+=' ';\nreturn new String($out);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/page/circleIndex/tabWidget/circleTab.tpl\n// module id = 58\n// module chunks = 1","/*\n *@author:dongyukuan\n *@desc:不断寻觅滚动加载\n *@date:2017/5/8\n */\n\nrequire('lazyload');\nvar url = require('io/url');\nvar fetch = require('io/fetch');\nvar goOnTpl = require('./goOn.tpl');\n\nvar $container = $('[data-node=container]');\n\nvar bpBefore = 'group-PGPH0101-';\n\nvar initGoOn = function() {\n    var topicPath = $_CONFIG.group_domain + 'topic/';\n    var imgDomain = $GLOBAL_CONFIG.pcimgpath;\n    var groupDomain = $_CONFIG['group_domain'];\n    var api = groupDomain + url.get('getHomepageGoOn');\n    fetch.get(api).done(function(data) {\n        if (!data.success || !data.data.length) return;\n        var dataAry = data.data;\n        for (var i = 0; i < dataAry.length; i++) {\n            var modNum = i + 1;\n            dataAry[i].topicURL = topicPath + dataAry[i].id + '.html?intcmp=' + bpBefore + modNum;\n        }\n        var html = goOnTpl({\n            goOnData: dataAry,\n            imgpath: imgDomain\n        });\n        $container.append($(html));\n        var $goOn = $('[data-node=goOn]');\n        $goOn.find('img').lazyload({\n            effect: 'fadeIn',\n            failure_limit: 10\n        });\n    });\n}\nvar goOnFlag = 1;\n\nvar scrollLoading = function() {\n    if (!goOnFlag) return;\n    if ($(document).scrollTop() + $(window).height() + 400 >= $container.offset().top + $container.height()) {\n        //加载不断寻觅\n        initGoOn();\n        goOnFlag = 0;\n    }\n};\nvar initEvent = function() {\n    $(window).on('scroll', scrollLoading);\n}\nmodule.exports.init = initEvent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/circleIndex/goon/index.js","var template=require('tmodjs-loader/runtime');\nmodule.exports=template('src/js/page/circleIndex/goon/goOn',function($data,$filename\n/*``*/) {\n'use strict';var $utils=this,$helpers=$utils.$helpers,$each=$utils.$each,goOnData=$data.goOnData,$value=$data.$value,$index=$data.$index,$escape=$utils.$escape,$out='';$out+='<div class=\"index-circle go-on\" data-node=\"goOn\"> <div class=\"index-title clearfix\"> <h2 class=\"title-h2\">不断寻觅</h2> </div> <div class=\"index-circle-list\"> <ul class=\"clearfix\"> ';\n$each(goOnData,function($value,$index){\n$out+=' <li> <div class=\"mg-negative\"> <div class=\"img scale-small backgroundImg-lit\"> <a href=\"';\n$out+=$escape($value.topicURL);\n$out+='\" target=\"_blank\"> <img data-original=\"';\n$out+=$escape($value.url);\n$out+='\"> </a> </div> <div class=\"text\"> <a href=\"';\n$out+=$escape($value.topicURL);\n$out+='\" target=\"_blank\"> <span class=\"list-title overflow-one\">';\n$out+=$escape($value.name);\n$out+='</span> </a> <span class=\"from-title overflow-one\">';\n$out+=$escape($value.feedReason||$value.group_name);\n$out+='</span> <div class=\"text-icon\"> <a href=\"';\n$out+=$escape($value.topicURL);\n$out+='\" target=\"_blank\"> <span class=\"ticon-like\"><i>';\n$out+=$escape($value.userQuantity);\n$out+='</i></span> <span class=\"ticon-speak\"><i>';\n$out+=$escape($value.replyQuantity);\n$out+='</i></span> <span class=\"ticon-star\"><i>';\n$out+=$escape($value.topicCollectionQuantity);\n$out+='</i></span> </a> </div> </div> </div> </li> ';\n});\n$out+=' </ul> </div> </div> ';\nreturn new String($out);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/page/circleIndex/goon/goOn.tpl\n// module id = 60\n// module chunks = 1"],"sourceRoot":""}