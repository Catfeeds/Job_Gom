{"version":3,"sources":["webpack:///./src/js/page/uc_index/index.js","webpack:///./~/_tmodjs-loader@1.0.1@tmodjs-loader/runtime.js?5041*******************","webpack:///./src/js/module/popup/alert.js?466a*******************","webpack:///./src/js/module/popup/confirm.js?0fbf********","webpack:///./src/js/page/uc_index/confirmGoods.js","webpack:///./src/js/page/uc_index/recommendGoods/index.js","webpack:///./src/js/page/uc_index/recommendGoods/goodList.tpl"],"names":["confirmGoods","require","recommendGoods","buriedPoint","init","setPageData","Dialog","noop","create","content","options","defaults","fixed","modal","autofocus","className","okCls","ok","$","extend","d","header","_$","title","css","show","module","exports","cancel","btnWrapCls","fetch","url","confirm","alert","$receiveGoods","showPop","receiveGoods","get","data","orderId","attr","shippingGroupId","done","success","pOrderConfirm","window","location","reload","fail","on","goodListTpl","$changeGoods","$goodList","$userShop","index","hide","goods","load","post","goodsData","length","addClass","i","push","slice","fillContent","modelPage","modelId","toString","$_CONFIG","grtjsp","html","list","append","changeGoods","remove"],"mappings":";;;;;;;AAAA;;;;;AAKA,KAAIA,eAAe,mBAAAC,CAAQ,GAAR,CAAnB;AACA,KAAIC,iBAAiB,mBAAAD,CAAQ,GAAR,CAArB;AACA,KAAIE,cAAc,mBAAAF,CAAQ,EAAR,CAAlB;AACA;AACAD,cAAaI,IAAb;;AAEA;AACAF,gBAAeE,IAAf;;AAEA;AACAD,aAAYE,WAAZ,CAAwB,SAAxB,E;;;;;;;ACfA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mCAAkC;AAClC;;AAEA;AACA,yCAAwC,OAAO,2BAA2B;AAC1E;;AAEA;AACA;AACA,sCAAqC,YAAY;AACjD;AACA;;AAEA;AACA,0BAAyB,iEAAiE;AAC1F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA,aAAY,eAAe;AAC3B,kDAAiD;AACjD;AACA;AACA;AACA;;AAEA,sBAAqB;AACrB,cAAa;AACb,cAAa;AACb,cAAa;AACb,cAAa;AACb,cAAa;AACb,GAAE;AACF,kCAAiC;AACjC,IAAG;AACH,eAAc;AACd;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF,EAAC,G;;;;;;;;;AC9ED,KAAIC,SAAS,mBAAAL,CAAQ,EAAR,CAAb;AACA,KAAIM,OAAO,SAAPA,IAAO,GAAW,CAAE,CAAxB;;AAEA,KAAIC,SAAS,SAATA,MAAS,CAASC,OAAT,EAAkBC,OAAlB,EAA2B;AACpCD,eAAUA,WAAW,EAArB;AACAC,eAAUA,WAAW,EAArB;AACA,SAAIC,WAAW;AACXC,gBAAO,IADI;AAEXC,gBAAO,IAFI;AAGXC,oBAAW,KAHA;AAIXL,kBAAS,0BAA0BA,OAA1B,GAAoC,MAJlC;AAKXM,oBAAW,SALA;AAMXC,gBAAO,iCANI;AAOXC,aAAIV;AAPO,MAAf;AASAW,OAAEC,MAAF,CAAS,IAAT,EAAeR,QAAf,EAAyBD,OAAzB;AACA,SAAIU,IAAId,OAAOK,QAAP,CAAR;;AAEA,SAAIU,SAASD,EAAEE,EAAF,CAAK,QAAL,CAAb;AACA,SAAIC,QAAQH,EAAEE,EAAF,CAAK,OAAL,CAAZ;AACA,SAAG,CAACZ,QAAQa,KAAZ,EAAkB;AACdA,eAAMC,GAAN,CAAU,cAAV,EAA0B,MAA1B;AACH;AACDH,YAAOI,IAAP;AACAL,OAAEK,IAAF;AACA,YAAOL,CAAP;AACH,EAvBD;;AAyBAM,QAAOC,OAAP,GAAiBnB,MAAjB,C;;;;;;;;;;AC5BA,KAAIF,SAAS,mBAAAL,CAAQ,EAAR,CAAb;AACA,KAAIM,OAAO,SAAPA,IAAO,GAAW,CAAE,CAAxB;;AAEA,KAAIC,SAAS,SAATA,MAAS,CAASC,OAAT,EAAkBC,OAAlB,EAA2B;AACpC,SAAIC,WAAW;AACXC,gBAAO,IADI;AAEXC,gBAAO,IAFI;AAGXJ,kBAAS,0BAA0BA,OAA1B,GAAoC,MAHlC;AAIXM,oBAAW,SAJA;AAKXC,gBAAO,iCALI;AAMXC,aAAIV,IANO;AAOXqB,iBAAQrB,IAPG;AAQXsB,qBAAY;AARD,MAAf;AAUAX,OAAEC,MAAF,CAAS,IAAT,EAAeR,QAAf,EAAyBD,OAAzB;;AAEA,SAAIU,IAAId,OAAOK,QAAP,CAAR;;AAEA;AACA;AACA;AACA;;AAEAS,OAAEK,IAAF;AACA,YAAOL,CAAP;AACH,EAtBD;;AAwBAM,QAAOC,OAAP,GAAiBnB,MAAjB,C;;;;;;;;;;AC3BA;;;;;AAKA,KAAIsB,QAAQ,mBAAA7B,CAAQ,EAAR,CAAZ;AACA,KAAI8B,MAAM,mBAAA9B,CAAQ,EAAR,CAAV;AACA,KAAI+B,UAAU,mBAAA/B,CAAQ,EAAR,CAAd;AACA,KAAIgC,QAAQ,mBAAAhC,CAAQ,EAAR,CAAZ;;AAEA,KAAIiC,gBAAgBhB,EAAE,4BAAF,CAApB;;AAEA,KAAIiB,UAAU,SAAVA,OAAU,GAAW;AACrBH,aAAQ,EAAR,EAAY;AACRvB,kBAAS,yEADD;AAERO,gBAAO,EAFC;AAGRC,aAAI,cAAW;AACXmB;AACH;AALO,MAAZ;AAOH,EARD;AASA,KAAIA,eAAe,SAAfA,YAAe,GAAW;AAC1BN,WAAMO,GAAN,CAAUN,IAAIM,GAAJ,CAAQ,cAAR,CAAV,EAAmC;AAC/BC,eAAM;AACFC,sBAASL,cAAcM,IAAd,CAAmB,cAAnB,CADP;AAEFC,8BAAiBP,cAAcM,IAAd,CAAmB,sBAAnB;AAFf;AADyB,MAAnC,EAKGE,IALH,CAKQ,UAASJ,IAAT,EAAe;AACnB,aAAIA,KAAKK,OAAL,KAAiB,IAAjB,IAAyBL,KAAKA,IAAL,CAAUM,aAAV,KAA4B,IAAzD,EAA+D;AAC3DC,oBAAOC,QAAP,CAAgBC,MAAhB;AACH;AACJ,MATD,EASGC,IATH,CASQ,YAAW;AACff,eAAM,MAAN;AACH,MAXD;AAYH,EAbD;AAcA,KAAI7B,OAAO,SAAPA,IAAO,GAAW;AAClB8B,mBAAce,EAAd,CAAiB,OAAjB,EAA0Bd,OAA1B;AACH,EAFD;AAGAT,QAAOC,OAAP,GAAiB;AACbvB,WAAMA;AADO,EAAjB,C;;;;;;;;;;ACtCA;;;;;AAKA,KAAI0B,QAAQ,mBAAA7B,CAAQ,EAAR,CAAZ;AACA,KAAI8B,MAAM,mBAAA9B,CAAQ,EAAR,CAAV;AACA,KAAIgC,QAAQ,mBAAAhC,CAAQ,EAAR,CAAZ;AACA,KAAIiD,cAAc,mBAAAjD,CAAQ,GAAR,CAAlB;;AAEA,KAAIkD,eAAejC,EAAE,2BAAF,CAAnB;AACA,KAAIkC,YAAYlC,EAAE,sBAAF,CAAhB;AACA,KAAImC,YAAYnC,EAAE,sBAAF,CAAhB;;AAEA,KAAIoC,QAAQH,aAAab,IAAb,CAAkB,MAAlB,CAAZ;AACA,KAAIiB,OAAO,MAAX;AACA,KAAIC,QAAQ,EAAZ;;AAEA;AACA,KAAIC,OAAO,SAAPA,IAAO,GAAW;AAClB3B,WAAM4B,IAAN,CAAW3B,IAAIM,GAAJ,CAAQ,mBAAR,CAAX,EAAyCK,IAAzC,CAA8C,UAASJ,IAAT,EAAe;AACzD,aAAIA,KAAKK,OAAL,KAAiB,IAArB,EAA2B;AACvB,iBAAIgB,YAAYrB,KAAKA,IAArB;AACA,iBAAI,CAACqB,UAAUC,MAAf,EAAuB;AACnBP,2BAAUQ,QAAV,CAAmBN,IAAnB;AACH,cAFD,MAEO;AACH,sBAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAIH,UAAUC,MAA9B,EAAsCE,KAAK,CAA3C,EAA8C;AAC1CN,2BAAMO,IAAN,CAAWJ,UAAUK,KAAV,CAAgBF,CAAhB,EAAmBA,IAAI,CAAvB,CAAX;AACH;AACDG,6BAAYX,KAAZ;AACH;AACJ,UAVD,MAUO;AACHD,uBAAUQ,QAAV,CAAmBN,IAAnB;AACH;AACJ,MAdD,EAcGP,IAdH,CAcQ,YAAW;AACff,eAAM,MAAN;AACH,MAhBD;AAiBH,EAlBD;AAmBA,KAAIgC,cAAc,SAAdA,WAAc,CAASX,KAAT,EAAgB;AAC9B,SAAIY,YAAYZ,QAAQ,CAAR,GAAY,CAA5B;AACA,SAAIa,UAAU,EAAd;AACA,UAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAIN,MAAMF,KAAN,EAAaM,MAAjC,EAAyCE,GAAzC,EAA8C;AAC1CK,mBAAUL,IAAII,SAAd;AACA,aAAIC,QAAQC,QAAR,GAAmBR,MAAnB,KAA8B,CAAlC,EAAqC;AACjCO,uBAAU,QAAQA,OAAlB;AACH,UAFD,MAEO,IAAIA,QAAQC,QAAR,GAAmBR,MAAnB,KAA8B,CAAlC,EAAqC;AACxCO,uBAAU,OAAOA,OAAjB;AACH,UAFM,MAEA;AACHA,uBAAU,MAAMA,OAAhB;AACH;AACDX,eAAMF,KAAN,EAAaQ,CAAb,EAAgBK,OAAhB,GAA0BE,SAASC,MAAT,GAAkBH,OAA5C;AACH;AACD,SAAII,OAAOrB,YAAY;AACnBsB,eAAMhB,MAAMF,KAAN;AADa,MAAZ,CAAX;AAGAF,eAAUqB,MAAV,CAAiBF,IAAjB;AACH,EAlBD;AAmBA,KAAIG,cAAc,SAAdA,WAAc,GAAW;AACzB,SAAIpB,UAAWE,MAAMI,MAAN,GAAe,CAA9B,EAAkC;AAC9BN,iBAAQ,CAAR;AACH,MAFD,MAEO;AACHA;AACH;AACDH,kBAAaX,IAAb,CAAkB,WAAlB,EAA+Bc,KAA/B;AACApC,OAAE,yBAAF,EAA6ByD,MAA7B;AACAV,iBAAYX,KAAZ;AACH,EATD;AAUA,KAAIlD,OAAO,SAAPA,IAAO,GAAW;AAClBqD;AACAN,kBAAaF,EAAb,CAAgB,OAAhB,EAAyByB,WAAzB;AACH,EAHD;AAIAhD,QAAOC,OAAP,GAAiB;AACbvB,WAAMA;AADO,EAAjB,C;;;;;;;;ACvEA;AACA;AACA;AACA,cAAa,iJAAiJ;AAC9J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC,E","file":"uc_index.js","sourcesContent":["/**\r\n * 个人中心首页\r\n * @author QiaoLi\r\n */\r\n\r\nvar confirmGoods = require('./confirmGoods');\r\nvar recommendGoods = require('./recommendGoods');\r\nvar buriedPoint = require('utils/buriedPoint');\r\n//确认收货\r\nconfirmGoods.init();\r\n\r\n//推荐商品\r\nrecommendGoods.init();\r\n\r\n// 发送统计数据用\r\nburiedPoint.setPageData('ucenter');\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/uc_index/index.js","/*TMODJS:{}*/\r\n!function () {\r\n\tfunction a(a, b) {\r\n\t\treturn (/string|function/.test(typeof b) ? h : g)(a, b)\r\n\t}\r\n\r\n\tfunction b(a, c) {\r\n\t\treturn \"string\" != typeof a && (c = typeof a, \"number\" === c ? a += \"\" : a = \"function\" === c ? b(a.call(a)) : \"\"), a\r\n\t}\r\n\r\n\tfunction c(a) {\r\n\t\treturn l[a]\r\n\t}\r\n\r\n\tfunction d(a) {\r\n\t\treturn b(a).replace(/&(?![\\w#]+;)|[<>\"']/g, c)\r\n\t}\r\n\r\n\tfunction e(a, b) {\r\n\t\tif (m(a))for (var c = 0, d = a.length; d > c; c++)b.call(a, a[c], c, a); else for (c in a)b.call(a, a[c], c)\r\n\t}\r\n\r\n\tfunction f(a, b) {\r\n\t\tvar c = /(\\/)[^\\/]+\\1\\.\\.\\1/, d = (\"./\" + a).replace(/[^\\/]+$/, \"\"), e = d + b;\r\n\t\tfor (e = e.replace(/\\/\\.\\//g, \"/\"); e.match(c);)e = e.replace(c, \"/\");\r\n\t\treturn e\r\n\t}\r\n\r\n\tfunction g(b, c) {\r\n\t\tvar d = a.get(b) || i({filename: b, name: \"Render Error\", message: \"Template not found\"});\r\n\t\treturn c ? d(c) : d\r\n\t}\r\n\r\n\tfunction h(a, b) {\r\n\t\tif (\"string\" == typeof b) {\r\n\t\t\tvar c = b;\r\n\t\t\tb = function () {\r\n\t\t\t\treturn new k(c)\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar d = j[a] = function (c) {\r\n\t\t\ttry {\r\n\t\t\t\treturn new b(c, a) + \"\"\r\n\t\t\t} catch (d) {\r\n\t\t\t\treturn i(d)()\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn d.prototype = b.prototype = n, d.toString = function () {\r\n\t\t\treturn b + \"\"\r\n\t\t}, d\r\n\t}\r\n\r\n\tfunction i(a) {\r\n\t\tvar b = \"{Template Error}\", c = a.stack || \"\";\r\n\t\tif (c)c = c.split(\"\\n\").slice(0, 2).join(\"\\n\"); else for (var d in a)c += \"<\" + d + \">\\n\" + a[d] + \"\\n\\n\";\r\n\t\treturn function () {\r\n\t\t\treturn \"object\" == typeof console && console.error(b + \"\\n\\n\" + c), b\r\n\t\t}\r\n\t}\r\n\r\n\tvar j = a.cache = {}, k = this.String, l = {\r\n\t\t\"<\": \"&#60;\",\r\n\t\t\">\": \"&#62;\",\r\n\t\t'\"': \"&#34;\",\r\n\t\t\"'\": \"&#39;\",\r\n\t\t\"&\": \"&#38;\"\r\n\t}, m = Array.isArray || function (a) {\r\n\t\t\treturn \"[object Array]\" === {}.toString.call(a)\r\n\t\t}, n = a.utils = {\r\n\t\t$helpers: {}, $include: function (a, b, c) {\r\n\t\t\treturn a = f(c, a), g(a, b)\r\n\t\t}, $string: b, $escape: d, $each: e\r\n\t}, o = a.helpers = n.$helpers;\r\n\ta.get = function (a) {\r\n\t\treturn j[a.replace(/^\\.\\//, \"\")]\r\n\t}, a.helper = function (a, b) {\r\n\t\to[a] = b\r\n\t}, module.exports = a\r\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_tmodjs-loader@1.0.1@tmodjs-loader/runtime.js\n// module id = 34\n// module chunks = 0 1 2 3 4 5 7 9 13 15 16 20 21 22 26 27 29 30 32 34 35 38 43 44 45","var Dialog = require('dialog');\nvar noop = function() {};\n\nvar create = function(content, options) {\n    content = content || '';\n    options = options || {};\n    var defaults = {\n        fixed: true,\n        modal: true,\n        autofocus: false,\n        content: '<p class=\"del-pop-p\">' + content + '</p>',\n        className: 'pop-box',\n        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n        ok: noop\n    };\n    $.extend(true, defaults, options);\n    var d = Dialog(defaults);\n\n    var header = d._$('header');\n    var title = d._$('title');\n    if(!options.title){\n        title.css('borderBottom', 'none');\n    }\n    header.show();\n    d.show();\n    return d;\n};\n\nmodule.exports = create;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/alert.js","var Dialog = require('dialog');\nvar noop = function() {};\n\nvar create = function(content, options) {\n    var defaults = {\n        fixed: true,\n        modal: true,\n        content: '<p class=\"del-pop-p\">' + content + '</p>',\n        className: 'pop-box',\n        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n        ok: noop,\n        cancel: noop,\n        btnWrapCls: 'two-buttons'\n    };\n    $.extend(true, defaults, options);\n\n    var d = Dialog(defaults);\n\n    // var header = d._$('header');\n    // var title = d._$('title');\n    // title.css('borderBottom', 'none');\n    // header.show();\n\n    d.show();\n    return d;\n};\n\nmodule.exports = create;\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/confirm.js","/**\n * 个人中心首页确认收货\n * @author QiaoLi\n */\n\nvar fetch = require('io/fetch');\nvar url = require('io/url');\nvar confirm = require('module/popup/confirm');\nvar alert = require('module/popup/alert');\n\nvar $receiveGoods = $('[data-action=receiveGoods]');\n\nvar showPop = function() {\n    confirm('', {\n        content: '<p class=\"pay-pop-p del-pop-p\"><em class=\"iconn-25\"></em>请收到货后再确认收货</p>',\n        okCls: '',\n        ok: function() {\n            receiveGoods();\n        }\n    });\n}\nvar receiveGoods = function() {\n    fetch.get(url.get('confirmGoods'), {\n        data: {\n            orderId: $receiveGoods.attr('data-orderId'),\n            shippingGroupId: $receiveGoods.attr('data-shippingGroupId')\n        }\n    }).done(function(data) {\n        if (data.success === true && data.data.pOrderConfirm === true) {\n            window.location.reload();\n        }\n    }).fail(function() {\n        alert('加载失败');\n    });\n};\nvar init = function() {\n    $receiveGoods.on('click', showPop);\n};\nmodule.exports = {\n    init: init\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/uc_index/confirmGoods.js","/**\n * 个人中心首页推荐商品\n * @author QiaoLi\n */\n\nvar fetch = require('io/fetch');\nvar url = require('io/url');\nvar alert = require('module/popup/alert');\nvar goodListTpl = require('./goodList.tpl');\n\nvar $changeGoods = $('[data-action=changeGoods]');\nvar $goodList = $('[data-node=dataList]');\nvar $userShop = $('[data-node=userShop]');\n\nvar index = $changeGoods.data('page');\nvar hide = 'hide';\nvar goods = [];\n\n//加载中\nvar load = function() {\n    fetch.post(url.get('getRecommendGoods')).done(function(data) {\n        if (data.success === true) {\n            var goodsData = data.data;\n            if (!goodsData.length) {\n                $userShop.addClass(hide);\n            } else {\n                for (var i = 0; i < goodsData.length; i += 8) {\n                    goods.push(goodsData.slice(i, i + 8));\n                }\n                fillContent(index);\n            }\n        } else {\n            $userShop.addClass(hide);\n        }\n    }).fail(function() {\n        alert('加载失败');\n    });\n};\nvar fillContent = function(index) {\n    var modelPage = index * 8 + 1;\n    var modelId = \"\";\n    for (var i = 0; i < goods[index].length; i++) {\n        modelId = i + modelPage;\n        if (modelId.toString().length === 1) {\n            modelId = \"000\" + modelId;\n        } else if (modelId.toString().length === 2) {\n            modelId = \"00\" + modelId;\n        } else {\n            modelId = \"0\" + modelId;\n        }\n        goods[index][i].modelId = $_CONFIG.grtjsp + modelId;\n    }\n    var html = goodListTpl({\n        list: goods[index]\n    });\n    $goodList.append(html);\n};\nvar changeGoods = function() {\n    if (index === (goods.length - 1)) {\n        index = 0;\n    } else {\n        index++;\n    }\n    $changeGoods.attr('data-page', index);\n    $('[data-node=dataList] li').remove();\n    fillContent(index);\n};\nvar init = function() {\n    load();\n    $changeGoods.on('click', changeGoods);\n};\nmodule.exports = {\n    init: init\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/uc_index/recommendGoods/index.js","var template=require('tmodjs-loader/runtime');\nmodule.exports=template('src/js/page/uc_index/recommendGoods/goodList',function($data,$filename\n/*``*/) {\n'use strict';var $utils=this,$helpers=$utils.$helpers,$each=$utils.$each,list=$data.list,value=$data.value,$index=$data.$index,$escape=$utils.$escape,$out='';$each(list,function(value,$index){\n$out+=' <li modelid=\"';\n$out+=$escape(value.modelId);\n$out+='\"> <div class=\"mg-negative\"> <a href=\"';\n$out+=$escape(value.purl);\n$out+='\" target=\"_blank\" title=\"';\n$out+=$escape(value.pn);\n$out+='\"><img src=\"';\n$out+=$escape(value.iurl);\n$out+='\" alt=\"';\n$out+=$escape(value.pn);\n$out+='\" onerror=\"imgError(this)\"></a> <div class=\"btn-box\"> <a href=\"';\n$out+=$escape(value.purl);\n$out+='\" target=\"_blank\" class=\"pc-btn pc-btnh40\">立即购买</a> <a href=\"';\n$out+=$escape(value.purl);\n$out+='\" target=\"_blank\" class=\"pc-btn pc-btnh40 pc-bj-fc8753\">加入购物车</a> </div> <div class=\"text\"> <a href=\"';\n$out+=$escape(value.purl);\n$out+='\" target=\"_blank\"> ￥<span>';\n$out+=$escape(value.price);\n$out+='</span> <p>';\n$out+=$escape(value.pn);\n$out+='</p> </a> </div> </div> </li> ';\n});\n$out+=' ';\nreturn new String($out);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/page/uc_index/recommendGoods/goodList.tpl\n// module id = 293\n// module chunks = 35"],"sourceRoot":""}