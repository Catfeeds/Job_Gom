{"version":3,"sources":["webpack:///groupSearch.js","webpack:///./src/js/page/groupSearch/index.js","webpack:///./~/_tmodjs-loader@1.0.1@tmodjs-loader/runtime.js?5041******","webpack:///./src/js/module/popup/alert.js?466a*****","webpack:///./src/js/page/groupSearch/group.tpl","webpack:///./src/js/module/tmodHelper/showPic.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","$","$_CONFIG","fetch","url","tpl","alert","$container","keyword","data","$loadMore","$loading","buriedPoint","setPageData","firing","page","finished","beforeLoad","hide","show","noMoreData","find","html","off","groupEvent","on","e","target","closest","this","length","window","open","attr","load","get","pagesize","done","json","code","modelidPage","groups","modelid","i","append","fail","always","init","call","34","a","b","test","h","g","c","l","d","replace","m","f","match","filename","name","message","k","j","prototype","n","toString","stack","split","slice","join","console","error","cache","String","<",">","\"","'","&","Array","isArray","utils","$helpers","$include","$string","$escape","$each","o","helpers","helper","36","Dialog","noop","create","content","options","defaults","fixed","modal","autofocus","className","okCls","ok","extend","header","_$","title","css","172","template","$data","$filename","$utils","group","index","$out","id","groupId","showPic","groupIcon","icon","category","memberQuantity","topicQuantity","173","tmod","pic","defaultpic","imgpath"],"mappings":"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","file":"groupSearch.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, $_CONFIG) {'use strict';\n\t\n\tvar fetch = __webpack_require__(21);\n\tvar url = __webpack_require__(24);\n\tvar tpl = __webpack_require__(172);\n\tvar alert = __webpack_require__(36);\n\t\n\t__webpack_require__(173)();\n\t\n\tvar $container = $('[data-node=groupWrap]'); // 圈子容器\n\tvar keyword = $container.data('keyword'); // 关键字\n\tvar $loadMore = $('[data-action=loadMore]');\n\tvar $loading = $('[data-node=loading]');\n\t// var $noload = $('[data-node=noload]');\n\t// 发送统计数据用\n\tvar buriedPoint = __webpack_require__(40);\n\tburiedPoint.setPageData('searchGroup');\n\t\n\t// 加载更多\n\tvar firing = false; // 是否正在加载\n\tvar page = 2;\n\tvar finished = false; // 数据是否全部加载完毕\n\t\n\tvar beforeLoad = function beforeLoad() {\n\t    $loadMore.hide();\n\t    $loading.show();\n\t};\n\t\n\tvar noMoreData = function noMoreData() {\n\t    $loadMore.find('span').html('没有更多数据');\n\t    $loadMore.off().show();\n\t    $loading.hide();\n\t};\n\t\n\tvar groupEvent = function groupEvent() {\n\t    $('[data-node=groupWrap]').on('click', '[data-node=groupList]', function (e) {\n\t        if (!$(e.target).closest('a', this).length) {\n\t            window.open($_CONFIG['group_domain'] + 'circle/' + $(this).attr('data-id') + '.html');\n\t        }\n\t    });\n\t};\n\t\n\tvar load = function load() {\n\t    if (firing) {\n\t        return;\n\t    }\n\t    if (finished) {\n\t        noMoreData();\n\t        return;\n\t    }\n\t    firing = true;\n\t    beforeLoad();\n\t\n\t    fetch.get(url.get('searchGroup'), {\n\t        data: {\n\t            keyword: keyword,\n\t            page: page,\n\t            pagesize: 20\n\t        }\n\t    }).done(function (json) {\n\t        if (json.code === 200) {\n\t            var modelidPage = (page - 1) * 20; //埋点用的modelid增加基点\n\t            page++;\n\t            var groups = json.data.groups || [];\n\t            if (groups.length == 0) {\n\t                finished = true;\n\t                noMoreData();\n\t            } else {\n\t                var modelid;\n\t                for (var i = 0; i < groups.length; i++) {\n\t                    modelid = i + modelidPage + 1 + '';\n\t                    switch (modelid.length) {\n\t                        case 1:\n\t                            modelid = '000' + modelid;\n\t                            break;\n\t                        case 2:\n\t                            modelid = '00' + modelid;\n\t                            break;\n\t                        case 3:\n\t                            modelid = '0' + modelid;\n\t                            break;\n\t                        default:\n\t                            modelid = modelid;\n\t                    }\n\t                    groups[i].modelid = $_CONFIG['ssqzjg'] + modelid;\n\t                }\n\t                groups.keyword = keyword; // 关键词\n\t                var html = tpl({\n\t                    groups: groups\n\t                });\n\t                $loading.hide();\n\t                $container.append(html);\n\t                if (groups.length < 20) {\n\t                    noMoreData();\n\t                } else {\n\t                    $loadMore.show();\n\t                }\n\t            }\n\t        }\n\t    }).fail(function () {\n\t        alert(\"数据请求失败 请稍后尝试\");\n\t    }).always(function () {\n\t        firing = false;\n\t    });\n\t    return false;\n\t};\n\t\n\tvar init = function init() {\n\t    $loadMore.on('click', load); // 加载更多\n\t    // 暂时使用js添加链接跳转\n\t    // TODO:\n\t    // 可能存在的坑：如果节点结构发生变化,判断逻辑可能失效\n\t    // 如果需求希望整个card都可以跳转,在外层添加a标签是更好的做法\n\t    groupEvent();\n\t\n\t    /*\n\t      share.shareItem($('[data-node=groupWrap]'), '[data-node=share]', function(conf){\n\t    \tconf.url = $_CONFIG.group_domain + conf.url;\n\t    \tconf.title = conf.title + '这儿有我们志趣相投的小伙伴，快加入我们吧！';\n\t    });\n\t    */\n\t};\n\t\n\tinit();\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(3)))\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports) {\n\n\t/*TMODJS:{}*/\r\n\t!function () {\r\n\t\tfunction a(a, b) {\r\n\t\t\treturn (/string|function/.test(typeof b) ? h : g)(a, b)\r\n\t\t}\r\n\t\r\n\t\tfunction b(a, c) {\r\n\t\t\treturn \"string\" != typeof a && (c = typeof a, \"number\" === c ? a += \"\" : a = \"function\" === c ? b(a.call(a)) : \"\"), a\r\n\t\t}\r\n\t\r\n\t\tfunction c(a) {\r\n\t\t\treturn l[a]\r\n\t\t}\r\n\t\r\n\t\tfunction d(a) {\r\n\t\t\treturn b(a).replace(/&(?![\\w#]+;)|[<>\"']/g, c)\r\n\t\t}\r\n\t\r\n\t\tfunction e(a, b) {\r\n\t\t\tif (m(a))for (var c = 0, d = a.length; d > c; c++)b.call(a, a[c], c, a); else for (c in a)b.call(a, a[c], c)\r\n\t\t}\r\n\t\r\n\t\tfunction f(a, b) {\r\n\t\t\tvar c = /(\\/)[^\\/]+\\1\\.\\.\\1/, d = (\"./\" + a).replace(/[^\\/]+$/, \"\"), e = d + b;\r\n\t\t\tfor (e = e.replace(/\\/\\.\\//g, \"/\"); e.match(c);)e = e.replace(c, \"/\");\r\n\t\t\treturn e\r\n\t\t}\r\n\t\r\n\t\tfunction g(b, c) {\r\n\t\t\tvar d = a.get(b) || i({filename: b, name: \"Render Error\", message: \"Template not found\"});\r\n\t\t\treturn c ? d(c) : d\r\n\t\t}\r\n\t\r\n\t\tfunction h(a, b) {\r\n\t\t\tif (\"string\" == typeof b) {\r\n\t\t\t\tvar c = b;\r\n\t\t\t\tb = function () {\r\n\t\t\t\t\treturn new k(c)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar d = j[a] = function (c) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn new b(c, a) + \"\"\r\n\t\t\t\t} catch (d) {\r\n\t\t\t\t\treturn i(d)()\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn d.prototype = b.prototype = n, d.toString = function () {\r\n\t\t\t\treturn b + \"\"\r\n\t\t\t}, d\r\n\t\t}\r\n\t\r\n\t\tfunction i(a) {\r\n\t\t\tvar b = \"{Template Error}\", c = a.stack || \"\";\r\n\t\t\tif (c)c = c.split(\"\\n\").slice(0, 2).join(\"\\n\"); else for (var d in a)c += \"<\" + d + \">\\n\" + a[d] + \"\\n\\n\";\r\n\t\t\treturn function () {\r\n\t\t\t\treturn \"object\" == typeof console && console.error(b + \"\\n\\n\" + c), b\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvar j = a.cache = {}, k = this.String, l = {\r\n\t\t\t\"<\": \"&#60;\",\r\n\t\t\t\">\": \"&#62;\",\r\n\t\t\t'\"': \"&#34;\",\r\n\t\t\t\"'\": \"&#39;\",\r\n\t\t\t\"&\": \"&#38;\"\r\n\t\t}, m = Array.isArray || function (a) {\r\n\t\t\t\treturn \"[object Array]\" === {}.toString.call(a)\r\n\t\t\t}, n = a.utils = {\r\n\t\t\t$helpers: {}, $include: function (a, b, c) {\r\n\t\t\t\treturn a = f(c, a), g(a, b)\r\n\t\t\t}, $string: b, $escape: d, $each: e\r\n\t\t}, o = a.helpers = n.$helpers;\r\n\t\ta.get = function (a) {\r\n\t\t\treturn j[a.replace(/^\\.\\//, \"\")]\r\n\t\t}, a.helper = function (a, b) {\r\n\t\t\to[a] = b\r\n\t\t}, module.exports = a\r\n\t}();\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tvar Dialog = __webpack_require__(37);\n\tvar noop = function noop() {};\n\t\n\tvar create = function create(content, options) {\n\t    content = content || '';\n\t    options = options || {};\n\t    var defaults = {\n\t        fixed: true,\n\t        modal: true,\n\t        autofocus: false,\n\t        content: '<p class=\"del-pop-p\">' + content + '</p>',\n\t        className: 'pop-box',\n\t        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n\t        ok: noop\n\t    };\n\t    $.extend(true, defaults, options);\n\t    var d = Dialog(defaults);\n\t\n\t    var header = d._$('header');\n\t    var title = d._$('title');\n\t    if (!options.title) {\n\t        title.css('borderBottom', 'none');\n\t    }\n\t    header.show();\n\t    d.show();\n\t    return d;\n\t};\n\t\n\tmodule.exports = create;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar template=__webpack_require__(34);\n\tmodule.exports=template('src/js/page/groupSearch/group',function($data,$filename\n\t/*``*/) {\n\t'use strict';var $utils=this,$helpers=$utils.$helpers,$each=$utils.$each,groups=$data.groups,group=$data.group,index=$data.index,$escape=$utils.$escape,$out='';$each(groups,function(group,index){\n\t$out+=' <div modelid=\"';\n\t$out+=$escape(group.modelid);\n\t$out+='\" class=\"shop-list\" data-node=\\'groupList\\' data-id=\\'';\n\t$out+=$escape(group.id);\n\t$out+='\\'> <div class=\"mg-negative\"> <!--<a data-node=\"share\" href=\"javascript:;\" class=\"a-share search-circle-share\" data-surl=\"topic/index?gid=';\n\t$out+=$escape(group.groupId);\n\t$out+='\" data-stitle=\"';\n\t$out+=$escape(group.name);\n\t$out+='\" data-spic=\"';\n\t$out+=$escape($helpers. showPic(group.groupIcon ));\n\t$out+='\"> <em class=\"icon icon-share\"></em>分享到</a> --> <div class=\"user-head\"> <a target=\"_blank\" href=\"/circle/';\n\t$out+=$escape(group.id);\n\t$out+='.html\" bp-data=\\'{\"event_id\": \"G000P006\", \"s_word\": \"';\n\t$out+=$escape(groups.keyword);\n\t$out+='\", \"group_id\": \"';\n\t$out+=$escape(group.id);\n\t$out+='\", \"s_type\": \"group\"}\\'><img src=\"';\n\t$out+=$escape($helpers. showPic(group.icon , 'circle-default.png'));\n\t$out+='\" title=\"';\n\t$out+=$escape(group.category.name);\n\t$out+='\"></a> </div> <h3 class=\"user-name\">';\n\t$out+=$escape(group.name);\n\t$out+='</h3> <div><span class=\"pc-btn pc-bj-fc8753 circle-type\">';\n\t$out+=$escape(group.category.name);\n\t$out+='</span></div> <div class=\"user-top-info\"> <ul class=\"clearfix\"> <li>成员：<span>';\n\t$out+=$escape(group.memberQuantity);\n\t$out+='</span></li> <li>话题：<span>';\n\t$out+=$escape(group.topicQuantity);\n\t$out+='</span></li> </ul> </div> </div> </div> ';\n\t});\n\treturn new String($out);\n\t});\n\n/***/ }),\n\n/***/ 173:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($_CONFIG) {'use strict';\n\t\n\t/**\n\t * showPic  - tmod helpers\n\t * 社交部分显示默认图片\n\t * @author Zhengchun Fu\n\t */\n\tvar tmod = __webpack_require__(34);\n\tvar showPic = function showPic(pic, defaultpic) {\n\t\tif (pic === '') {\n\t\t\treturn $_CONFIG.imgpath + '/images/public/' + defaultpic;\n\t\t} else {\n\t\t\treturn pic;\n\t\t}\n\t};\n\t\n\tmodule.exports = function () {\n\t\ttmod.helper('showPic', showPic);\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// groupSearch.js","var fetch = require('io/fetch');\nvar url = require('io/url');\nvar tpl = require('./group.tpl');\nvar alert = require('module/popup/alert');\n\nrequire('module/tmodHelper/showPic')();\n\nvar $container = $('[data-node=groupWrap]'); // 圈子容器\nvar keyword = $container.data('keyword'); // 关键字\nvar $loadMore = $('[data-action=loadMore]');\nvar $loading = $('[data-node=loading]');\n// var $noload = $('[data-node=noload]');\n// 发送统计数据用\nvar buriedPoint = require('utils/buriedPoint');\nburiedPoint.setPageData('searchGroup');\n\n// 加载更多\nvar firing = false; // 是否正在加载\nvar page = 2;\nvar finished = false; // 数据是否全部加载完毕\n\nvar beforeLoad = function() {\n    $loadMore.hide();\n    $loading.show();\n};\n\nvar noMoreData = function() {\n    $loadMore.find('span').html('没有更多数据');\n    $loadMore.off().show();\n    $loading.hide();\n};\n\nvar groupEvent = function() {\n    $('[data-node=groupWrap]').on('click', '[data-node=groupList]', function(e) {\n        if (!$(e.target).closest('a', this).length) {\n            window.open($_CONFIG['group_domain'] + 'circle/' + $(this).attr('data-id') + '.html');\n        }\n    });\n};\n\nvar load = function() {\n    if (firing) {\n        return;\n    }\n    if (finished) {\n        noMoreData();\n        return;\n    }\n    firing = true;\n    beforeLoad();\n\n    fetch.get(url.get('searchGroup'), {\n        data: {\n            keyword: keyword,\n            page: page,\n            pagesize: 20\n        }\n    }).done(function(json) {\n        if (json.code === 200) {\n            var modelidPage = (page-1)*20;//埋点用的modelid增加基点\n            page++;\n            var groups = json.data.groups || [];\n            if (groups.length == 0) {\n                finished = true;\n                noMoreData();\n            } else {\n                var modelid;\n                for( var i=0;i<groups.length;i++ ){\n                    modelid = i+modelidPage+1+'';\n                    switch (modelid.length){\n                        case 1:\n                            modelid = '000'+modelid;\n                            break;\n                        case 2:\n                            modelid = '00'+modelid;\n                            break;\n                        case 3:\n                            modelid = '0'+modelid;\n                            break;\n                        default:\n                            modelid = modelid;\n                    }\n                    groups[i].modelid = $_CONFIG['ssqzjg']+modelid\n                }\n                groups.keyword = keyword; // 关键词\n                var html = tpl({\n                    groups: groups\n                });\n                $loading.hide();\n                $container.append(html);\n                if (groups.length < 20) {\n                    noMoreData();\n                } else {\n                    $loadMore.show();\n                }\n            }\n        }\n    }).fail(function() {\n        alert(\"数据请求失败 请稍后尝试\");\n    }).always(function() {\n        firing = false;\n    });\n    return false;\n};\n\nvar init = function() {\n    $loadMore.on('click', load); // 加载更多\n    // 暂时使用js添加链接跳转\n    // TODO:\n    // 可能存在的坑：如果节点结构发生变化,判断逻辑可能失效\n    // 如果需求希望整个card都可以跳转,在外层添加a标签是更好的做法\n    groupEvent();\n\n    /*\n\t\n    share.shareItem($('[data-node=groupWrap]'), '[data-node=share]', function(conf){\n    \tconf.url = $_CONFIG.group_domain + conf.url;\n    \tconf.title = conf.title + '这儿有我们志趣相投的小伙伴，快加入我们吧！';\n    });\n    */\n};\n\ninit();\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/groupSearch/index.js","/*TMODJS:{}*/\r\n!function () {\r\n\tfunction a(a, b) {\r\n\t\treturn (/string|function/.test(typeof b) ? h : g)(a, b)\r\n\t}\r\n\r\n\tfunction b(a, c) {\r\n\t\treturn \"string\" != typeof a && (c = typeof a, \"number\" === c ? a += \"\" : a = \"function\" === c ? b(a.call(a)) : \"\"), a\r\n\t}\r\n\r\n\tfunction c(a) {\r\n\t\treturn l[a]\r\n\t}\r\n\r\n\tfunction d(a) {\r\n\t\treturn b(a).replace(/&(?![\\w#]+;)|[<>\"']/g, c)\r\n\t}\r\n\r\n\tfunction e(a, b) {\r\n\t\tif (m(a))for (var c = 0, d = a.length; d > c; c++)b.call(a, a[c], c, a); else for (c in a)b.call(a, a[c], c)\r\n\t}\r\n\r\n\tfunction f(a, b) {\r\n\t\tvar c = /(\\/)[^\\/]+\\1\\.\\.\\1/, d = (\"./\" + a).replace(/[^\\/]+$/, \"\"), e = d + b;\r\n\t\tfor (e = e.replace(/\\/\\.\\//g, \"/\"); e.match(c);)e = e.replace(c, \"/\");\r\n\t\treturn e\r\n\t}\r\n\r\n\tfunction g(b, c) {\r\n\t\tvar d = a.get(b) || i({filename: b, name: \"Render Error\", message: \"Template not found\"});\r\n\t\treturn c ? d(c) : d\r\n\t}\r\n\r\n\tfunction h(a, b) {\r\n\t\tif (\"string\" == typeof b) {\r\n\t\t\tvar c = b;\r\n\t\t\tb = function () {\r\n\t\t\t\treturn new k(c)\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar d = j[a] = function (c) {\r\n\t\t\ttry {\r\n\t\t\t\treturn new b(c, a) + \"\"\r\n\t\t\t} catch (d) {\r\n\t\t\t\treturn i(d)()\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn d.prototype = b.prototype = n, d.toString = function () {\r\n\t\t\treturn b + \"\"\r\n\t\t}, d\r\n\t}\r\n\r\n\tfunction i(a) {\r\n\t\tvar b = \"{Template Error}\", c = a.stack || \"\";\r\n\t\tif (c)c = c.split(\"\\n\").slice(0, 2).join(\"\\n\"); else for (var d in a)c += \"<\" + d + \">\\n\" + a[d] + \"\\n\\n\";\r\n\t\treturn function () {\r\n\t\t\treturn \"object\" == typeof console && console.error(b + \"\\n\\n\" + c), b\r\n\t\t}\r\n\t}\r\n\r\n\tvar j = a.cache = {}, k = this.String, l = {\r\n\t\t\"<\": \"&#60;\",\r\n\t\t\">\": \"&#62;\",\r\n\t\t'\"': \"&#34;\",\r\n\t\t\"'\": \"&#39;\",\r\n\t\t\"&\": \"&#38;\"\r\n\t}, m = Array.isArray || function (a) {\r\n\t\t\treturn \"[object Array]\" === {}.toString.call(a)\r\n\t\t}, n = a.utils = {\r\n\t\t$helpers: {}, $include: function (a, b, c) {\r\n\t\t\treturn a = f(c, a), g(a, b)\r\n\t\t}, $string: b, $escape: d, $each: e\r\n\t}, o = a.helpers = n.$helpers;\r\n\ta.get = function (a) {\r\n\t\treturn j[a.replace(/^\\.\\//, \"\")]\r\n\t}, a.helper = function (a, b) {\r\n\t\to[a] = b\r\n\t}, module.exports = a\r\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_tmodjs-loader@1.0.1@tmodjs-loader/runtime.js\n// module id = 34\n// module chunks = 0 2 3 4 5 6 8 10 14 16 17 21 22 23 27 28 30 31 33 35 36 39 44 45 46","var Dialog = require('dialog');\nvar noop = function() {};\n\nvar create = function(content, options) {\n    content = content || '';\n    options = options || {};\n    var defaults = {\n        fixed: true,\n        modal: true,\n        autofocus: false,\n        content: '<p class=\"del-pop-p\">' + content + '</p>',\n        className: 'pop-box',\n        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n        ok: noop\n    };\n    $.extend(true, defaults, options);\n    var d = Dialog(defaults);\n\n    var header = d._$('header');\n    var title = d._$('title');\n    if(!options.title){\n        title.css('borderBottom', 'none');\n    }\n    header.show();\n    d.show();\n    return d;\n};\n\nmodule.exports = create;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/alert.js","var template=require('tmodjs-loader/runtime');\nmodule.exports=template('src/js/page/groupSearch/group',function($data,$filename\n/*``*/) {\n'use strict';var $utils=this,$helpers=$utils.$helpers,$each=$utils.$each,groups=$data.groups,group=$data.group,index=$data.index,$escape=$utils.$escape,$out='';$each(groups,function(group,index){\n$out+=' <div modelid=\"';\n$out+=$escape(group.modelid);\n$out+='\" class=\"shop-list\" data-node=\\'groupList\\' data-id=\\'';\n$out+=$escape(group.id);\n$out+='\\'> <div class=\"mg-negative\"> <!--<a data-node=\"share\" href=\"javascript:;\" class=\"a-share search-circle-share\" data-surl=\"topic/index?gid=';\n$out+=$escape(group.groupId);\n$out+='\" data-stitle=\"';\n$out+=$escape(group.name);\n$out+='\" data-spic=\"';\n$out+=$escape($helpers. showPic(group.groupIcon ));\n$out+='\"> <em class=\"icon icon-share\"></em>分享到</a> --> <div class=\"user-head\"> <a target=\"_blank\" href=\"/circle/';\n$out+=$escape(group.id);\n$out+='.html\" bp-data=\\'{\"event_id\": \"G000P006\", \"s_word\": \"';\n$out+=$escape(groups.keyword);\n$out+='\", \"group_id\": \"';\n$out+=$escape(group.id);\n$out+='\", \"s_type\": \"group\"}\\'><img src=\"';\n$out+=$escape($helpers. showPic(group.icon , 'circle-default.png'));\n$out+='\" title=\"';\n$out+=$escape(group.category.name);\n$out+='\"></a> </div> <h3 class=\"user-name\">';\n$out+=$escape(group.name);\n$out+='</h3> <div><span class=\"pc-btn pc-bj-fc8753 circle-type\">';\n$out+=$escape(group.category.name);\n$out+='</span></div> <div class=\"user-top-info\"> <ul class=\"clearfix\"> <li>成员：<span>';\n$out+=$escape(group.memberQuantity);\n$out+='</span></li> <li>话题：<span>';\n$out+=$escape(group.topicQuantity);\n$out+='</span></li> </ul> </div> </div> </div> ';\n});\nreturn new String($out);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/page/groupSearch/group.tpl\n// module id = 172\n// module chunks = 8","/**\n * showPic  - tmod helpers\n * 社交部分显示默认图片\n * @author Zhengchun Fu\n */\nvar tmod = require('tmodjs-loader/runtime');\nvar showPic = function(pic, defaultpic) {\n\tif (pic === '') {\n\t\treturn $_CONFIG.imgpath + '/images/public/' + defaultpic;\n\t} else {\n\t\treturn pic;\n\t}\n};\n\nmodule.exports = function() {\n\ttmod.helper('showPic', showPic);\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/tmodHelper/showPic.js"],"sourceRoot":""}