{"version":3,"sources":["webpack:///uc_orderDetails.js","webpack:///./src/js/page/uc_orderDetails/index.js","webpack:///./src/js/module/popup/alert.js?466a*********************","webpack:///./src/js/module/hint.js?34fa************","webpack:///./src/js/module/popup/confirm.js?0fbf*********","webpack:///./src/js/module/popup/contactMerchant/index.js?5395","webpack:///./src/js/page/uc_orderDetails/cancelOrder.js","webpack:///./src/js/module/ucCancelOrder.js","webpack:///./src/js/page/uc_orderDetails/receiptGoods.js","webpack:///./src/js/module/ucReceiptGoods.js","webpack:///./src/js/page/uc_orderDetails/contactMerchant.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","init","36","$","Dialog","noop","create","content","options","defaults","fixed","modal","autofocus","className","okCls","ok","extend","d","header","_$","title","css","show","call","44","$publicMask","$publicTips","timer","events","off","on","hide","msg","duration","callback","clearTimeout","length","text","append","offsetHeight","width","setTimeout","65","cancel","btnWrapCls","306","$_CONFIG","alert","contactMerchant","$imgPath","imgpath","307","cancelOrder","unPayCancelNode","payedCancelNode","orderStautsNode","$orderDetail","$orderStauts","unPayCancelOrder","$this","this","orderId","data","isPayed","id","okFn","desc","parent","empty","payedCancelOrder","addClass","attr","308","fetch","url","confirm","toast","tipsMsg","cancelFail","canceled","cancelUrl","cancelCls","get","done","info","status","statusDesc","success","location","reload","message","fail","309","receiptGoods","confirmReceiptNode","delayReceiptNode","confirmReceipt","delayReceipt","disabledCls","hasClass","$time","time","split","day","parseInt","hour","min","remove","310","confirmFail","delayFail","confirmed","post","orderDeliveryId","postId","311","$orderList","contactMerchantNode"],"mappings":"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","file":"uc_orderDetails.js","sourcesContent":["webpackJsonp([38],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * 个人中心——订单详情\r\n\t * @author Zhengchun Fu\r\n\t */\n\t\n\t// 取消订单\n\t__webpack_require__(307).init();\n\t\n\t// 收货操作:确认收货，延迟收货\n\t__webpack_require__(309).init();\n\t\n\t// 联系商家\n\t__webpack_require__(311).init();\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tvar Dialog = __webpack_require__(37);\n\tvar noop = function noop() {};\n\t\n\tvar create = function create(content, options) {\n\t    content = content || '';\n\t    options = options || {};\n\t    var defaults = {\n\t        fixed: true,\n\t        modal: true,\n\t        autofocus: false,\n\t        content: '<p class=\"del-pop-p\">' + content + '</p>',\n\t        className: 'pop-box',\n\t        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n\t        ok: noop\n\t    };\n\t    $.extend(true, defaults, options);\n\t    var d = Dialog(defaults);\n\t\n\t    var header = d._$('header');\n\t    var title = d._$('title');\n\t    if (!options.title) {\n\t        title.css('borderBottom', 'none');\n\t    }\n\t    header.show();\n\t    d.show();\n\t    return d;\n\t};\n\t\n\tmodule.exports = create;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t/*\r\n\t * 弹层提示弹窗\r\n\t * zhaodonghong\r\n\t */\n\t\n\tvar $publicMask;\n\tvar $publicTips;\n\tvar timer;\n\t\n\tvar events = function events() {\n\t\n\t    $publicMask.off().on('click', function () {\n\t        $publicMask.hide();\n\t        $publicTips.hide();\n\t    });\n\t\n\t    $publicTips.off().on('click', function () {\n\t        $publicMask.hide();\n\t        $publicTips.hide();\n\t    });\n\t};\n\t\n\t/**\r\n\t * msg string 提示信息\r\n\t * options object \r\n\t * options.duration settimout消失时间\r\n\t * options.callback 提示消失的回调\r\n\t*/\n\tvar init = function init(msg, options) {\n\t    var defaults = {\n\t        duration: 2000,\n\t        callback: function callback() {}\n\t    };\n\t\n\t    $.extend(defaults, options || {});\n\t\n\t    clearTimeout(timer);\n\t    $publicMask = $('[data-action=\"publicMask\"]');\n\t    $publicTips = $('[data-action=\"publicTips\"]');\n\t\n\t    if ($publicMask.length > 0) {\n\t\n\t        $publicMask.show();\n\t        $publicTips.show().text(msg);\n\t    } else {\n\t\n\t        $('body').append('<div data-action=\"publicMask\" class=\"ordi-toast\"></div><div class=\"ordi-toast-txt\" data-action=\"publicTips\">' + msg + '</div>');\n\t        $publicMask = $('[data-action=\"publicMask\"]');\n\t        $publicTips = $('[data-action=\"publicTips\"]');\n\t        events();\n\t    }\n\t\n\t    $publicTips.css('margin', -$publicTips[0].offsetHeight / 2 + 'px 0 0 ' + -$publicTips.width() / 2 + 'px');\n\t\n\t    timer = setTimeout(function () {\n\t\n\t        $publicMask.hide();\n\t        $publicTips.hide();\n\t\n\t        defaults.callback();\n\t    }, defaults.duration);\n\t};\n\t\n\tmodule.exports = {\n\t    init: init,\n\t    events: events\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tvar Dialog = __webpack_require__(37);\n\tvar noop = function noop() {};\n\t\n\tvar create = function create(content, options) {\n\t    var defaults = {\n\t        fixed: true,\n\t        modal: true,\n\t        content: '<p class=\"del-pop-p\">' + content + '</p>',\n\t        className: 'pop-box',\n\t        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n\t        ok: noop,\n\t        cancel: noop,\n\t        btnWrapCls: 'two-buttons'\n\t    };\n\t    $.extend(true, defaults, options);\n\t\n\t    var d = Dialog(defaults);\n\t\n\t    // var header = d._$('header');\n\t    // var title = d._$('title');\n\t    // title.css('borderBottom', 'none');\n\t    // header.show();\n\t\n\t    d.show();\n\t    return d;\n\t};\n\t\n\tmodule.exports = create;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 306:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($_CONFIG) {'use strict';\n\t\n\t/**\r\n\t * 联系商家\r\n\t * @author Zhengchun Fu\r\n\t */\n\tvar alert = __webpack_require__(36);\n\tvar contactMerchant = function contactMerchant() {\n\t\tvar $imgPath = $_CONFIG.imgpath;\n\t\talert('', {\n\t\t\tokCls: 'hide',\n\t\t\tcontent: '<div class=\"sm-download\"><img src=\"' + $imgPath + '/images/public/ma1.jpg\"><p>扫描二维码，下载国美APP联系商家</p></div>'\n\t\t});\n\t};\n\t\n\tmodule.exports = contactMerchant;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t/**\r\n\t * 个人中心订单详情页\r\n\t * @author Zhengchun Fu\r\n\t */\n\tvar cancelOrder = __webpack_require__(308);\n\t\n\tvar unPayCancelNode = '[data-action=unPayCancel]';\n\tvar payedCancelNode = '[data-action=payedCancel]';\n\tvar orderStautsNode = '[data-node=orderStauts]';\n\t\n\tvar $orderDetail = $('[data-node=orderDetail]');\n\tvar $orderStauts = $(orderStautsNode);\n\t\n\t// 未付款取消订单\n\tvar unPayCancelOrder = function unPayCancelOrder() {\n\t    $orderDetail.on('click', unPayCancelNode, function () {\n\t        var $this = $(this);\n\t        var orderId = $this.data('id');\n\t        cancelOrder({\n\t            isPayed: false,\n\t            id: orderId,\n\t            okFn: function okFn(desc) {\n\t                $this.parent().empty();\n\t                $orderStauts.text(desc);\n\t            }\n\t        });\n\t    });\n\t};\n\t\n\t// 已付款，待发货取消订单\n\tvar payedCancelOrder = function payedCancelOrder() {\n\t    $orderDetail.on('click', payedCancelNode, function () {\n\t        var $this = $(this);\n\t        var orderId = $this.data('id');\n\t\n\t        cancelOrder({\n\t            isPayed: true,\n\t            id: orderId,\n\t            okFn: function okFn(desc) {\n\t                $this.addClass('order-blank-btn-disabled');\n\t                $this.attr('data-action', 'cancelling');\n\t                $orderStauts.text(desc);\n\t            }\n\t        });\n\t    });\n\t};\n\t\n\tvar init = function init() {\n\t\n\t    // 未付款取消订单\n\t    unPayCancelOrder();\n\t\n\t    // 待发货取消订单\n\t    payedCancelOrder();\n\t};\n\t\n\tmodule.exports = {\n\t    init: init\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * 取消订单方法\r\n\t * @author Zhengchun Fu\r\n\t */\n\tvar fetch = __webpack_require__(21);\n\tvar url = __webpack_require__(24);\n\tvar confirm = __webpack_require__(65);\n\tvar alert = __webpack_require__(36);\n\tvar toast = __webpack_require__(44).init;\n\tvar tipsMsg = {\n\t    cancelOrder: '确认要取消订单吗？',\n\t    cancelFail: '订单取消失败!网络可能出问题了~',\n\t    canceled: '系统已取消订单'\n\t};\n\t\n\t// 取消订单方法\n\tvar cancelOrder = function cancelOrder(options) {\n\t    var cancelUrl = options.isPayed ? 'payedCancelOrder' : 'unPayCancelOrder';\n\t    confirm(tipsMsg.cancelOrder, {\n\t        title: '操作',\n\t        width: 500,\n\t        className: 'pop-box',\n\t        btnWrapCls: 'text-center',\n\t        okCls: 'two-button two-button-red',\n\t        cancelCls: 'two-button',\n\t        ok: function ok() {\n\t            fetch.get(url.get(cancelUrl), {\n\t                data: {\n\t                    id: options.id\n\t                }\n\t            }).done(function (data) {\n\t                var info = data.data;\n\t                var status = info.status;\n\t                var statusDesc = info.statusDesc;\n\t\n\t                if (data.success === true) {\n\t                    options.okFn(statusDesc);\n\t                    return;\n\t                }\n\t\n\t                // 如果订单已经是取消状态，执行取消的成功操作\n\t                // 否则弹出失败信息\n\t                if (status == -1 || status == -6) {\n\t                    options.okFn(statusDesc);\n\t                } else if (status != 1 || status != 0) {\n\t                    toast(tipsMsg.canceled);\n\t                    setTimeout(function () {\n\t                        location.reload();\n\t                    }, 2000);\n\t                } else {\n\t                    toast(data.message);\n\t                }\n\t            }).fail(function () {\n\t                alert(tipsMsg.cancelFail);\n\t            });\n\t        }\n\t    });\n\t};\n\t\n\tmodule.exports = cancelOrder;\n\n/***/ }),\n\n/***/ 309:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t/**\r\n\t * 订单详情页收货操作\r\n\t * @author Zhengchun Fu\r\n\t */\n\tvar toast = __webpack_require__(44).init;\n\tvar receiptGoods = __webpack_require__(310);\n\t\n\tvar confirmReceiptNode = '[data-action=confirmReceipt]';\n\tvar delayReceiptNode = '[data-action=delayReceipt]';\n\t\n\tvar $orderDetail = $('[data-node=orderDetail]');\n\t\n\t// 确认收货\n\tvar confirmReceipt = function confirmReceipt() {\n\t    $orderDetail.on('click', confirmReceiptNode, function () {\n\t        var $this = $(this);\n\t        var orderId = $this.data('id');\n\t        receiptGoods.confirmReceipt({\n\t            id: orderId,\n\t            okFn: function okFn() {\n\t                location.reload();\n\t            }\n\t        });\n\t    });\n\t};\n\t\n\t// 延迟收货\n\tvar delayReceipt = function delayReceipt() {\n\t    $orderDetail.on('click', delayReceiptNode, function () {\n\t        var disabledCls = 'order-blank-btn-disabled';\n\t        var $this = $(this);\n\t        var orderId = $this.data('id');\n\t        if ($this.hasClass(disabledCls)) {\n\t            return false;\n\t        }\n\t        receiptGoods.delayReceipt({\n\t            id: orderId,\n\t            okFn: function okFn() {\n\t                var $time = $('[data-node=time]');\n\t                var time = $time.data('time').split('-');\n\t                var day = parseInt(time[0]) + 7;\n\t                var hour = time[1];\n\t                var min = time[2];\n\t                toast('操作成功');\n\t                $time.data('time', day + '-' + hour + '-' + min);\n\t                $time.text(day + '天' + hour + '时' + min + '分');\n\t                $this.remove();\n\t            }\n\t        });\n\t    });\n\t};\n\t\n\tvar init = function init() {\n\t    confirmReceipt();\n\t    delayReceipt();\n\t};\n\t\n\tmodule.exports = {\n\t    init: init\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * 确认收货方法\r\n\t * @author Zhengchun Fu\r\n\t */\n\tvar fetch = __webpack_require__(21);\n\tvar url = __webpack_require__(24);\n\tvar confirm = __webpack_require__(65);\n\tvar toast = __webpack_require__(44).init;\n\tvar tipsMsg = {\n\t    confirmReceipt: '确认已收到货了吗？',\n\t    confirmFail: '确认收货失败!网络可能出问题了~',\n\t    delayReceipt: '确认延长7天收货时间吗？',\n\t    delayFail: '延迟收货失败！网络可能出问题了~',\n\t    confirmed: '已经确认收货'\n\t};\n\t\n\t// 确认收货\n\tvar confirmReceipt = function confirmReceipt(options) {\n\t    confirm(tipsMsg.confirmReceipt, {\n\t        title: '确认收货',\n\t        width: 500,\n\t        className: 'pop-box',\n\t        btnWrapCls: 'text-center',\n\t        okCls: 'two-button two-button-red',\n\t        cancelCls: 'two-button',\n\t        ok: function ok() {\n\t            fetch.post(url.get('confirmReceipt'), {\n\t                data: {\n\t                    orderId: options.orderId,\n\t                    orderDeliveryId: options.postId\n\t                }\n\t            }).done(function (data) {\n\t                var info = data.data;\n\t                var status = info.status;\n\t                var statusDesc = '交易成功';\n\t\n\t                if (data.success === true) {\n\t                    options.okFn(statusDesc);\n\t                    return;\n\t                }\n\t\n\t                // 如果订单已经是待评价，执行确认收货的成功操作\n\t                // 否则弹出失败信息\n\t                if (status == 3) {\n\t                    toast(tipsMsg.confirmed);\n\t                    options.okFn(statusDesc);\n\t                } else {\n\t                    toast(data.message);\n\t                }\n\t            }).fail(function () {\n\t                toast(tipsMsg.confirmFail);\n\t            });\n\t        }\n\t    });\n\t};\n\t\n\tvar delayReceipt = function delayReceipt(options) {\n\t    confirm(tipsMsg.delayReceipt, {\n\t        title: '延迟收货',\n\t        width: 500,\n\t        className: 'pop-box',\n\t        btnWrapCls: 'text-center',\n\t        okCls: 'two-button two-button-red',\n\t        cancelCls: 'two-button',\n\t        ok: function ok() {\n\t            fetch.post(url.get('delayReceipt'), {\n\t                data: {\n\t                    orderId: options.id\n\t                }\n\t            }).done(function (data) {\n\t\n\t                if (data.success === true) {\n\t                    options.okFn();\n\t                } else {\n\t                    toast(data.message);\n\t                    setTimeout(function () {\n\t                        location.reload();\n\t                    }, 2000);\n\t                }\n\t            }).fail(function () {\n\t                toast(tipsMsg.delayFail);\n\t            });\n\t        }\n\t    });\n\t};\n\t\n\tmodule.exports = {\n\t    confirmReceipt: confirmReceipt,\n\t    delayReceipt: delayReceipt\n\t};\n\n/***/ }),\n\n/***/ 311:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t/**\r\n\t * 联系商家\r\n\t * @author Zhengchun Fu\r\n\t */\n\tvar contactMerchant = __webpack_require__(306);\n\tvar init = function init() {\n\t\tvar $orderList = $('[data-node=orderList]');\n\t\tvar contactMerchantNode = '[data-action=ContactMerchant]';\n\t\t$orderList.on('click', contactMerchantNode, function () {\n\t\t\tcontactMerchant();\n\t\t});\n\t};\n\t\n\tmodule.exports = {\n\t\tinit: init\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// uc_orderDetails.js","/**\r\n * 个人中心——订单详情\r\n * @author Zhengchun Fu\r\n */\r\n\r\n// 取消订单\r\nrequire('./cancelOrder').init();\r\n\r\n// 收货操作:确认收货，延迟收货\r\nrequire('./receiptGoods').init();\r\n\r\n// 联系商家\r\nrequire('./contactMerchant').init();\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/uc_orderDetails/index.js","var Dialog = require('dialog');\nvar noop = function() {};\n\nvar create = function(content, options) {\n    content = content || '';\n    options = options || {};\n    var defaults = {\n        fixed: true,\n        modal: true,\n        autofocus: false,\n        content: '<p class=\"del-pop-p\">' + content + '</p>',\n        className: 'pop-box',\n        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n        ok: noop\n    };\n    $.extend(true, defaults, options);\n    var d = Dialog(defaults);\n\n    var header = d._$('header');\n    var title = d._$('title');\n    if(!options.title){\n        title.css('borderBottom', 'none');\n    }\n    header.show();\n    d.show();\n    return d;\n};\n\nmodule.exports = create;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/alert.js","/*\r\n * 弹层提示弹窗\r\n * zhaodonghong\r\n */\r\n\r\n\r\n\r\nvar $publicMask;\r\nvar $publicTips;\r\nvar timer;\r\n\r\n\r\nvar events = function() {\r\n\r\n    $publicMask.off().on('click', function() {\r\n        $publicMask.hide();\r\n        $publicTips.hide();\r\n    });\r\n\r\n    $publicTips.off().on('click', function() {\r\n        $publicMask.hide();\r\n        $publicTips.hide();\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * msg string 提示信息\r\n * options object \r\n * options.duration settimout消失时间\r\n * options.callback 提示消失的回调\r\n*/\r\nvar init = function(msg, options) {\r\n    var defaults = {\r\n        duration: 2000,\r\n        callback: function() {}\r\n    };\r\n\r\n    $.extend(defaults, options || {});\r\n\r\n    clearTimeout(timer);\r\n    $publicMask = $('[data-action=\"publicMask\"]');\r\n    $publicTips = $('[data-action=\"publicTips\"]');\r\n\r\n    if ($publicMask.length > 0) {\r\n\r\n        $publicMask.show();\r\n        $publicTips.show().text(msg);\r\n\r\n    } else {\r\n\r\n        $('body').append('<div data-action=\"publicMask\" class=\"ordi-toast\"></div><div class=\"ordi-toast-txt\" data-action=\"publicTips\">' + msg + '</div>');\r\n        $publicMask = $('[data-action=\"publicMask\"]');\r\n        $publicTips = $('[data-action=\"publicTips\"]');\r\n        events();\r\n    }\r\n\r\n    $publicTips.css('margin', -$publicTips[0].offsetHeight / 2 + 'px 0 0 ' + -$publicTips.width() / 2 + 'px');\r\n\r\n    timer = setTimeout(function() {\r\n\r\n        $publicMask.hide();\r\n        $publicTips.hide();\r\n\r\n        defaults.callback();\r\n\r\n    }, defaults.duration);\r\n};\r\n\r\n\r\n\r\nmodule.exports = {\r\n    init: init,\r\n    events: events\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/hint.js","var Dialog = require('dialog');\nvar noop = function() {};\n\nvar create = function(content, options) {\n    var defaults = {\n        fixed: true,\n        modal: true,\n        content: '<p class=\"del-pop-p\">' + content + '</p>',\n        className: 'pop-box',\n        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n        ok: noop,\n        cancel: noop,\n        btnWrapCls: 'two-buttons'\n    };\n    $.extend(true, defaults, options);\n\n    var d = Dialog(defaults);\n\n    // var header = d._$('header');\n    // var title = d._$('title');\n    // title.css('borderBottom', 'none');\n    // header.show();\n\n    d.show();\n    return d;\n};\n\nmodule.exports = create;\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/confirm.js","/**\r\n * 联系商家\r\n * @author Zhengchun Fu\r\n */\r\nvar alert = require('module/popup/alert');\r\nvar contactMerchant = function() {\r\n\tvar $imgPath = $_CONFIG.imgpath;\r\n\talert('', {\r\n\t\tokCls: 'hide',\r\n\t\tcontent: '<div class=\"sm-download\"><img src=\"' + $imgPath + '/images/public/ma1.jpg\"><p>扫描二维码，下载国美APP联系商家</p></div>'\r\n\t});\r\n};\r\n\r\nmodule.exports = contactMerchant;\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/contactMerchant/index.js","/**\r\n * 个人中心订单详情页\r\n * @author Zhengchun Fu\r\n */\r\nvar cancelOrder = require('module/ucCancelOrder');\r\n\r\nvar unPayCancelNode = '[data-action=unPayCancel]';\r\nvar payedCancelNode = '[data-action=payedCancel]';\r\nvar orderStautsNode = '[data-node=orderStauts]';\r\n\r\nvar $orderDetail = $('[data-node=orderDetail]');\r\nvar $orderStauts = $(orderStautsNode);\r\n\r\n// 未付款取消订单\r\nvar unPayCancelOrder = function() {\r\n    $orderDetail.on('click', unPayCancelNode, function() {\r\n        var $this = $(this);\r\n        var orderId = $this.data('id');\r\n        cancelOrder({\r\n            isPayed: false,\r\n            id: orderId,\r\n            okFn: function(desc) {\r\n                $this.parent().empty();\r\n                $orderStauts.text(desc);\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\n// 已付款，待发货取消订单\r\nvar payedCancelOrder = function() {\r\n    $orderDetail.on('click', payedCancelNode, function() {\r\n        var $this = $(this);\r\n        var orderId = $this.data('id');\r\n\r\n        cancelOrder({\r\n            isPayed: true,\r\n            id: orderId,\r\n            okFn: function(desc) {\r\n                $this.addClass('order-blank-btn-disabled');\r\n                $this.attr('data-action', 'cancelling');\r\n                $orderStauts.text(desc);\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\nvar init = function() {\r\n\r\n    // 未付款取消订单\r\n    unPayCancelOrder();\r\n\r\n    // 待发货取消订单\r\n    payedCancelOrder();\r\n\r\n};\r\n\r\nmodule.exports = {\r\n    init: init\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/uc_orderDetails/cancelOrder.js","/**\r\n * 取消订单方法\r\n * @author Zhengchun Fu\r\n */\r\nvar fetch = require('io/fetch');\r\nvar url = require('io/url');\r\nvar confirm = require('module/popup/confirm');\r\nvar alert = require('module/popup/alert');\r\nvar toast = require('module/hint').init;\r\nvar tipsMsg = {\r\n    cancelOrder: '确认要取消订单吗？',\r\n    cancelFail: '订单取消失败!网络可能出问题了~',\r\n    canceled: '系统已取消订单'\r\n};\r\n\r\n// 取消订单方法\r\nvar cancelOrder = function(options) {\r\n    var cancelUrl = options.isPayed ? 'payedCancelOrder' : 'unPayCancelOrder';\r\n    confirm(tipsMsg.cancelOrder, {\r\n        title: '操作',\r\n        width: 500,\r\n        className: 'pop-box',\r\n        btnWrapCls: 'text-center',\r\n        okCls: 'two-button two-button-red',\r\n        cancelCls: 'two-button',\r\n        ok: function() {\r\n            fetch.get(url.get(cancelUrl), {\r\n                data: {\r\n                    id: options.id\r\n                }\r\n            }).done(function(data) {\r\n                var info = data.data;\r\n                var status = info.status;\r\n                var statusDesc = info.statusDesc;\r\n\r\n                if (data.success === true) {\r\n                    options.okFn(statusDesc);\r\n                    return;\r\n                }\r\n\r\n                // 如果订单已经是取消状态，执行取消的成功操作\r\n                // 否则弹出失败信息\r\n                if (status == -1 || status == -6) {\r\n                    options.okFn(statusDesc);\r\n                } else if (status != 1 || status != 0) {\r\n                    toast(tipsMsg.canceled);\r\n                    setTimeout(function() {\r\n                        location.reload();\r\n                    }, 2000);\r\n                } else {\r\n                    toast(data.message);\r\n                }\r\n\r\n            }).fail(function() {\r\n                alert(tipsMsg.cancelFail);\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\nmodule.exports = cancelOrder;\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/ucCancelOrder.js","/**\r\n * 订单详情页收货操作\r\n * @author Zhengchun Fu\r\n */\r\nvar toast = require('module/hint').init;\r\nvar receiptGoods = require('module/ucReceiptGoods');\r\n\r\nvar confirmReceiptNode = '[data-action=confirmReceipt]';\r\nvar delayReceiptNode = '[data-action=delayReceipt]';\r\n\r\nvar $orderDetail = $('[data-node=orderDetail]');\r\n\r\n// 确认收货\r\nvar confirmReceipt = function() {\r\n    $orderDetail.on('click', confirmReceiptNode, function() {\r\n        var $this = $(this);\r\n        var orderId = $this.data('id');\r\n        receiptGoods.confirmReceipt({\r\n            id: orderId,\r\n            okFn: function() {\r\n                location.reload();\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\n// 延迟收货\r\nvar delayReceipt = function() {\r\n    $orderDetail.on('click', delayReceiptNode, function() {\r\n        var disabledCls = 'order-blank-btn-disabled';\r\n        var $this = $(this);\r\n        var orderId = $this.data('id');\r\n        if ($this.hasClass(disabledCls)) {\r\n            return false;\r\n        }\r\n        receiptGoods.delayReceipt({\r\n            id: orderId,\r\n            okFn: function() {\r\n                var $time = $('[data-node=time]');\r\n                var time = $time.data('time').split('-');\r\n                var day = parseInt(time[0]) + 7;\r\n                var hour = time[1];\r\n                var min = time[2];\r\n                toast('操作成功');\r\n                $time.data('time', day + '-' + hour + '-' + min);\r\n                $time.text(day + '天' + hour + '时' + min + '分');\r\n                $this.remove();\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\nvar init = function() {\r\n    confirmReceipt();\r\n    delayReceipt();\r\n};\r\n\r\nmodule.exports = {\r\n    init: init\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/uc_orderDetails/receiptGoods.js","/**\r\n * 确认收货方法\r\n * @author Zhengchun Fu\r\n */\r\nvar fetch = require('io/fetch');\r\nvar url = require('io/url');\r\nvar confirm = require('module/popup/confirm');\r\nvar toast = require('module/hint').init;\r\nvar tipsMsg = {\r\n    confirmReceipt: '确认已收到货了吗？',\r\n    confirmFail: '确认收货失败!网络可能出问题了~',\r\n    delayReceipt: '确认延长7天收货时间吗？',\r\n    delayFail: '延迟收货失败！网络可能出问题了~',\r\n    confirmed: '已经确认收货'\r\n};\r\n\r\n// 确认收货\r\nvar confirmReceipt = function(options) {\r\n    confirm(tipsMsg.confirmReceipt, {\r\n        title: '确认收货',\r\n        width: 500,\r\n        className: 'pop-box',\r\n        btnWrapCls: 'text-center',\r\n        okCls: 'two-button two-button-red',\r\n        cancelCls: 'two-button',\r\n        ok: function() {\r\n            fetch.post(url.get('confirmReceipt'), {\r\n                data: {\r\n                    orderId: options.orderId,\r\n                    orderDeliveryId: options.postId\r\n                }\r\n            }).done(function(data) {\r\n                var info = data.data;\r\n                var status = info.status;\r\n                var statusDesc = '交易成功';\r\n\r\n                if (data.success === true) {\r\n                    options.okFn(statusDesc);\r\n                    return;\r\n                }\r\n\r\n                // 如果订单已经是待评价，执行确认收货的成功操作\r\n                // 否则弹出失败信息\r\n                if (status == 3) {\r\n                    toast(tipsMsg.confirmed);\r\n                    options.okFn(statusDesc);\r\n                } else {\r\n                    toast(data.message);\r\n                }\r\n\r\n            }).fail(function() {\r\n                toast(tipsMsg.confirmFail);\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\nvar delayReceipt = function(options) {\r\n    confirm(tipsMsg.delayReceipt, {\r\n        title: '延迟收货',\r\n        width: 500,\r\n        className: 'pop-box',\r\n        btnWrapCls: 'text-center',\r\n        okCls: 'two-button two-button-red',\r\n        cancelCls: 'two-button',\r\n        ok: function() {\r\n            fetch.post(url.get('delayReceipt'), {\r\n                data: {\r\n                    orderId: options.id\r\n                }\r\n            }).done(function(data) {\r\n\r\n                if (data.success === true) {\r\n                    options.okFn();\r\n                } else {\r\n                    toast(data.message);\r\n                    setTimeout(function() {\r\n                        location.reload();\r\n                    }, 2000);\r\n                }\r\n\r\n            }).fail(function() {\r\n                toast(tipsMsg.delayFail);\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\nmodule.exports = {\r\n    confirmReceipt: confirmReceipt,\r\n    delayReceipt: delayReceipt\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/ucReceiptGoods.js","/**\r\n * 联系商家\r\n * @author Zhengchun Fu\r\n */\r\nvar contactMerchant = require('module/popup/contactMerchant');\r\nvar init = function() {\r\n\tvar $orderList = $('[data-node=orderList]');\r\n\tvar contactMerchantNode = '[data-action=ContactMerchant]';\r\n\t$orderList.on('click', contactMerchantNode, function() {\r\n\t\tcontactMerchant();\r\n\t});\r\n};\r\n\r\nmodule.exports = {\r\n\tinit: init\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/uc_orderDetails/contactMerchant.js"],"sourceRoot":""}