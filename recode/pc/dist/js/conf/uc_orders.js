webpackJsonp([39],{"0":function(t,exports,a){"use strict";a(312).init(),a(313)(),a(315).init();var e=a(40);e.setPageData("uc_orders")},"34":function(t,exports){!function(){function a(t,a){return(/string|function/.test(typeof a)?c:s)(t,a)}function e(t,a){return"string"!=typeof t&&(a=typeof t,"number"===a?t+="":t="function"===a?e(t.call(t)):""),t}function n(t){return p[t]}function r(t){return e(t).replace(/&(?![\w#]+;)|[<>"']/g,n)}function i(t,a){if(f(t))for(var e=0,n=t.length;n>e;e++)a.call(t,t[e],e,t);else for(e in t)a.call(t,t[e],e)}function o(t,a){var e=/(\/)[^\/]+\1\.\.\1/,n=("./"+t).replace(/[^\/]+$/,""),r=n+a;for(r=r.replace(/\/\.\//g,"/");r.match(e);)r=r.replace(e,"/");return r}function s(t,e){var n=a.get(t)||d({"filename":t,"name":"Render Error","message":"Template not found"});return e?n(e):n}function c(t,a){if("string"==typeof a){var e=a;a=function(){return new u(e)}}var n=l[t]=function(e){try{return new a(e,t)+""}catch(t){return d(t)()}};return n.prototype=a.prototype=m,n.toString=function(){return a+""},n}function d(t){var a="{Template Error}",e=t.stack||"";if(e)e=e.split("\n").slice(0,2).join("\n");else for(var n in t)e+="<"+n+">\n"+t[n]+"\n\n";return function(){return"object"==typeof console&&console.error(a+"\n\n"+e),a}}var l=a.cache={},u=this.String,p={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},f=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},m=a.utils={"$helpers":{},"$include":function(t,a,e){return t=o(e,t),s(t,a)},"$string":e,"$escape":r,"$each":i},h=a.helpers=m.$helpers;a.get=function(t){return l[t.replace(/^\.\//,"")]},a.helper=function(t,a){h[t]=a},t.exports=a}()},"36":function(t,exports,a){(function($){"use strict";var e=a(37),n=function(){},r=function(t,a){t=t||"",a=a||{};var r={"fixed":!0,"modal":!0,"autofocus":!1,"content":'<p class="del-pop-p">'+t+"</p>","className":"pop-box","okCls":"pc-btn pc-btnh35 circle-pop-btn","ok":n};$.extend(!0,r,a);var i=e(r),o=i._$("header"),s=i._$("title");return a.title||s.css("borderBottom","none"),o.show(),i.show(),i};t.exports=r}).call(exports,a(2))},"44":function(t,exports,a){(function($){"use strict";var a,e,n,r=function(){a.off().on("click",function(){a.hide(),e.hide()}),e.off().on("click",function(){a.hide(),e.hide()})},i=function(t,i){var o={"duration":2e3,"callback":function(){}};$.extend(o,i||{}),clearTimeout(n),a=$('[data-action="publicMask"]'),e=$('[data-action="publicTips"]'),a.length>0?(a.show(),e.show().text(t)):($("body").append('<div data-action="publicMask" class="ordi-toast"></div><div class="ordi-toast-txt" data-action="publicTips">'+t+"</div>"),a=$('[data-action="publicMask"]'),e=$('[data-action="publicTips"]'),r()),e.css("margin",-e[0].offsetHeight/2+"px 0 0 "+-e.width()/2+"px"),n=setTimeout(function(){a.hide(),e.hide(),o.callback()},o.duration)};t.exports={"init":i,"events":r}}).call(exports,a(2))},"65":function(t,exports,a){(function($){"use strict";var e=a(37),n=function(){},r=function(t,a){var r={"fixed":!0,"modal":!0,"content":'<p class="del-pop-p">'+t+"</p>","className":"pop-box","okCls":"pc-btn pc-btnh35 circle-pop-btn","ok":n,"cancel":n,"btnWrapCls":"two-buttons"};$.extend(!0,r,a);var i=e(r);return i.show(),i};t.exports=r}).call(exports,a(2))},"306":function(t,exports,a){(function(e){"use strict";var n=a(36),r=function(){var t=e.imgpath;n("",{"okCls":"hide","content":'<div class="sm-download"><img src="'+t+'/images/public/ma1.jpg"><p>扫描二维码，下载国美APP联系商家</p></div>'})};t.exports=r}).call(exports,a(3))},"308":function(t,exports,a){"use strict";var e=a(21),n=a(24),r=a(65),i=a(36),o=a(44).init,s={"cancelOrder":"确认要取消订单吗？","cancelFail":"订单取消失败!网络可能出问题了~","canceled":"系统已取消订单"},c=function(t){var a=t.isPayed?"payedCancelOrder":"unPayCancelOrder";r(s.cancelOrder,{"title":"操作","width":500,"className":"pop-box","btnWrapCls":"text-center","okCls":"two-button two-button-red","cancelCls":"two-button","ok":function(){e.get(n.get(a),{"data":{"id":t.id}}).done(function(a){var e=a.data,n=e.status,r=e.statusDesc;return a.success===!0?void t.okFn(r):void(n==-1||n==-6?t.okFn(r):1!=n||0!=n?(o(s.canceled),setTimeout(function(){location.reload()},2e3)):o(a.message))}).fail(function(){i(s.cancelFail)})}})};t.exports=c},"312":function(t,exports,a){(function($){"use strict";var e=a(308),n="[data-action=unPayCancel]",r="[data-action=payedCancel]",i="[data-node=orderStauts]",o=$("[data-node=orderList]"),s=function(){o.on("click",n,function(){var t=$(this),a=$("[data-node=dfkNum]"),n=a.data("count"),r=t.data("id");return!(n<1)&&void e({"isPayed":!1,"id":r,"okFn":function(){location.reload()}})})},c=function(){o.on("click",r,function(){var t=$(this),a=$("[data-node=dfhNum]"),n=a.data("count"),r=t.data("id");return!(n<1)&&void e({"isPayed":!0,"id":r,"okFn":function(a){t.addClass("order-blank-btn-disabled"),t.attr("data-action","cancelling"),t.parents("table").find(i).text(a)}})})},d=function(){s(),c()};t.exports={"init":d}}).call(exports,a(2))},"313":function(t,exports,a){(function($,e){"use strict";var n=a(21),r=a(24),i=a(36),o=a(314),s="loadMoreOrder",c={"loadFail":"加载失败"},d=1,l=parseInt($("[data-node=orderStateNav]").data("status")),u=15,p=$("[data-node=orderList]"),f=$("[data-node=pageMore]"),m=$("[data-node=pageLoading]"),h=$("[data-node=pageNothing]"),g=e,b=function(){f.on("click",function(){function t(t){t?(f.hide(),m.show()):(m.hide(),f.show())}var a=d+1;t(!0),n.get(r.get(s),{"data":{"page":a,"status":l,"pageSize":u}}).done(function(e){function n(){f.hide(),m.hide(),h.show()}var r={};if(e.success===!0){if(r.list=e.data.orders,r.domain=g,!r.list.length)return n(),!1;var s=o(r);p.append(s),d=a,r.list.length<u?n():t(!1)}else i(c.loadFail),t(!1)}).fail(function(){i(c.loadFail),t(!1)})})};t.exports=b}).call(exports,a(2),a(3))},"314":function(t,exports,a){var e=a(34);t.exports=e("src/js/page/uc_orders/loadMore/orderList",function(t,a){"use strict";var e=this,n=(e.$helpers,e.$each),r=t.list,i=(t.v,t.$index,e.$escape),o=(t.vv,t.i,t.domain),s=(t.attr,"");return n(r,function(t,a){s+=' <table class="order-prod-info"> <tr> <td colspan="7" class="order-base-nav"> <ul class="clearfix"> <li class="time">',s+=i(t.orderTime),s+='</li> <li class="order-number">订单号： ',0==t.status?(s+=' <a href="javascript:;" class="color-default">',s+=i(t.mergerId),s+="</a> "):(s+=' <a href="javascript:;" class="color-default">',s+=i(t.id),s+="</a> "),s+=' </li> </ul> </td> </tr> <tr> <td colspan="4" class="order-l clearfix"> ',n(t.orderItems,function(a,e){s+=' <div class="order-l-list ',e+1==t.orderItems.length&&(s+="bor-none"),s+=' clearfix"> <a target="_blank" href="',s+=i(o.mall_domain),s+="item/",s+=i(t.orderItems[0].mshop.id),s+="-",s+=i(a.sku.item.id),s+=".html?skuid=",s+=i(a.sku.id),s+='"> <img src="',s+=i(a.sku.image),s+='" onerror="imgError(this);" class="order-img"> </a> <div class="parameter"> <a target="_blank" href="',s+=i(o.mall_domain),s+="item/",s+=i(t.orderItems[0].mshop.id),s+="-",s+=i(a.sku.item.id),s+=".html?skuid=",s+=i(a.sku.id),s+='">',s+=i(a.sku.item.shortName),s+="</a> <p>",n(a.sku.attributes,function(t,e){s+=i(t.name),s+="：",s+=i(t.value),e<a.sku.attributes.length-1&&(s+="&emsp;")}),s+='</p> </div> <span class="s-price">￥',s+=i(a.sku.price),s+='</span> <span class="count-num">',s+=i(a.quantity),s+='</span> <div class="connect-shop more" data-node="connect-firm" data-rechange=\'{"orderid":',s+=i(t.id),s+=',"skuid":',s+=i(a.sku.id),s+=',"goodsid":',s+=i(a.sku.item.id),s+=" }'> ",0!=t.status&&(s+=" ",s+=6!=t.orderType&&7!=t.orderType?' <a href="javascript:;" data-action="ContactMerchant">联系商家</a> ':' <a href="javascript:;" class="gm-gray">联系商家</a> ',s+=" "),s+=" ",a.afterSalesFlag&&(s+=' <a href="',s+=i(o.i_domain),s+="order/showDataInfo?orderid=",s+=i(t.id),s+="&skuid=",s+=i(a.sku.id),s+="&goodid=",s+=i(a.sku.item.id),s+='" >申请售后</a> '),s+=" </div> </div> "}),s+=' </td> <td class="t-price"><span class="price">￥',s+=i(t.paymentAmount),s+='</span> <p class="fare">（含运费：￥',s+=i(t.shippingCost),s+='）</p> </td> <td class="trading-status"> <span>',s+=i(t.statusDesc),s+="</span> ",0==t.status?(s+=' <a target="_blank" href="',s+=i(o.i_domain),s+="order/detail?id=",s+=i(t.mergerId),s+='&type=1">查看详情</a> '):(s+=' <a target="_blank" href="',s+=i(o.i_domain),s+="order/detail?id=",s+=i(t.id),s+='">查看详情</a> '),s+="  ",2!=t.status&&3!=t.status&&t.status!=-12&&t.status!=-5||(s+=" ",6!=t.orderType&&7!=t.orderType?(s+=" ",t.hasLogistics&&(s+=' <a target="_blank" href="',s+=i(o.i_domain),s+="order/orderParcels?orderId=",s+=i(t.id),s+='" >查看包裹</a> '),s+=" "):(s+=' <a target="_blank" href="',s+=i(o.i_domain),s+="order/orderParcels?orderId=",s+=i(t.id),s+='" >查看包裹</a> '),s+=" "),s+=' </td> <td class="order-operate"> ',0==t.status?(s+=' <a target="_blank" href="',s+=i(o.order_domain),s+="order/payDetail?mergerId=",s+=i(t.mergerId),s+='" class="order-blank-btn order-pay-btn marb14">立即支付</a> <a href="javascript:;" data-action="unPayCancel" class="order-blank-btn" data-id="',s+=i(t.mergerId),s+='">取消订单</a> '):1==t.status?(s+=' <a class="order-blank-btn" data-action="payedCancel" href="javascript:;" data-id="',s+=i(t.id),s+='" >取消订单</a> '):t.status==-1?s+=' <a class="order-blank-btn order-blank-btn-disabled" data-action="cancelling" href="javascript:;">取消订单</a> ':3==t.status&&0==t.hasComment?(s+=' <a target="_blank" href="',s+=i(o.i_domain),s+="order/showCommentInfo?orderid=",s+=i(t.id),s+='" class="order-blank-btn">立即评价</a> '):t.status==-12?s+=" ":t.status==-5&&(s+=" "),s+=" </td> </tr> </table> "}),new String(s)})},"315":function(t,exports,a){(function($){"use strict";var e=a(306),n=function(){var t=$("[data-node=orderList]"),a="[data-action=ContactMerchant]";t.on("click",a,function(){e()})};t.exports={"init":n}}).call(exports,a(2))}});
//# sourceMappingURL=uc_orders.js.map