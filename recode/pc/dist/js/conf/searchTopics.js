webpackJsonp([22],{"0":function(n,exports,e){(function($,n){"use strict";var t=e(21),i=e(24),a=e(212),r=e(68),o=e(213),u=e(36);e(173)(),e(78)(),e(211)();var l=new r({"columnWidth":242},"[data-node=tiles]"),c=function(n){if(!n)return n;var e;try{e=decodeURIComponent(n)}catch(t){e=unescape(n)}return e},s=c($("[data-node=tiles]").data("keyword")),m=$("[data-action=loadMore]"),d=$("[data-node=loading]"),f=!1,p=1,h=!1,g=function(){m.hide(),d.show()},v=function(n){var e=n||"没有更多数据";m.find("span").html(e),m.off().show(),d.hide()},x=function(){if(!f)return h?void v():(f=!0,g(),t.get(i.get("searchTopics"),{"data":{"word":s,"page_num":p,"pagesize":20}}).done(function(e){if(200===e.code){var t=20*(p-1);p++;var i=e.data.topics||[];if(0==i.length)h=!0,v("无相关话题");else{d.hide();for(var r,u=0;u<i.length;u++){switch(r=u+t+1+"",r.length){case 1:r="000"+r;break;case 2:r="00"+r;break;case 3:r="0"+r;break;default:r=r}i[u].modelid=n.sshtjg+r}i.group_domain=n.group_domain,l.appended($(a({"topics":i}))),o.init({"a":$("[data-node=list_title]"),"b":$("[data-node=list_description]")},s),i.length<20?(m.off().hide(),d.hide()):m.show()}}else h=!0,v()}).fail(function(){u("数据请求失败 请稍后尝试")}).always(function(){f=!1}),!1)},y=function(){x(),m.on("click",x)};y()}).call(exports,e(2),e(3))},"34":function(n,exports){!function(){function e(n,e){return(/string|function/.test(typeof e)?l:u)(n,e)}function t(n,e){return"string"!=typeof n&&(e=typeof n,"number"===e?n+="":n="function"===e?t(n.call(n)):""),n}function i(n){return d[n]}function a(n){return t(n).replace(/&(?![\w#]+;)|[<>"']/g,i)}function r(n,e){if(f(n))for(var t=0,i=n.length;i>t;t++)e.call(n,n[t],t,n);else for(t in n)e.call(n,n[t],t)}function o(n,e){var t=/(\/)[^\/]+\1\.\.\1/,i=("./"+n).replace(/[^\/]+$/,""),a=i+e;for(a=a.replace(/\/\.\//g,"/");a.match(t);)a=a.replace(t,"/");return a}function u(n,t){var i=e.get(n)||c({"filename":n,"name":"Render Error","message":"Template not found"});return t?i(t):i}function l(n,e){if("string"==typeof e){var t=e;e=function(){return new m(t)}}var i=s[n]=function(t){try{return new e(t,n)+""}catch(n){return c(n)()}};return i.prototype=e.prototype=p,i.toString=function(){return e+""},i}function c(n){var e="{Template Error}",t=n.stack||"";if(t)t=t.split("\n").slice(0,2).join("\n");else for(var i in n)t+="<"+i+">\n"+n[i]+"\n\n";return function(){return"object"==typeof console&&console.error(e+"\n\n"+t),e}}var s=e.cache={},m=this.String,d={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},f=Array.isArray||function(n){return"[object Array]"==={}.toString.call(n)},p=e.utils={"$helpers":{},"$include":function(n,e,t){return n=o(t,n),u(n,e)},"$string":t,"$escape":a,"$each":r},h=e.helpers=p.$helpers;e.get=function(n){return s[n.replace(/^\.\//,"")]},e.helper=function(n,e){h[n]=e},n.exports=e}()},"36":function(n,exports,e){(function($){"use strict";var t=e(37),i=function(){},a=function(n,e){n=n||"",e=e||{};var a={"fixed":!0,"modal":!0,"autofocus":!1,"content":'<p class="del-pop-p">'+n+"</p>","className":"pop-box","okCls":"pc-btn pc-btnh35 circle-pop-btn","ok":i};$.extend(!0,a,e);var r=t(a),o=r._$("header"),u=r._$("title");return e.title||u.css("borderBottom","none"),o.show(),r.show(),r};n.exports=a}).call(exports,e(2))},"55":function(n,exports,e){(function(e){"use strict";var t=e.imgpath+"/images/emoji/",i=".png",a=[{"name":"微笑","url":"weixiao"},{"name":"色","url":"se"},{"name":"亲亲","url":"qinqin"},{"name":"得意","url":"deyi"},{"name":"流泪","url":"liulei"},{"name":"害羞","url":"haixiu"},{"name":"闭嘴","url":"bizui"},{"name":"鼓掌","url":"guzhang"},{"name":"大哭","url":"daku"},{"name":"尴尬","url":"ganga"},{"name":"生气","url":"shengqi"},{"name":"调皮","url":"tiaopi"},{"name":"呲牙","url":"ciya"},{"name":"惊讶","url":"jingya"},{"name":"委屈","url":"weiqu"},{"name":"吐血","url":"tuxue"},{"name":"冷汗","url":"lenghan"},{"name":"抓狂","url":"zhuakuang"},{"name":"难过","url":"nanguo"},{"name":"偷笑","url":"touxiao"},{"name":"白眼","url":"baiyan"},{"name":"不屑","url":"buxie"},{"name":"快哭了","url":"kuaikule"}],r=[{"name":"困","url":"kun"},{"name":"装酷","url":"zhuangku"},{"name":"大笑","url":"daxiao"},{"name":"偷瞄","url":"toumiao"},{"name":"奋斗","url":"fendou"},{"name":"咒骂","url":"zhouma"},{"name":"疑问","url":"yiwen"},{"name":"晕","url":"yun"},{"name":"捶打","url":"chuida"},{"name":"再见","url":"zaijian"},{"name":"抠鼻","url":"koubi"},{"name":"发呆","url":"fadai"},{"name":"坏笑","url":"huaixiao"},{"name":"哈欠","url":"haqian"},{"name":"鄙视","url":"bishi"},{"name":"睡觉","url":"shuijiao"},{"name":"饿","url":"e"},{"name":"阴险","url":"yinxian"},{"name":"难受","url":"nanshou"},{"name":"可怜","url":"kelian"},{"name":"撇嘴","url":"piezui"},{"name":"石化","url":"shihua"},{"name":"泪眼","url":"leiyan"}],o=[{"name":"嘘","url":"xu"},{"name":"哼哼","url":"hengheng"},{"name":"爱慕","url":"aimu"},{"name":"财迷","url":"caimi"},{"name":"耶","url":"ye"},{"name":"思考","url":"sikao"},{"name":"骷髅","url":"kulou"},{"name":"痛哭","url":"tongku"},{"name":"恭喜","url":"gongxi"},{"name":"捂脸","url":"wulian"},{"name":"嘿哈","url":"heiha"},{"name":"机智","url":"jizhi"},{"name":"皱眉","url":"zhoumei"},{"name":"安慰","url":"anwei"},{"name":"飞吻","url":"feiwen"},{"name":"奸笑","url":"jianxiao"},{"name":"猪头","url":"zhutou"},{"name":"玫瑰","url":"meigui"},{"name":"凋谢","url":"diaoxie"},{"name":"爱心","url":"aixin"},{"name":"心碎","url":"xinsui"},{"name":"蛋糕","url":"dangao"},{"name":"喝水","url":"heshui"}],u=[{"name":"西瓜","url":"xigua"},{"name":"咖啡","url":"kafei"},{"name":"啤酒","url":"pijiu"},{"name":"包包","url":"baobao"},{"name":"高跟鞋","url":"gaogenxie"},{"name":"帽子","url":"maozi"},{"name":"口红","url":"kouhong"},{"name":"裙子","url":"qunzi"},{"name":"T恤","url":"txu"},{"name":"裤子","url":"kuzi"},{"name":"眼镜","url":"yanjing"},{"name":"太阳镜","url":"taiyangjing"},{"name":"蜡烛","url":"lazhu"},{"name":"礼物","url":"liwu"},{"name":"红包","url":"hongbao"},{"name":"拥抱","url":"yongbao"},{"name":"太阳","url":"taiyang"},{"name":"月亮","url":"yueliang"},{"name":"便便","url":"bianbian"},{"name":"炸弹","url":"zhadan"},{"name":"菜刀","url":"caidao"},{"name":"握手","url":"woshou"},{"name":"胜利","url":"shengli"}],l=[{"name":"赞","url":"zan"},{"name":"OK","url":"ok"},{"name":"勾引","url":"gouyin"},{"name":"NO","url":"no"},{"name":"打脸","url":"dalian"},{"name":"抱拳","url":"baoquan"},{"name":"乒乓球","url":"pingpangqiu"},{"name":"足球","url":"zuqiu"},{"name":"篮球","url":"lanqiu"}],c=function(n){for(var e=0,a=n.length;e<a;e++){var r=n[e];r.url=t+r.url+i}return n};n.exports=c(a.concat(r,o,u,l))}).call(exports,e(3))},"68":function(n,exports,e){(function($){"use strict";function e(n,e){this.element=$(e),this.$tiles=this.element.children(),this._create(n),this._init()}var t={};e.prototype={"constructor":e,"_getTiles":function(){return this.element.children()},"_create":function(n){this.options=$.extend(!0,{},t,n||{});for(var e=this.element,i=this.columnWidth=this._getColumnWidth(),a=this._getColumns(),r=0;r<a;r+=1)$('<div style="float:left;width:'+i+'px;" data-node="tiles-col"></div>').appendTo(e);this.cols=e.find("> [data-node=tiles-col]")},"_getColumns":function(){var n=this.element.width(),e=Math.floor(n/this.columnWidth);return e=Math.max(e,1),this.colNum=e},"_init":function(){this.layout(this.$tiles)},"_getColumnWidth":function(){return this.options.columnWidth||this.$tiles.outerWidth(!0)||this.element.width()},"appended":function(n,e){this.$tiles=this.$tiles.add(n),this.layout(n,e)},"destroy":function(){},"layout":function(n){for(var e=0,t=n.length;e<t;e++)this._placeTile(n[e])},"_placeTile":function(n){this.cols.eq(this.getShortestColumn()).append(n)},"getShortestColumn":function(){for(var n,e,t=0,i=this.cols,a=i.length,r=0;r<a;r++)e=i[r].offsetHeight||i[r].scrollHeight,0==r&&(n=e),e<n&&(n=e,t=r);return t}},n.exports=e}).call(exports,e(2))},"72":function(n,exports,e){"use strict";function t(n){return n>=55296&&n<=56319}function i(n){return n>=56320&&n<=57343}function a(n,e){if("string"!=typeof n)throw new Error("Input must be string");for(var a,o,u=n.length,l=0,c=0;c<u;c+=1){if(a=n.charCodeAt(c),o=n[c],t(a)&&i(n.charCodeAt(c+1))&&(c+=1,o+=n[c]),l+=r(o),l===e)return n.slice(0,c+1);if(l>e)return n.slice(0,c-o.length+1)}return n}var r=e(73);n.exports=a},"73":function(n,exports){"use strict";var e=function(n){return null==n?0:("string"!=typeof n&&(n+=""),n.replace(/[^\x00-\xff]/g,"01").length)};n.exports=e},"74":function(n,exports){"use strict";var e=function(n,e){return n?n.replace(e||/[&<">'](?:(amp|lt|ldquo|rdquo|quot|gt|#39|nbsp|#\d+);)?/g,function(n,e){return e?n:{"<":"&lt;","&":"&amp;",'"':"&quot;","“":"&ldquo;","”":"&rdquo;",">":"&gt;","'":"&#39;"}[n]}):""};n.exports=e},"75":function(n,exports,e){(function($){"use strict";var t,i,a=e(55),r=e(76),o=e(77),u=0,l={},c=function(n){for(var e=n.length,t=24,i=Math.ceil(e/t),a=[],r=0;r<i;r++){a[r]=[];var o=t*(r+1);o=o>e?e:o;for(var u=r*t;u<o;u++){var c=n[u];a[r].push(c),l[c.name]=c.url}}return{"page":new Array(i),"list":a}},s=function(n,e){d(0),$("[data-node=faceBox]").css({"left":n+"px","top":e+"px"}).show()},m=function(){$("[data-node=faceBox]").hide()},d=function(n){n=n||u,$("[data-action=facePage] > li").eq(n).addClass("active").siblings("li").removeClass("active"),$("[data-node=faceList] > div").eq(n).removeClass("hide").siblings("div").addClass("hide")},f=function(n,e){$("body").on("click","[data-face]",function(a){a.preventDefault(),a.stopPropagation(),t=$(this).data("face"),i=$(this).attr("src"),n({"reg":t,"url":i}),e!==!1&&$("[data-node=faceBox]").hide()})},p=function(n){var e=c(a),t=o(e);$("body").append(t),n()},h=function(){$("body").on("click","[data-node=faceBox]",function(n){n.stopPropagation()}),$(document).on("click",function(){$("[data-node=faceBox]").hide()}),$("[data-node=faceBox]").on("mouseenter","[data-action=facePage] > li",function(){var n=$(this).index();d(n)})},g=function(n){var e=/(\[([\s\S]+?)\])/g;return $.isEmptyObject(l)&&c(a),n.replace(e,function(n,e,t){var i=l[t];if(i)return'<img width="22" height="22" src="'+i+'" />';var a=r[t];return a?'<img width="22" height="22" src="'+a.url+'" />':n})},v=function(){p(h)};n.exports={"init":v,"insert":f,"show":s,"hide":m,"parseEmoji":g}}).call(exports,e(2))},"76":function(n,exports,e){(function(e){"use strict";var t=e.imgpath+"/images/emoji/",i=".png",a={"亲":{"name":"亲亲","url":t+"qinqin"+i},"愤怒":{"name":"生气","url":t+"shengqi"+i},"惊恐":{"name":"惊讶","url":t+"jingya"+i},"迷茫":{"name":"委屈","url":t+"weiqu"+i},"伤心":{"name":"难过","url":t+"nanguo"+i},"努力":{"name":"奋斗","url":t+"fendou"+i},"YY":{"name":" 坏笑","url":t+"huaixiao"+i},"恶心":{"name":"难受","url":t+"nanshou"+i}};n.exports=a}).call(exports,e(3))},"77":function(n,exports,e){var t=e(34);n.exports=t("src/js/module/popup/face/face",function(n,e){"use strict";var t=this,i=(t.$helpers,t.$each),a=n.list,r=(n.v,n.i,n.face,n.$index,t.$escape),o=n.page,u="";return u+='<div data-node="faceBox" class="imoj-box" style="position: absolute;z-index: 9999;display:none"> <em class="sanjiao"></em> <div data-node="faceList" class="imoj-list"> ',i(a,function(n,e){u+=' <div class="imoj-content clearfix ',e&&(u+="hide"),u+='"> ',i(n,function(n,e){u+=' <a href="javascript:;"> <img width="22" height="22" data-face="[',u+=r(n.name),u+=']" src="',u+=r(n.url),u+='" alt="',u+=r(n.name),u+='" title="',u+=r(n.name),u+='"> </a> '}),u+=" </div> "}),u+=' </div> <ul data-action="facePage" class="pagination"> ',i(o,function(n,e){u+=" <li ",0==e&&(u+='class="active"'),u+=">",u+=r(e+1),u+="</li> "}),u+=" </ul> </div>",new String(u)})},"78":function(n,exports,e){"use strict";var t=e(34),i=e(72),a=e(73),r=e(74),o=e(75),u=function(n,e){var t,u=a(n);return t=u>e?i(n,e)+"...":n,o.parseEmoji(r(t))};n.exports=function(){t.helper("truncateByteLen",u)}},"173":function(n,exports,e){(function(t){"use strict";var i=e(34),a=function(n,e){return""===n?t.imgpath+"/images/public/"+e:n};n.exports=function(){i.helper("showPic",a)}}).call(exports,e(3))},"211":function(n,exports,e){(function(t){"use strict";var i=e(34),a=function(n){return"0"!==t.islogin&&t.userId==n?t.i_domain+"member/profileHome":t.group_domain+"ta/"+n+".html"};n.exports=function(){i.helper("othersLink",a)}}).call(exports,e(3))},"212":function(n,exports,e){var t=e(34);n.exports=t("src/js/page/searchTopics/topics",function(n,e){"use strict";var t=this,i=t.$helpers,a=t.$each,r=n.topics,o=(n.topic,n.index,n.topicFirstPic),u=t.$escape,l=t.$string,c="";return a(r,function(n,e){c+=" ",n.topic&&(c+=" ",""===o?c+=' <div class="circle-box no-pic"> ':(c+=' <div modelid="',c+=u(n.modelid),c+='" class="circle-box"> '),c+=' <div class="mg-negative"> ',c+=""===n.topic.topicFirstPic?' <span class="topic-tag topic-tag-static"> ':' <span class="topic-tag"> ',c+=" ",n.user?(c+=' <a href="',c+=u(i.othersLink(n.user.id)),c+='" target="_blank"> <em class="icon-lysy"> <img src="',c+=u(i.showPic(n.user.facePicUrl,"head-default.png")),c+='" title="',c+=u(n.user.nickname),c+='" onerror="imgError(this)"> </em> ',c+=u(n.user.nickname),c+=" </a> "):c+=' <a href="javascript:;" style="cursor: default;"> <em class="icon-lysy"> <img src="" title="" onerror="imgError(this)"> </em> ',c+=" </span> ",""!==n.topic.topicFirstPic&&(c+=' <div class="list-img"> <a href="',c+=u(r.group_domain),c+="topic/",c+=u(n.topic.id),c+='.html" target="_blank">  <img src="',c+=u(n.topic.topicFirstPic),c+='" title="" onerror="imgError(this);"> ',"video"==n.topic.picType&&(c+=' <em class="icon-play"></em> '),c+=" </a> </div> "),c+=' <div class="list-title"> <p class="list-title-content"> <a data-node="list_title" href="',c+=u(r.group_domain),c+="topic/",c+=u(n.topic.id),c+='.html" target="_blank">',c+=l(i.truncateByteLen(n.topic.name,"52")),c+='</a> <span class="list-title-time">',c+=u(n.topic.time_str),c+='</span> </p> </div> <p data-node="list_description" class="list-description">',c+=l(i.truncateByteLen(n.topic.topicContent,"74")),c+='</p> <div class="text-icon"> ',n.like&&(c+=' <a href="javascript:;" data-action="like" data-id="',c+=u(n.id),c+='" data-type="1" data-praise="',c+=u(n.like.isLike===!1?1:0),c+='" data-count=',c+=u(n.like.userQuantity),c+='> <em class="icon-like"></em> ',c+=u(n.like.userQuantity),c+=" </a> "),c+=' <a href="javascript:;" class="a-share"> <em class="icon-discuss"></em> <span>',c+=u(n.topic.topicReplyNum),c+='</span> </a> <!-- <a data-action="shareto" data-surl="',c+=u(r.groupDomain),c+="topic/detail?tid=",c+=u(n.id),c+='" data-stitle="这儿有我们志趣相投的小伙伴，快加入我们吧" data-spic="" href="javascript:;" class="a-share"> <em class="icon icon-share"></em>分享到 </a> --> </div> </div> </div> '),c+=" "}),c+=" ",new String(c)})},"213":function(n,exports,e){(function($){"use strict";var e=function(n,e){for(var t=n,i=e.split("+"),a=function(n,e){var t=new RegExp(e,"g");for(var i in n)$(n[i]).each(function(){var n=$(this),i=n.html();i.indexOf(e)>-1&&i.indexOf("img")==-1&&i.indexOf("src")==-1&&(i=i.replace(t,'<aside style="color:red;display:inline">'+e+"</aside>"),n.html(i))})},r=0;r<i.length;r++)i[r].length>0&&a(t,i[r])};n.exports={"init":e}}).call(exports,e(2))}});
//# sourceMappingURL=searchTopics.js.map