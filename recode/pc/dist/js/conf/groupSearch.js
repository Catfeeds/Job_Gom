webpackJsonp([8],{"0":function(e,exports,n){(function($,e){"use strict";var t=n(21),r=n(24),a=n(172),o=n(36);n(173)();var i=$("[data-node=groupWrap]"),c=i.data("keyword"),s=$("[data-action=loadMore]"),u=$("[data-node=loading]"),l=n(40);l.setPageData("searchGroup");var p=!1,d=2,f=!1,g=function(){s.hide(),u.show()},h=function(){s.find("span").html("没有更多数据"),s.off().show(),u.hide()},v=function(){$("[data-node=groupWrap]").on("click","[data-node=groupList]",function(n){$(n.target).closest("a",this).length||window.open(e.group_domain+"circle/"+$(this).attr("data-id")+".html")})},m=function(){if(!p)return f?void h():(p=!0,g(),t.get(r.get("searchGroup"),{"data":{"keyword":c,"page":d,"pagesize":20}}).done(function(n){if(200===n.code){var t=20*(d-1);d++;var r=n.data.groups||[];if(0==r.length)f=!0,h();else{for(var o,l=0;l<r.length;l++){switch(o=l+t+1+"",o.length){case 1:o="000"+o;break;case 2:o="00"+o;break;case 3:o="0"+o;break;default:o=o}r[l].modelid=e.ssqzjg+o}r.keyword=c;var p=a({"groups":r});u.hide(),i.append(p),r.length<20?h():s.show()}}}).fail(function(){o("数据请求失败 请稍后尝试")}).always(function(){p=!1}),!1)},w=function(){s.on("click",m),v()};w()}).call(exports,n(2),n(3))},"34":function(e,exports){!function(){function n(e,n){return(/string|function/.test(typeof n)?s:c)(e,n)}function t(e,n){return"string"!=typeof e&&(n=typeof e,"number"===n?e+="":e="function"===n?t(e.call(e)):""),e}function r(e){return d[e]}function a(e){return t(e).replace(/&(?![\w#]+;)|[<>"']/g,r)}function o(e,n){if(f(e))for(var t=0,r=e.length;r>t;t++)n.call(e,e[t],t,e);else for(t in e)n.call(e,e[t],t)}function i(e,n){var t=/(\/)[^\/]+\1\.\.\1/,r=("./"+e).replace(/[^\/]+$/,""),a=r+n;for(a=a.replace(/\/\.\//g,"/");a.match(t);)a=a.replace(t,"/");return a}function c(e,t){var r=n.get(e)||u({"filename":e,"name":"Render Error","message":"Template not found"});return t?r(t):r}function s(e,n){if("string"==typeof n){var t=n;n=function(){return new p(t)}}var r=l[e]=function(t){try{return new n(t,e)+""}catch(e){return u(e)()}};return r.prototype=n.prototype=g,r.toString=function(){return n+""},r}function u(e){var n="{Template Error}",t=e.stack||"";if(t)t=t.split("\n").slice(0,2).join("\n");else for(var r in e)t+="<"+r+">\n"+e[r]+"\n\n";return function(){return"object"==typeof console&&console.error(n+"\n\n"+t),n}}var l=n.cache={},p=this.String,d={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},f=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},g=n.utils={"$helpers":{},"$include":function(e,n,t){return e=i(t,e),c(e,n)},"$string":t,"$escape":a,"$each":o},h=n.helpers=g.$helpers;n.get=function(e){return l[e.replace(/^\.\//,"")]},n.helper=function(e,n){h[e]=n},e.exports=n}()},"36":function(e,exports,n){(function($){"use strict";var t=n(37),r=function(){},a=function(e,n){e=e||"",n=n||{};var a={"fixed":!0,"modal":!0,"autofocus":!1,"content":'<p class="del-pop-p">'+e+"</p>","className":"pop-box","okCls":"pc-btn pc-btnh35 circle-pop-btn","ok":r};$.extend(!0,a,n);var o=t(a),i=o._$("header"),c=o._$("title");return n.title||c.css("borderBottom","none"),i.show(),o.show(),o};e.exports=a}).call(exports,n(2))},"172":function(e,exports,n){var t=n(34);e.exports=t("src/js/page/groupSearch/group",function(e,n){"use strict";var t=this,r=t.$helpers,a=t.$each,o=e.groups,i=(e.group,e.index,t.$escape),c="";return a(o,function(e,n){c+=' <div modelid="',c+=i(e.modelid),c+="\" class=\"shop-list\" data-node='groupList' data-id='",c+=i(e.id),c+='\'> <div class="mg-negative"> <!--<a data-node="share" href="javascript:;" class="a-share search-circle-share" data-surl="topic/index?gid=',c+=i(e.groupId),c+='" data-stitle="',c+=i(e.name),c+='" data-spic="',c+=i(r.showPic(e.groupIcon)),c+='"> <em class="icon icon-share"></em>分享到</a> --> <div class="user-head"> <a target="_blank" href="/circle/',c+=i(e.id),c+='.html" bp-data=\'{"event_id": "G000P006", "s_word": "',c+=i(o.keyword),c+='", "group_id": "',c+=i(e.id),c+='", "s_type": "group"}\'><img src="',c+=i(r.showPic(e.icon,"circle-default.png")),c+='" title="',c+=i(e.category.name),c+='"></a> </div> <h3 class="user-name">',c+=i(e.name),c+='</h3> <div><span class="pc-btn pc-bj-fc8753 circle-type">',c+=i(e.category.name),c+='</span></div> <div class="user-top-info"> <ul class="clearfix"> <li>成员：<span>',c+=i(e.memberQuantity),c+="</span></li> <li>话题：<span>",c+=i(e.topicQuantity),c+="</span></li> </ul> </div> </div> </div> "}),new String(c)})},"173":function(e,exports,n){(function(t){"use strict";var r=n(34),a=function(e,n){return""===e?t.imgpath+"/images/public/"+n:e};e.exports=function(){r.helper("showPic",a)}}).call(exports,n(3))}});
//# sourceMappingURL=groupSearch.js.map