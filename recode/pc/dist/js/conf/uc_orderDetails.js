webpackJsonp([38],{"0":function(t,exports,n){"use strict";n(307).init(),n(309).init(),n(311).init()},"36":function(t,exports,n){(function($){"use strict";var i=n(37),o=function(){},a=function(t,n){t=t||"",n=n||{};var a={"fixed":!0,"modal":!0,"autofocus":!1,"content":'<p class="del-pop-p">'+t+"</p>","className":"pop-box","okCls":"pc-btn pc-btnh35 circle-pop-btn","ok":o};$.extend(!0,a,n);var e=i(a),c=e._$("header"),d=e._$("title");return n.title||d.css("borderBottom","none"),c.show(),e.show(),e};t.exports=a}).call(exports,n(2))},"44":function(t,exports,n){(function($){"use strict";var n,i,o,a=function(){n.off().on("click",function(){n.hide(),i.hide()}),i.off().on("click",function(){n.hide(),i.hide()})},e=function(t,e){var c={"duration":2e3,"callback":function(){}};$.extend(c,e||{}),clearTimeout(o),n=$('[data-action="publicMask"]'),i=$('[data-action="publicTips"]'),n.length>0?(n.show(),i.show().text(t)):($("body").append('<div data-action="publicMask" class="ordi-toast"></div><div class="ordi-toast-txt" data-action="publicTips">'+t+"</div>"),n=$('[data-action="publicMask"]'),i=$('[data-action="publicTips"]'),a()),i.css("margin",-i[0].offsetHeight/2+"px 0 0 "+-i.width()/2+"px"),o=setTimeout(function(){n.hide(),i.hide(),c.callback()},c.duration)};t.exports={"init":e,"events":a}}).call(exports,n(2))},"65":function(t,exports,n){(function($){"use strict";var i=n(37),o=function(){},a=function(t,n){var a={"fixed":!0,"modal":!0,"content":'<p class="del-pop-p">'+t+"</p>","className":"pop-box","okCls":"pc-btn pc-btnh35 circle-pop-btn","ok":o,"cancel":o,"btnWrapCls":"two-buttons"};$.extend(!0,a,n);var e=i(a);return e.show(),e};t.exports=a}).call(exports,n(2))},"306":function(t,exports,n){(function(i){"use strict";var o=n(36),a=function(){var t=i.imgpath;o("",{"okCls":"hide","content":'<div class="sm-download"><img src="'+t+'/images/public/ma1.jpg"><p>扫描二维码，下载国美APP联系商家</p></div>'})};t.exports=a}).call(exports,n(3))},"307":function(t,exports,n){(function($){"use strict";var i=n(308),o="[data-action=unPayCancel]",a="[data-action=payedCancel]",e="[data-node=orderStauts]",c=$("[data-node=orderDetail]"),d=$(e),s=function(){c.on("click",o,function(){var t=$(this),n=t.data("id");i({"isPayed":!1,"id":n,"okFn":function(n){t.parent().empty(),d.text(n)}})})},r=function(){c.on("click",a,function(){var t=$(this),n=t.data("id");i({"isPayed":!0,"id":n,"okFn":function(n){t.addClass("order-blank-btn-disabled"),t.attr("data-action","cancelling"),d.text(n)}})})},l=function(){s(),r()};t.exports={"init":l}}).call(exports,n(2))},"308":function(t,exports,n){"use strict";var i=n(21),o=n(24),a=n(65),e=n(36),c=n(44).init,d={"cancelOrder":"确认要取消订单吗？","cancelFail":"订单取消失败!网络可能出问题了~","canceled":"系统已取消订单"},s=function(t){var n=t.isPayed?"payedCancelOrder":"unPayCancelOrder";a(d.cancelOrder,{"title":"操作","width":500,"className":"pop-box","btnWrapCls":"text-center","okCls":"two-button two-button-red","cancelCls":"two-button","ok":function(){i.get(o.get(n),{"data":{"id":t.id}}).done(function(n){var i=n.data,o=i.status,a=i.statusDesc;return n.success===!0?void t.okFn(a):void(o==-1||o==-6?t.okFn(a):1!=o||0!=o?(c(d.canceled),setTimeout(function(){location.reload()},2e3)):c(n.message))}).fail(function(){e(d.cancelFail)})}})};t.exports=s},"309":function(t,exports,n){(function($){"use strict";var i=n(44).init,o=n(310),a="[data-action=confirmReceipt]",e="[data-action=delayReceipt]",c=$("[data-node=orderDetail]"),d=function(){c.on("click",a,function(){var t=$(this),n=t.data("id");o.confirmReceipt({"id":n,"okFn":function(){location.reload()}})})},s=function(){c.on("click",e,function(){var t="order-blank-btn-disabled",n=$(this),a=n.data("id");return!n.hasClass(t)&&void o.delayReceipt({"id":a,"okFn":function(){var t=$("[data-node=time]"),o=t.data("time").split("-"),a=parseInt(o[0])+7,e=o[1],c=o[2];i("操作成功"),t.data("time",a+"-"+e+"-"+c),t.text(a+"天"+e+"时"+c+"分"),n.remove()}})})},r=function(){d(),s()};t.exports={"init":r}}).call(exports,n(2))},"310":function(t,exports,n){"use strict";var i=n(21),o=n(24),a=n(65),e=n(44).init,c={"confirmReceipt":"确认已收到货了吗？","confirmFail":"确认收货失败!网络可能出问题了~","delayReceipt":"确认延长7天收货时间吗？","delayFail":"延迟收货失败！网络可能出问题了~","confirmed":"已经确认收货"},d=function(t){a(c.confirmReceipt,{"title":"确认收货","width":500,"className":"pop-box","btnWrapCls":"text-center","okCls":"two-button two-button-red","cancelCls":"two-button","ok":function(){i.post(o.get("confirmReceipt"),{"data":{"orderId":t.orderId,"orderDeliveryId":t.postId}}).done(function(n){var i=n.data,o=i.status,a="交易成功";return n.success===!0?void t.okFn(a):void(3==o?(e(c.confirmed),t.okFn(a)):e(n.message))}).fail(function(){e(c.confirmFail)})}})},s=function(t){a(c.delayReceipt,{"title":"延迟收货","width":500,"className":"pop-box","btnWrapCls":"text-center","okCls":"two-button two-button-red","cancelCls":"two-button","ok":function(){i.post(o.get("delayReceipt"),{"data":{"orderId":t.id}}).done(function(n){n.success===!0?t.okFn():(e(n.message),setTimeout(function(){location.reload()},2e3))}).fail(function(){e(c.delayFail)})}})};t.exports={"confirmReceipt":d,"delayReceipt":s}},"311":function(t,exports,n){(function($){"use strict";var i=n(306),o=function(){var t=$("[data-node=orderList]"),n="[data-action=ContactMerchant]";t.on("click",n,function(){i()})};t.exports={"init":o}}).call(exports,n(2))}});
//# sourceMappingURL=uc_orderDetails.js.map