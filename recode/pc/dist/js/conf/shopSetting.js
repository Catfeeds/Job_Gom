webpackJsonp([25],{"0":function(t,exports,n){"use strict";n(223).init(),n(224).init(),n(226).init(),n(228).init()},"44":function(t,exports,n){(function($){"use strict";var n,a,i,e=function(){n.off().on("click",function(){n.hide(),a.hide()}),a.off().on("click",function(){n.hide(),a.hide()})},s=function(t,s){var o={"duration":2e3,"callback":function(){}};$.extend(o,s||{}),clearTimeout(i),n=$('[data-action="publicMask"]'),a=$('[data-action="publicTips"]'),n.length>0?(n.show(),a.show().text(t)):($("body").append('<div data-action="publicMask" class="ordi-toast"></div><div class="ordi-toast-txt" data-action="publicTips">'+t+"</div>"),n=$('[data-action="publicMask"]'),a=$('[data-action="publicTips"]'),e()),a.css("margin",-a[0].offsetHeight/2+"px 0 0 "+-a.width()/2+"px"),i=setTimeout(function(){n.hide(),a.hide(),o.callback()},o.duration)};t.exports={"init":s,"events":e}}).call(exports,n(2))},"103":function(t,exports,n){(function($){"use strict";var a=n(21),i=n(24),e=n(104),s=n(23),o={"qq":"http://connect.qq.com/widget/shareqq/index.html","wb":"http://v.t.sina.com.cn/share/share.php","qz":"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey"},r={"url":"https://group.gomeplus.com/","title":"国美APP边玩边分享，购物不孤单","pic":"../../images/public/logo.png","summary":"国美APP边玩边分享，购物不孤单"},c=function(t){window.open(t)},u=!1,l=function(){var t='<p data-node="shareBtnBox" class="share-down" style="z-index:21;"><span class="share-box"><span class="icon icon-up-arrow"></span><span class="icon-box"><em data-shareto="weixin" class="iconn-30"></em><em data-shareto="qq" class="iconn-32"></em><em data-shareto="sina" class="iconn-31"></em><em data-shareto="qzone" class="iconn-33"></em></span></span></p>';$("body").append(t),u=!0},h=function(t){!u&&l(),$("[data-node=shareBtnBox]").css({"left":t.x,"top":t.y}).show()},p=!1,d=function(){var t='<div class="share-weixin"><div class="wx-mask"></div><div class="wx-main"><div class="wx-code"><span></span><img data-node="shareWeixinCode" alt="分享到微信" /></div><p>打开微信扫一扫，即可分享</p><a href="javascript:;" title="点击关闭" class="wx-close">×</a></div></div>';$("body").append(t),p=!0},f=function(t,n){var a=[],i={"title":t.title,"url":t.url,"summary":t.summary,"site":t.site};for(var e in i)a.push(e+"="+encodeURIComponent(i[e]||""));return n?a.push("pics="+t.pic):a.push("pic="+t.pic),a.join("&")},g={"weixin":function(t){var n=e(t.url);!p&&d(),$("[data-node=shareWeixinCode]")[0].src=n,$(".share-weixin").show(),$(".wx-close").on("click",function(){$(".share-weixin").hide()})},"qq":function(t){var n=o.qq+"?"+f(t,!0);c(n)},"wb":function(t){var n=o.wb+"?"+f(t);c(n)},"qz":function(t){var n=o.qz+"?"+f(t,!0);c(n)}},m=function(t){var n="0"!==t.isRebate;a.get(i.get("shareGetGoodsKid"),{"validate":n,"data":{"skuId":t.skuId,"itemId":t.itemId,"parentKid":t.parentKid},"async":!1}).done(function(n){if(n.success===!0){var a=n.data.kid,i=t.shareInfo,e=i.url,s=e.indexOf("?");s>0&&(e=e.substring(0,s)),i.url=e+"?onlineUserId="+i.onlineUserId+"&kId="+a,g[t.shareto](i)}else g[t.shareto](t.shareInfo)}).fail(function(){n?s()&&g[t.shareto](t.shareInfo):g[t.shareto](t.shareInfo)})},v=function(t){var n={"title":t.title||r.title,"url":t.url||r.url,"pic":t.pic||r.pic,"summary":t.summary||"","desc":t.desc||""};!!g[t.type]&&g[t.type](n)},x=function(t,n,a){var i=null,e=null;e="string"==typeof t?$(t):t,n=n||"[data-action=shareto]",e.on("mouseenter",n,function(){var t=$(this).data("surl"),n=$(this).data("stitle"),a=$(this).data("spic");i={"url":t,"title":n,"pic":a};var e=$(this).width(),s=$(this).height(),o=$(this).offset().left/1+e/2-80+"px",r=$(this).offset().top/1+(s-1)+"px";return h({"x":o,"y":r}),!1}),e.on("mouseleave",n,function(){return $("[data-node=shareBtnBox]").hide(),!1}),$("body").on("click","[data-shareto]",function(t){t.preventDefault();var n=$(this).data("shareto");i.type=n,a=a||function(){},a.call(null,i),v(i)}),$("body").on("mouseenter","[data-node=shareBtnBox]",function(){$(this).show()}),$("body").on("mouseleave","[data-node=shareBtnBox]",function(){$(this).hide()})};t.exports={"share":v,"shareto":g,"shareItem":x,"shareWithKid":m}}).call(exports,n(2))},"104":function(t,exports,n){(function(n){"use strict";var a=function(t){return n.group_domain+"ajax/qrcode/urlcode?url="+encodeURIComponent(t)};t.exports=a}).call(exports,n(3))},"223":function(t,exports,n){(function($,n){"use strict";t.exports={"init":function(){$(".J-shopSetting-list img").on("load",function(){$(this).attr("src").indexOf("opacity4")===-1&&$(this).css("background","none")}).on("error",function(){$(this).attr("src",n.imgpath+"/images/public/opacity4.png")})}}}).call(exports,n(2),n(3))},"224":function(t,exports,n){(function($){"use strict";var a=n(225),i=n(103).shareto;t.exports={"init":function(){var t;a.init(function(n){t=n}),$(".J-share-sWrap").on("click",".J-share-weixin",function(){i.weixin({"url":t.wurl,"title":t.title})}).on("click",".J-share-qq",function(){i.qq({"url":t.url,"title":t.title,"summary":t.info,"pic":t.pic[0]})}).on("click",".J-share-qzone",function(){i.qz({"url":t.url,"title":t.info?"#"+t.title+"#"+t.info:"我心意的这款商品，到底还是在国美找到了。#"+t.title+"# "+t.url,"pic":t.info?t.pic.join("|"):t.pic[0]})}).on("click",".J-share-sina",function(){i.wb({"url":t.url,"title":t.info?"#"+t.title+"#"+t.info:"我心意的这款商品，到底还是在国美找到了。#"+t.title+"# "+t.url,"pic":t.info?t.pic.join("||"):t.pic[0]})})}}}).call(exports,n(2))},"225":function(t,exports,n){(function($,a){"use strict";function i(t,n){r&&clearTimeout(r);var i=$(t),l=u.offset().left,h=u.offset().top,p=i.offset().left,d=i.offset().top,f=i.width(),g=i.height();c.css({"top":d-h+g+10,"left":p-l+f/2-118}),i.hasClass("J-shopSetting-share")?("none"===c.css("display")&&c.show(),n.call(t,e($(t)))):i.attr("data-kid")?("none"===c.css("display")&&c.show(),n.call(t,e($(t)))):s.get(o.get("getKid"),{"itemId":i.attr("data-itemId"),"skuId":i.attr("data-skuId"),"shopId":a.shopId}).then(function(a){a&&i.attr("data-kid",a.kid),"none"===c.css("display")&&c.show(),n.call(t,e($(t)))},function(){"none"===c.css("display")&&c.show()})}function e(t){var n={};if(t.hasClass("J-shopSetting-share")){var a=p.children();if(a.length>0)for(var i=a.length>3?3:a.length,e=0;e<i;e++)d.push((/^http/.test(a.eq(e).find(".J-shopSetting-goodsImg").attr("src"))?"":"http:")+a.eq(e).find(".J-shopSetting-goodsImg").attr("src"));n={"title":l,"info":h,"wurl":t.attr("share-url"),"url":t.attr("data-url"),"pic":d}}else{var s=t.parents("li").eq(0);n={"title":s.find(".J-shopSetting-goodName").text(),"wurl":t.attr("share-url")+"&kid="+t.attr("data-kid"),"pic":[s.find(".J-shopSetting-goodsImg").attr("src")],"url":s.find(".J-shopSetting-goodName").attr("href")+"&kid="+t.attr("data-kid")}}return n}var s=n(21),o=n(24),r=null,c=$(".J-share-sWrap"),u=$(".J-right-content"),l=$(".J-shopSetting-shopName").text(),h=a.shopDescription||"我发现了前所未有的好店，不如，你也来逛逛？",p=$(".J-shopSetting-list"),d=[$(".J-shopSetting-shopLogo").attr("src")];t.exports={"init":function(t){u.on("mouseenter",".J-shopSetting-share,.J-shopSetting-shareBtn",function(){i(this,t)}).on("mouseleave",".J-shopSetting-share,.J-shopSetting-shareBtn",function(){r=setTimeout(function(){c.hide()},200)}),c.hover(function(){clearTimeout(r)},function(){c.hide()})}}}).call(exports,n(2),n(3))},"226":function(t,exports,n){(function(a,$){"use strict";function i(t,n){var a=new Date(t),i=n||"-";return a.getFullYear()+i+(a.getMonth()>8?a.getMonth()+1:"0"+(a.getMonth()+1))+i+(a.getDate()>9?a.getDate():"0"+a.getDate())}function e(t){return t.replace(/[\u0391-\uFFE5]/g,"aa").length}function s(t){for(var s="",o=0,r=t.length;o<r;o++){var c="https://item.gome.com.cn/"+t[o].item.id+"-"+t[o].skuId+".html?"+(t[o].trId?"stid="+t[o].trId:"")+"&mid="+a.shopId;s+='<li>\n\t\t\t\t    <div class="clearfix user-shopSetting-good">\n\t\t\t\t        <a href="'+c+'" target="_blank">\n\t\t\t\t            <img src="'+t[o].item.mainImage+'" class="J-shopSetting-goodsImg">\n\t\t\t\t        </a>\n\t\t\t\t    </div>\n\t\t\t\t    <div class="clearfix user-shopSetting-goods">',1===t[o].item.flag?s+='<span class="user-shopSetting-main">自营</span>':2===t[o].item.flag?s+='<span class="user-shopSetting-rival">海外购</span>':3===t[o].item.flag&&(s+='<span class="user-shopSetting-shop">门店</span>'),s+='<a href="'+c+'" class="J-shopSetting-goodName" target="_blank" title="'+t[o].item.name+'">'+t[o].item.name+'</a>\n\t\t\t\t    </div>\n\t\t\t\t    <div class="user-shopSetting-priceBox clearfix">\n\t\t\t\t        <span class="user-shopSetting-price">￥'+t[o].item.salePrice+'</span>\n\t\t\t\t        <span class="user-shopSetting-ret"><span>佣金</span><span class="user-shopSetting-rnum">最高￥'+(t[o].item.mostCommission/100).toFixed(2)+'</span></span>\n\t\t\t\t    </div>\n\t\t\t\t    <div class="user-shopSetting-gnotice"><span>30日销量:'+t[o].item.sales+'</span><span class="user-shopSetting-date">上架时间:'+i(t[o].onShelfAt,".")+'</span>\n\t\t\t\t    </div>\n\t\t\t\t    <div class="clearfix">\n\t\t\t\t        <a class="user-shopSetting-delBtn J-shopSetting-delBtn" href="javascript:;" data-itemid="'+t[o].itemId+'" data-skuid="'+t[o].skuId+'" data-identification="'+t[o].identification+'" data-status="'+t[o].item.status+'">下架</a>\n\t\t\t\t        <a class="user-shopSetting-grayBtn" href="javascript:;"> \n\t\t\t\t            <span '+(e(t[o].category.name)>8?'class="user-shopSetting-maxSize"':"")+">"+t[o].category.name+'</span>\n\t\t\t\t        </a>\n\t\t\t\t        <a class="user-shopSetting-shareBtn J-shopSetting-shareBtn" href="javascript:;"> 分享</a>\n\t\t\t\t    </div>\n\t\t\t\t</li>'}$(".J-shopSetting-list").html(s),$(window).scrollTop(0),n(223).init()}function o(t){c.get(u.get("shopMange")+t,{}).then(function(n){n?(window.currentPage=t,s(n.items),r(t,a.totalPageQuantity)):l.init("数据获取失败，请重试！")},function(){l.init("数据获取失败，请重试！")})}function r(t,n){$(".J-shopSetting-page").gPager({"currentPage":t,"totalPage":n,"clickCallback":function(t){o(parseInt(t))}})}n(227);var c=n(21),u=n(24),l=(n(226),n(44));window.currentPage=1,t.exports={"getItems":o,"init":function(){r(currentPage,a.totalPageQuantity)}}}).call(exports,n(3),n(2))},"227":function(t,exports,n){(function(t){"use strict";!function(t){var n={"pre":"上一页","next":"下一页","nav":function(t,n){var a="";if(n<=1||t>n)a=this.pager(1,1);else{if(a+=1==t?this.showPre(0):this.showPre(1,t),n>6){var i=1;if(t>=5&&t<=n)a+=1==t?this.numStatusHTML(0,1):this.numStatusHTML(1,1);else for(var e=1;e<4;e++)a+=t==e?this.numStatusHTML(0,e):this.numStatusHTML(1,e);if(a+=t>=5?"<span class='placeholder'></span>":"",i=t-2,i>=3&&i<n-2&&(a+=t==i?this.numStatusHTML(0,i):this.numStatusHTML(1,i)),i=t-1,i>3&&i<n-2&&(a+=t==i?this.numStatusHTML(0,i):this.numStatusHTML(1,i)),i=t,i>3&&i<n-2&&(a+=t==i?this.numStatusHTML(0,i):this.numStatusHTML(1,i)),i=t+1,i>3&&i<n-2&&(a+=t==i?this.numStatusHTML(0,i):this.numStatusHTML(1,i)),i=t+2,i>3&&i<n-2&&(a+=t==i?this.numStatusHTML(0,i):this.numStatusHTML(1,i)),a+=t<=n-4?"<span class='placeholder'></span>":"",t<=n-4)a+=t==n?this.numStatusHTML(0,n):this.numStatusHTML(1,n);else for(var e=n-2;e<=n;e++)a+=t==e?this.numStatusHTML(0,e):this.numStatusHTML(1,e)}else for(var e=1;e<=n;e++)a+=t==e?this.numStatusHTML(0,e):this.numStatusHTML(1,e);a+=t==n?this.showNext(0):this.showNext(1,t)}return a},"pager":function(t,n){var a="";return n<=1&&(this.p=t,this.pn=n,a=this.showPre(0)+this.numStatusHTML(0,t)+this.showNext(0)),a},"go":function(t,n){var a=this.nav(t,n)+this.btnHTML(t,n);return a},"numStatusHTML":function(t,n){return 0==t?"<span class='cur'>"+n+"</span>":"<a href='javascript:void(0);' onclick='javascript:doPageNumSearch("+n+");return false;'>"+n+"</a>"},"showPre":function(t,n){var a="<a class='prev disable' href='javascript:void(0);'>&nbsp;"+this.pre+"<s class='icon-prev'></s><i></i></a>",i="<a class='prev' href='javascript:void(0);' onclick='javascript:doPageNumSearch("+(n-1)+");return false;'>&nbsp;"+this.pre+"<s class='icon-prev'></s><i></i></a>";return 0==t?a:i},"showNext":function(t,n){var a="<a class='next disable' href='javascript:void(0);'>"+this.next+"<s class='icon-next'></s><i></i></a>",i="<a class='next' href='javascript:void(0);' onclick='javascript:doPageNumSearch("+(n+1)+");return false;'>"+this.next+"<s class='icon-next'></s><i></i></a>";return 0==t?a:i},"btnHTML":function(t,n){var a="<label for='pagenum' class='txt-wrap'>到<input type='text' id='pNum' class='txt' bNum='"+n+"' value='"+t+"'>页</label><a href='javascript:void(0)' zdx='nBtn' class='btn'>确定</a>";return a}};t.fn.extend({"gPager":function(t){this.ucPager(t)},"ucPager":function(a){var i=t.extend({"pageClass":"pager","currentPage":1,"totalPage":0,"pageSize":15,"clickCallback":function(){}},a);return this.each(function(){var a=t(this);a.hasClass(i.pageClass)||a.addClass(i.pageClass);var e=function(){i.clickCallback(i.currentPage)};a.html(n.go(i.currentPage,i.totalPage)),window.doPageNumSearch=function(t){i.currentPage=t.toString(),e()},window.doNextPageNum=function(t){i.currentPage==i.totalPage?i.currentPage--:i.currentPage++,doPageNumSearch(i.currentPage)};var s=t("#pNum",a);s.on("keyup",function(){var n=t(this).val(),a=/^\d+$/gi,i=/\d+/gi;a.test(n)||t(this).val(n.match(i)?n.match(i)[0]:"")}),t(".btn",a).bind("click",function(){var n=t.trim(s.val());n<1?(s.val(1),i.currentPage="1"):n>i.totalPage?(s.val(i.totalPage),i.currentPage=i.totalPage.toString()):(s.val(n),i.currentPage=n),e()})})}})}(t)}).call(exports,n(2))},"228":function(t,exports,n){(function($,a){"use strict";var i=n(37),e=n(21),s=n(24),o=n(226),r=n(44);t.exports={"init":function(){$("body").on("click",".J-shopSetting-delBtn",function(){var t=$(this),n=i({"title":"删除商品？","modal":!0,"fixed":!0,"content":'<div class="del-pop-p">下架商品后，可进入添加商品中重新上架</div>',"className":"pop-box","okValue":"确认","okCls":"pc-btn pc-btnh35 circle-pop-btn","cancalValue":"取消","btnWrapCls":"insert-cancel","cancel":function(){},"ok":function(){e.get(s.get("soldInOut"),{"data":{"shopId":a.shopId,"itemId":t.attr("data-itemId"),"skuId":t.attr("data-skuId"),"identification":t.attr("data-identification"),"status":t.attr("data-status")}}).then(function(n){if(n&&200===n.code){var a=parseInt($(".J-shopSetting-number").text(),10);t.parents("li").eq(0).remove(),$(".J-shopSetting-number").text(a-1),o.getItems(window.currentPage)}else r.init("抱歉，操作失败，请重试")},function(){r.init("抱歉，操作失败，请重试")})}});n.show()})}}}).call(exports,n(2),n(3))}});
//# sourceMappingURL=shopSetting.js.map