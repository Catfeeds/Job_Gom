{"version":3,"sources":["webpack:///shopLicense.js","webpack:///./src/js/page/shopLicense/index.js","webpack:///./src/js/module/popup/alert.js?466a************","webpack:///./src/js/module/hint.js?34fa******","webpack:///./src/js/utils/truncate.js?b86a****","webpack:///./src/js/utils/byteLen.js?1ae0****","webpack:///./src/js/utils/trim.js?2399***","webpack:///./src/js/plugin/jquery.splendid.textchange.js?3351*","webpack:///./src/js/module/share.js?fbb7*","webpack:///./src/js/utils/getQRCode.js?13de*","webpack:///./src/js/module/praise.js?0d4d","webpack:///./src/js/module/shopCollect.js?0656","webpack:///./src/js/page/shopLicense/backups/index.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","36","$","Dialog","noop","create","content","options","defaults","fixed","modal","autofocus","className","okCls","ok","extend","d","header","_$","title","css","show","call","44","$publicMask","$publicTips","timer","events","off","on","hide","init","msg","duration","callback","clearTimeout","length","text","append","offsetHeight","width","setTimeout","72","isHighSurrogate","codePoint","isLowSurrogate","truncate","string","byteLength","Error","segment","charLength","curByteLength","i","charCodeAt","byteLen","slice","73","str","replace","89","trim","96","testNode","document","createElement","isInputSupported","documentMode","hasInputCapabilities","elem","nodeName","type","activeElement","activeElementValue","startWatching","target","value","attachEvent","handlePropertyChange","stopWatching","detachEvent","nativeEvent","propertyName","srcElement","trigger","e","103","fetch","url","getQRCode","checkLoginStatus","APIS","qq","wb","qz","defaultInfo","pic","summary","open","window","hasShareBtnsHTML","initShareBtns","shareBtns","showShareToBtns","style","left","x","top","y","hasWeixinHTML","initWeixinHTML","weixinBox","formatParams","p","pics","s","data","site","push","encodeURIComponent","join","shareTo","weixin","link","src","shareWithKid","args","isRebate","get","validate","skuId","itemId","parentKid","async","done","success","kid","shareInfo","index","indexOf","substring","onlineUserId","shareto","fail","go","obj","info","desc","shareItem","parent","selector","beforeShare","$item","shareUrl","this","shareTitle","sharePic","pw","ph","height","px","offset","py","preventDefault","shareType","share","104","$_CONFIG","group_domain","214","alert","Pubsub","channel","loginPop","popFlag","setData","$node","praise","count","helper","normal","add","addClass","find","reduce","removeClass","getCallback","mode","container","$container","onPraise","onUnPraise","onPraised","noRefreshFetch","o","objs","post","callbacks","comment","enableEditor","pub","pid","code","isPraise","$this","location","href","message","t","reload","always","id","groupId","215","collectUrl","hint","isCollect","elementSelector","onChanged","$select","$selector","undefined","refreshFlag","result","isAdd","_this","attr","changed","shopId","222","moduleTrim","shopCollect","$Form","$codeBtn","$codeImg","$codeInput","$codeVilid","$codeTip","$submitBtn","$shopTop","$love","$loveNum","$collect","$collectNum","Timeliness","loveNum","tipshow","html","codeInput","val","submit","mall_domain","codeChange","prev","shareTimer","$shareBtnBox","pcUrl","isEmptyObject","imgpath","BP","send","event_id","shop_id","headPic","isDefault","isPic","reg","test","weixin_share","analytic","sina","qzone"],"mappings":"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","file":"shopLicense.js","sourcesContent":["webpackJsonp([24],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(222);\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tvar Dialog = __webpack_require__(37);\n\tvar noop = function noop() {};\n\t\n\tvar create = function create(content, options) {\n\t    content = content || '';\n\t    options = options || {};\n\t    var defaults = {\n\t        fixed: true,\n\t        modal: true,\n\t        autofocus: false,\n\t        content: '<p class=\"del-pop-p\">' + content + '</p>',\n\t        className: 'pop-box',\n\t        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n\t        ok: noop\n\t    };\n\t    $.extend(true, defaults, options);\n\t    var d = Dialog(defaults);\n\t\n\t    var header = d._$('header');\n\t    var title = d._$('title');\n\t    if (!options.title) {\n\t        title.css('borderBottom', 'none');\n\t    }\n\t    header.show();\n\t    d.show();\n\t    return d;\n\t};\n\t\n\tmodule.exports = create;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t/*\r\n\t * 弹层提示弹窗\r\n\t * zhaodonghong\r\n\t */\n\t\n\tvar $publicMask;\n\tvar $publicTips;\n\tvar timer;\n\t\n\tvar events = function events() {\n\t\n\t    $publicMask.off().on('click', function () {\n\t        $publicMask.hide();\n\t        $publicTips.hide();\n\t    });\n\t\n\t    $publicTips.off().on('click', function () {\n\t        $publicMask.hide();\n\t        $publicTips.hide();\n\t    });\n\t};\n\t\n\t/**\r\n\t * msg string 提示信息\r\n\t * options object \r\n\t * options.duration settimout消失时间\r\n\t * options.callback 提示消失的回调\r\n\t*/\n\tvar init = function init(msg, options) {\n\t    var defaults = {\n\t        duration: 2000,\n\t        callback: function callback() {}\n\t    };\n\t\n\t    $.extend(defaults, options || {});\n\t\n\t    clearTimeout(timer);\n\t    $publicMask = $('[data-action=\"publicMask\"]');\n\t    $publicTips = $('[data-action=\"publicTips\"]');\n\t\n\t    if ($publicMask.length > 0) {\n\t\n\t        $publicMask.show();\n\t        $publicTips.show().text(msg);\n\t    } else {\n\t\n\t        $('body').append('<div data-action=\"publicMask\" class=\"ordi-toast\"></div><div class=\"ordi-toast-txt\" data-action=\"publicTips\">' + msg + '</div>');\n\t        $publicMask = $('[data-action=\"publicMask\"]');\n\t        $publicTips = $('[data-action=\"publicTips\"]');\n\t        events();\n\t    }\n\t\n\t    $publicTips.css('margin', -$publicTips[0].offsetHeight / 2 + 'px 0 0 ' + -$publicTips.width() / 2 + 'px');\n\t\n\t    timer = setTimeout(function () {\n\t\n\t        $publicMask.hide();\n\t        $publicTips.hide();\n\t\n\t        defaults.callback();\n\t    }, defaults.duration);\n\t};\n\t\n\tmodule.exports = {\n\t    init: init,\n\t    events: events\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * [truncate 按字节截取字符串]\n\t * @param  {[function]}  getLength [获取长度的方法]\n\t * @param  {[string]}  string [截取的字符串]\n\t * @param  {[number]}  byteLength [截取的长度]\n\t * @return {string}           [返回截取后的字符串]\n\t */\n\tvar byteLen = __webpack_require__(73);\n\t\n\tfunction isHighSurrogate(codePoint) {\n\t    return codePoint >= 0xd800 && codePoint <= 0xdbff;\n\t}\n\t\n\tfunction isLowSurrogate(codePoint) {\n\t    return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n\t}\n\t\n\t// Truncate string by size in bytes\n\tfunction truncate(string, byteLength) {\n\t    if (typeof string !== \"string\") {\n\t        throw new Error(\"Input must be string\");\n\t    }\n\t\n\t    var charLength = string.length;\n\t    var curByteLength = 0;\n\t    var codePoint;\n\t    var segment;\n\t\n\t    for (var i = 0; i < charLength; i += 1) {\n\t        codePoint = string.charCodeAt(i);\n\t        segment = string[i];\n\t\n\t        if (isHighSurrogate(codePoint) && isLowSurrogate(string.charCodeAt(i + 1))) {\n\t            i += 1;\n\t            segment += string[i];\n\t        }\n\t\n\t        curByteLength += byteLen(segment);\n\t\n\t        if (curByteLength === byteLength) {\n\t            return string.slice(0, i + 1);\n\t        } else if (curByteLength > byteLength) {\n\t            return string.slice(0, i - segment.length + 1);\n\t        }\n\t    }\n\t\n\t    return string;\n\t}\n\t\n\tmodule.exports = truncate;\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar byteLen = function byteLen(str) {\n\t    if (str == null) return 0;\n\t    if (typeof str != \"string\") {\n\t        str += \"\";\n\t    }\n\t    return str.replace(/[^\\x00-\\xff]/g, \"01\").length;\n\t};\n\t\n\tmodule.exports = byteLen;\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * 删除字符串str的收尾空格\n\t */\n\t\n\tvar trim = function trim(str) {\n\t  return str.replace(/(^[ \\t\\n\\r]+)|([ \\t\\n\\r]+$)/g, '');\n\t};\n\t\n\tmodule.exports = trim;\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {\"use strict\";\n\t\n\t/**\n\t * jQuery \"splendid textchange\" plugin\n\t * http://benalpert.com/2013/06/18/a-near-perfect-oninput-shim-for-ie-8-and-9.html\n\t *\n\t * (c) 2013 Ben Alpert, released under the MIT license\n\t */\n\t\n\tvar testNode = document.createElement(\"input\");\n\tvar isInputSupported = \"oninput\" in testNode && (!(\"documentMode\" in document) || document.documentMode > 9);\n\t\n\tvar hasInputCapabilities = function hasInputCapabilities(elem) {\n\t    // The HTML5 spec lists many more types than `text` and `password` on\n\t    // which the input event is triggered but none of them exist in IE 8 or\n\t    // 9, so we don't check them here.\n\t    // TODO: <textarea> should be supported too but IE seems to reset the\n\t    // selection when changing textarea contents during a selectionchange\n\t    // event so it's not listed here for now.\n\t    return elem.nodeName === \"INPUT\" && (elem.type === \"text\" || elem.type === \"password\");\n\t};\n\t\n\tvar activeElement = null;\n\tvar activeElementValue = null;\n\t\n\t/**\n\t * (For old IE.) Starts tracking propertychange events on the passed-in element\n\t * and override the value property so that we can distinguish user events from\n\t * value changes in JS.\n\t */\n\tvar startWatching = function startWatching(target) {\n\t    activeElement = target;\n\t    activeElementValue = target.value;\n\t    activeElement.attachEvent(\"onpropertychange\", handlePropertyChange);\n\t};\n\t\n\t/**\n\t * (For old IE.) Removes the event listeners from the currently-tracked\n\t * element, if any exists.\n\t */\n\tvar stopWatching = function stopWatching() {\n\t    if (!activeElement) return;\n\t\n\t    // delete restores the original property definition\n\t    activeElement.detachEvent(\"onpropertychange\", handlePropertyChange);\n\t\n\t    activeElement = null;\n\t    activeElementValue = null;\n\t};\n\t\n\t/**\n\t * (For old IE.) Handles a propertychange event, sending a textChange event if\n\t * the value of the active element has changed.\n\t */\n\tvar handlePropertyChange = function handlePropertyChange(nativeEvent) {\n\t    if (nativeEvent.propertyName !== \"value\") return;\n\t\n\t    var value = nativeEvent.srcElement.value;\n\t    if (value === activeElementValue) return;\n\t    activeElementValue = value;\n\t\n\t    $(activeElement).trigger(\"textchange\");\n\t};\n\tif (isInputSupported) {\n\t    $(document).on(\"input\", function (e) {\n\t        // In modern browsers (i.e., not IE 8 or 9), the input event is\n\t        // exactly what we want so fall through here and trigger the\n\t        // event...\n\t        if (e.target.nodeName !== \"TEXTAREA\") {\n\t            // ...unless it's a textarea, in which case we don't fire an\n\t            // event (so that we have consistency with our old-IE shim).\n\t            $(e.target).trigger(\"textchange\");\n\t        }\n\t    });\n\t} else {\n\t    $(document).on(\"focusin\", function (e) {\n\t        // In IE 8, we can capture almost all .value changes by adding a\n\t        // propertychange handler and looking for events with propertyName\n\t        // equal to 'value'.\n\t        // In IE 9, propertychange fires for most input events but is buggy\n\t        // and doesn't fire when text is deleted, but conveniently,\n\t        // selectionchange appears to fire in all of the remaining cases so\n\t        // we catch those and forward the event if the value has changed.\n\t        // In either case, we don't want to call the event handler if the\n\t        // value is changed from JS so we redefine a setter for `.value`\n\t        // that updates our activeElementValue variable, allowing us to\n\t        // ignore those changes.\n\t        if (hasInputCapabilities(e.target)) {\n\t            // stopWatching() should be a noop here but we call it just in\n\t            // case we missed a blur event somehow.\n\t            stopWatching();\n\t            startWatching(e.target);\n\t        }\n\t    }).on(\"focusout\", function () {\n\t        stopWatching();\n\t    }).on(\"selectionchange keyup keydown\", function () {\n\t        // On the selectionchange event, e.target is just document which\n\t        // isn't helpful for us so just check activeElement instead.\n\t        //\n\t        // 90% of the time, keydown and keyup aren't necessary. IE 8 fails\n\t        // to fire propertychange on the first input event after setting\n\t        // `value` from a script and fires only keydown, keypress, keyup.\n\t        // Catching keyup usually gets it and catching keydown lets us fire\n\t        // an event for the first keystroke if user does a key repeat\n\t        // (it'll be a little delayed: right before the second keystroke).\n\t        // Other input methods (e.g., paste) seem to fire selectionchange\n\t        // normally.\n\t        if (activeElement && activeElement.value !== activeElementValue) {\n\t            activeElementValue = activeElement.value;\n\t            $(activeElement).trigger(\"textchange\");\n\t        }\n\t    });\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t/**\n\t * 分享到 微信，QQ，微博，空间\n\t * @author Zhengchun Fu\n\t */\n\tvar fetch = __webpack_require__(21);\n\tvar url = __webpack_require__(24);\n\tvar getQRCode = __webpack_require__(104);\n\tvar checkLoginStatus = __webpack_require__(23);\n\t\n\tvar APIS = {\n\t    qq: \"http://connect.qq.com/widget/shareqq/index.html\",\n\t    wb: \"http://v.t.sina.com.cn/share/share.php\",\n\t    qz: \"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey\"\n\t};\n\t\n\tvar defaultInfo = {\n\t    url: 'https://group.gomeplus.com/',\n\t    title: '国美APP边玩边分享，购物不孤单',\n\t    pic: '../../images/public/logo.png', // logo图片地址\n\t    summary: '国美APP边玩边分享，购物不孤单'\n\t};\n\t\n\tvar open = function open(url) {\n\t    window.open(url);\n\t};\n\t\n\t// 分享按钮渲染\n\tvar hasShareBtnsHTML = false;\n\tvar initShareBtns = function initShareBtns() {\n\t    var shareBtns = '<p data-node=\"shareBtnBox\" class=\"share-down\" style=\"z-index:21;\"><span class=\"share-box\"><span class=\"icon icon-up-arrow\"></span><span class=\"icon-box\"><em data-shareto=\"weixin\" class=\"iconn-30\"></em><em data-shareto=\"qq\" class=\"iconn-32\"></em><em data-shareto=\"sina\" class=\"iconn-31\"></em><em data-shareto=\"qzone\" class=\"iconn-33\"></em></span></span></p>';\n\t    $('body').append(shareBtns);\n\t    hasShareBtnsHTML = true;\n\t};\n\tvar showShareToBtns = function showShareToBtns(style) {\n\t    !hasShareBtnsHTML && initShareBtns();\n\t    $('[data-node=shareBtnBox]').css({\n\t        left: style.x,\n\t        top: style.y\n\t    }).show();\n\t};\n\t\n\t// 微信弹层渲染\n\tvar hasWeixinHTML = false;\n\tvar initWeixinHTML = function initWeixinHTML() {\n\t\n\t    var weixinBox = '<div class=\"share-weixin\"><div class=\"wx-mask\"></div><div class=\"wx-main\"><div class=\"wx-code\"><span></span><img data-node=\"shareWeixinCode\" alt=\"分享到微信\" /></div><p>打开微信扫一扫，即可分享</p><a href=\"javascript:;\" title=\"点击关闭\" class=\"wx-close\">×</a></div></div>';\n\t    $('body').append(weixinBox);\n\t    hasWeixinHTML = true;\n\t};\n\t\n\t// pics: 图片参数是否为pics，默认是pic。\n\tvar formatParams = function formatParams(p, pics) {\n\t    var s = [];\n\t    var data = {\n\t        title: p.title,\n\t        url: p.url,\n\t        summary: p.summary,\n\t        //desc: p.desc,\n\t        site: p.site\n\t    };\n\t\n\t    for (var i in data) {\n\t        s.push(i + '=' + encodeURIComponent(data[i] || ''));\n\t    }\n\t    if (pics) {\n\t        s.push('pics=' + p.pic);\n\t    } else {\n\t        s.push('pic=' + p.pic);\n\t    }\n\t    return s.join('&');\n\t};\n\t\n\t// 单个调用方法\n\t// 分享的图片多个用||隔开。\n\tvar shareTo = {\n\t    weixin: function weixin(options) {\n\t        var link = getQRCode(options.url);\n\t        !hasWeixinHTML && initWeixinHTML();\n\t\n\t        $('[data-node=shareWeixinCode]')[0].src = link;\n\t        $('.share-weixin').show();\n\t        $('.wx-close').on('click', function () {\n\t            $('.share-weixin').hide();\n\t        });\n\t    },\n\t    qq: function qq(options) {\n\t        var link = APIS.qq + '?' + formatParams(options, true);\n\t        open(link);\n\t    },\n\t    wb: function wb(options) {\n\t        var link = APIS.wb + '?' + formatParams(options);\n\t        open(link);\n\t    },\n\t    qz: function qz(options) {\n\t        var link = APIS.qz + '?' + formatParams(options, true);\n\t        open(link);\n\t    }\n\t};\n\t\n\t// share with kid\n\tvar shareWithKid = function shareWithKid(args) {\n\t    var isRebate = args.isRebate === '0' ? false : true;\n\t    fetch.get(url.get('shareGetGoodsKid'), {\n\t        validate: isRebate,\n\t        data: {\n\t            skuId: args.skuId,\n\t            itemId: args.itemId,\n\t            parentKid: args.parentKid\n\t        },\n\t        async: false // 防止新窗口被拦截\n\t    }).done(function (data) {\n\t        if (data.success === true) {\n\t            var kid = data.data.kid;\n\t            var shareInfo = args.shareInfo;\n\t            // 替换分享链接\n\t            // 规则：mall_domain+product/shopid-productId.html?onlineUserId=xxxx&kid=xxxx\n\t            var url = shareInfo.url;\n\t            var index = url.indexOf('?');\n\t            if (index > 0) {\n\t                url = url.substring(0, index);\n\t            }\n\t            shareInfo.url = url + '?onlineUserId=' + shareInfo.onlineUserId + '&kId=' + kid;\n\t            shareTo[args.shareto](shareInfo);\n\t        } else {\n\t            shareTo[args.shareto](args.shareInfo);\n\t        }\n\t    }).fail(function () {\n\t        if (isRebate) {\n\t            if (checkLoginStatus()) {\n\t                shareTo[args.shareto](args.shareInfo);\n\t            }\n\t        } else {\n\t            shareTo[args.shareto](args.shareInfo);\n\t        }\n\t    });\n\t};\n\t\n\t// 统一方法\n\tvar go = function go(obj) {\n\t    // {type:x,title:x,url:x,pic:x}\n\t    var info = {\n\t        title: obj.title || defaultInfo.title,\n\t        url: obj.url || defaultInfo.url,\n\t        pic: obj.pic || defaultInfo.pic,\n\t        summary: obj.summary || '',\n\t        desc: obj.desc || ''\n\t    };\n\t\n\t    !!shareTo[obj.type] && shareTo[obj.type](info);\n\t};\n\t\n\t/**\n\t * 简化分享\n\t * @param  {str} [parent] [容器节点]\n\t * @param {str} [selector] [子节点选择器]\n\t */\n\tvar shareItem = function shareItem(parent, selector, beforeShare) {\n\t    var shareInfo = null;\n\t    var $item = null;\n\t    $item = typeof parent === 'string' ? $(parent) : parent;\n\t    selector = selector || '[data-action=shareto]';\n\t    // 显示分享按钮\n\t    $item.on('mouseenter', selector, function () {\n\t        var shareUrl = $(this).data('surl');\n\t        var shareTitle = $(this).data('stitle');\n\t        var sharePic = $(this).data('spic');\n\t\n\t        shareInfo = {\n\t            url: shareUrl,\n\t            title: shareTitle,\n\t            pic: sharePic\n\t        };\n\t\n\t        var pw = $(this).width();\n\t        var ph = $(this).height();\n\t        var px = $(this).offset().left / 1 + pw / 2 - 80 + 'px';\n\t        var py = $(this).offset().top / 1 + (ph - 1) + 'px';\n\t\n\t        showShareToBtns({\n\t            x: px,\n\t            y: py\n\t        });\n\t        return false;\n\t    });\n\t    // 隐藏分享按钮\n\t    $item.on('mouseleave', selector, function () {\n\t        $('[data-node=shareBtnBox]').hide();\n\t        return false;\n\t    });\n\t\n\t    $('body').on('click', '[data-shareto]', function (e) {\n\t        e.preventDefault();\n\t        var shareType = $(this).data('shareto');\n\t        shareInfo.type = shareType;\n\t        beforeShare = beforeShare || function () {};\n\t        beforeShare.call(null, shareInfo);\n\t        go(shareInfo);\n\t    });\n\t\n\t    $('body').on('mouseenter', '[data-node=shareBtnBox]', function () {\n\t        $(this).show();\n\t    });\n\t    $('body').on('mouseleave', '[data-node=shareBtnBox]', function () {\n\t        $(this).hide();\n\t    });\n\t};\n\t\n\tmodule.exports = {\n\t    share: go,\n\t    shareto: shareTo,\n\t    shareItem: shareItem,\n\t    shareWithKid: shareWithKid\n\t};\n\t\n\t/**\n\t * 分享到 使用说明\n\t * 在[data-action=shareto]节点上输出要获取的数据\n\t * data-surl,data-stitle,data-spic\n\t * url要是绝对地址，带https?://的\n\t * pic是要分享的图片绝对地址，多张图片用||隔开。\n\t *\n\t * 页面中在分享按钮加 [data-action=shareto] 自定义属性；\n\t * 如果是分享当前页面的也要加shareInfo,值为当前页面对应的信息。格式都一样。\n\t *\n\t * 调用方法:\n\t * var share = require(..);\n\t * share.shareItem(要分享的区域父节点字符串e.g. 'data-node=shareList');\n\t *\n\t * shareto.weixin({shareInfo})\n\t * shareto.qq({shareInfo})\n\t * shareto.sina({shareInfo})\n\t * shareto.qzone({shareInfo})\n\t *\n\t *\n\t * share.share({shareInfo});这个shareInfo里要有type：[weixin,qq,sina,qzone]\n\t */\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($_CONFIG) {'use strict';\n\t\n\t// 根据字符串生成二维码\n\tvar getQRCode = function getQRCode(url) {\n\t    return $_CONFIG.group_domain + 'ajax/qrcode/urlcode?url=' + encodeURIComponent(url);\n\t};\n\t\n\tmodule.exports = getQRCode;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ }),\n\n/***/ 214:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, $_CONFIG) {'use strict';\n\t\n\t/**\n\t *\n\t * 赞/取消赞\n\t */\n\tvar fetch = __webpack_require__(21);\n\tvar url = __webpack_require__(24);\n\tvar alert = __webpack_require__(36);\n\tvar Pubsub = __webpack_require__(45);\n\tvar channel = __webpack_require__(100);\n\tvar checkLoginStatus = __webpack_require__(23);\n\tvar loginPop = __webpack_require__(22);\n\t\n\tvar isLogin = checkLoginStatus(); //页面初始化是否登录判断\n\tvar popFlag = 0;\n\t\n\tvar noop = function noop() {};\n\tvar setData = function setData($node, praise, count) {\n\t    $node.data('praise', praise);\n\t    $node.data('count', count);\n\t};\n\t\n\tvar helper = {\n\t    normal: {\n\t        add: function add($node, data, count) {\n\t            $node.addClass('active');\n\t            if (!count) {\n\t                count = \"取消点赞\";\n\t            }\n\t            $node.find('span').text(count);\n\t        },\n\t        reduce: function reduce($node, data, count) {\n\t            $node.removeClass('active');\n\t            if (!count) {\n\t                count = \"点赞\";\n\t            }\n\t            $node.find('span').text(count);\n\t        }\n\t    }\n\t};\n\t\n\tvar getCallback = function getCallback(mode) {\n\t    return helper[mode];\n\t};\n\t\n\tvar praise = function praise(container, selector, options) {\n\t    var $container = $(container);\n\t    var onPraise = options.onPraise || noop;\n\t    var onUnPraise = options.onUnPraise || noop;\n\t    var onPraised = options.onPraised || noop;\n\t    var mode = options.mode || 'normal';\n\t\n\t    $container.on('click', selector, function () {\n\t        var $this = $(this);\n\t        /* var firing = $this.data('firing');\n\t         if (firing === 1) {\n\t             return;\n\t         }*/\n\t\n\t        // $this.data('firing', 1);\n\t        var t = $this.data('type');\n\t        var isPraise = $this.data('praise');\n\t        var id = $this.data('id');\n\t        var count = $this.data('count');\n\t\n\t        var objs = {\n\t            data: {\n\t                groupId: $_CONFIG['groupid'],\n\t                id: id,\n\t                type: t, // 0 店铺,  1 话题\n\t                isPraise: isPraise // 0 取消点赞, 1 点赞\n\t\n\t                /*,\n\t                            onLogin: noRefreshFetch,\n\t                            refresh: true*/\n\t            }\n\t\n\t            //无刷新登录\n\t        };function noRefreshFetch() {\n\t            var o = objs;\n\t            fetch.post(url.get('praise'), o).done(function (data /*, textStatus, jqXHR*/) {\n\t                var callbacks = getCallback(mode);\n\t                //推送 评论区状态\n\t                Pubsub(channel.comment.enableEditor).pub({\n\t                    pid: \"enable\"\n\t                });\n\t\n\t                if (data && data.code === 200 && data.success) {\n\t                    if (isPraise === 1) {\n\t                        setData($this, 0, ++count);\n\t                        callbacks.add($this, data, count);\n\t                        onPraise.call($this, data, count);\n\t                    } else if (isPraise === 0) {\n\t                        setData($this, 1, --count);\n\t                        callbacks.reduce($this, data, count);\n\t                        onUnPraise.call($this, data, count);\n\t                    }\n\t                } else if (data && data.code === 422) {\n\t                    // window.location.href = $_CONFIG.passport_domain + 'login/index';\n\t                } else if (data && data.code === 403) {\n\t                    alert('抱歉！该话题审核未通过', {\n\t                        ok: function ok() {\n\t                            window.location.href = $_CONFIG.group_domain + 'index/error?code=topic';\n\t                        }\n\t                    });\n\t                } else if (data.code === 409) {\n\t                    //409点过赞  已经登录 把点赞状态回带，不刷新\n\t                    onPraised.call($this, data, count);\n\t                    if (!popFlag) {\n\t                        alert(data.message);\n\t                    }\n\t                } else {\n\t                    var message = data.message;\n\t                    if (t === 0) {\n\t                        if (data.code === 404) {\n\t                            alert(message, {\n\t                                ok: function ok() {\n\t                                    window.location.reload();\n\t                                }\n\t                            });\n\t                        } else {\n\t                            alert(message);\n\t                        }\n\t                    } else {\n\t                        alert(message);\n\t                    }\n\t                }\n\t                if (popFlag) {\n\t                    window.location.reload();\n\t                }\n\t            }).fail(function () /*jqXHR, textStatus, errorThrown*/{\n\t                // 点赞失败时,如何处理\n\t            }).always(function () {\n\t                // $this.data('firing', 0);\n\t            });\n\t        }\n\t        if (!checkLoginStatus()) {\n\t            popFlag = 1;\n\t            loginPop(noRefreshFetch);\n\t        } else {\n\t            popFlag = 0;\n\t            noRefreshFetch();\n\t        }\n\t        return false;\n\t    });\n\t};\n\t\n\tmodule.exports = praise;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(3)))\n\n/***/ }),\n\n/***/ 215:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, $_CONFIG) {'use strict';\n\t\n\tvar fetch = __webpack_require__(21);\n\tvar url = __webpack_require__(24);\n\tvar hint = __webpack_require__(44);\n\tvar checkLoginStatus = __webpack_require__(23);\n\tvar loginPop = __webpack_require__(22);\n\t\n\tvar isCollect = false;\n\tvar collectUrl;\n\tvar init = function init(elementSelector, onChanged) {\n\t    var $select = elementSelector.parent ? $(elementSelector.parent) : $(elementSelector.selector),\n\t        $selector = elementSelector.parent ? elementSelector.selector : undefined;\n\t\n\t    $select.on('click', $selector, function () {\n\t        var _this = this,\n\t            isAdd = true,\n\t            changed = onChanged || function () {};\n\t\n\t        var objs = {\n\t            // validate: true,\n\t            data: {\n\t                shopId: $_CONFIG.shopId\n\t            }\n\t\n\t            //无刷新登录\n\t        };function noRefreshFetch(refreshFlag) {\n\t            fetch.post(collectUrl, objs).done(function (result) {\n\t                if (result.code === 200) {\n\t                    if (isAdd) {\n\t                        $(_this).addClass('active').attr('data-collect', 'collect');\n\t                    } else {\n\t                        $(_this).removeClass('active').attr('data-collect', '');\n\t                    }\n\t                    if (!refreshFlag) {\n\t                        changed.call(_this, isAdd);\n\t                    }\n\t                } else {\n\t                    hint.init(result.message);\n\t                }\n\t            }).fail(function () {\n\t                if (checkLoginStatus()) {\n\t                    hint.init('店铺收藏失败');\n\t                }\n\t            }).always(function () {\n\t                isCollect = false;\n\t                if (refreshFlag) {\n\t                    window.location.reload();\n\t                }\n\t            });\n\t        }\n\t\n\t        if (!isCollect) {\n\t            isCollect = true;\n\t            if ($(_this).attr('data-collect') === '') {\n\t                collectUrl = url.get('shopCollect');\n\t                isAdd = true;\n\t            } else {\n\t                collectUrl = url.get('unShopCollect');\n\t                isAdd = false;\n\t            }\n\t        }\n\t\n\t        if (checkLoginStatus()) {\n\t            noRefreshFetch();\n\t        } else {\n\t            loginPop(function () {\n\t                noRefreshFetch(1);\n\t            });\n\t        }\n\t        return false;\n\t    });\n\t};\n\tmodule.exports = init;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(3)))\n\n/***/ }),\n\n/***/ 222:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, $_CONFIG) {'use strict';\n\t\n\tvar fetch = __webpack_require__(21),\n\t    url = __webpack_require__(24),\n\t    moduleTrim = __webpack_require__(89),\n\t    truncate = __webpack_require__(72),\n\t    praise = __webpack_require__(214),\n\t    shareto = __webpack_require__(103).shareto,\n\t    shopCollect = __webpack_require__(215);\n\t__webpack_require__(96);\n\t\n\tvar $Form = $('[data-node=Form]');\n\tvar $codeBtn = $Form.find('[data-node=codeBtn]'),\n\t    $codeImg = $Form.find('[data-node=codeImg]'),\n\t    $codeInput = $Form.find('[data-node=codeInput]'),\n\t    $codeVilid = $Form.find('[data-node=codeVilid]'),\n\t    $codeTip = $Form.find('[data-node=codeVilid] .red'),\n\t    $submitBtn = $Form.find('[data-node=submitBtn]'),\n\t    $shopTop = $('[data-node=\"shopTop\"]'),\n\t    $love = $shopTop.find('[data-action=\"love\"]'),\n\t    //点赞\n\t$loveNum = $love.find('[data-node=\"loveNum\"]'),\n\t    //点赞数量\n\t$collect = $shopTop.find('[data-action=\"collect\"]'),\n\t    //收藏\n\t$collectNum = $collect.find('[data-node=\"collectNum\"]'),\n\t    Timeliness = true; //控制数据提交按钮点击频率\n\t\n\tmodule.exports = $(function () {\n\t    var loveNum = ~~$loveNum.text();\n\t    var tipshow = function tipshow(msg) {\n\t        $codeTip.html(msg);\n\t        $codeVilid.removeClass('hide');\n\t    };\n\t\n\t    var codeInput = function codeInput() {\n\t        $codeVilid.addClass('hide');\n\t        if (moduleTrim($codeInput.val()).length > 4) {\n\t            $codeInput.val(truncate($codeInput.val(), 4));\n\t        }\n\t    };\n\t\n\t    var submit = function submit() {\n\t        if (Timeliness == false) {\n\t            return;\n\t        }\n\t        Timeliness = false;\n\t        setTimeout(function () {\n\t            Timeliness = true;\n\t        }, 3000);\n\t        var value = moduleTrim($codeInput.val());\n\t        // if( value.length == 0  ){\n\t        // \ttipshow('验证码不能为空');\n\t        // }\n\t        fetch.get(url.get('shopCodeCheck'), {\n\t            data: {\n\t                shopId: $_CONFIG.shopId,\n\t                code: value\n\t            }\n\t        }, {\n\t            async: false\n\t        }).done(function (data /*, textStatus, jqXHR*/) {\n\t            if (data.success) {\n\t                location.href = $_CONFIG.mall_domain + 'shop/show?shopId=' + $_CONFIG.shopId + '&code=' + value;\n\t            } else {\n\t                tipshow(data.msg);\n\t            }\n\t        }).fail(function () {\n\t            alert(\"数据请求失败 请稍后尝试\");\n\t        });\n\t    };\n\t    var codeChange = function codeChange() {\n\t        $codeVilid.addClass('hide');\n\t        fetch.get(url.get('getCodeOfBusiness'), {\n\t            async: false\n\t        }).done(function (data) {\n\t            if (data.success) {\n\t                $codeImg.attr('src', 'data:image/gif;base64,' + data.data);\n\t            } else {\n\t                alert(\"数据请求失败 请稍后尝试\");\n\t            }\n\t        }).fail(function () {\n\t            alert(\"数据请求失败 请稍后尝试\");\n\t        });\n\t    };\n\t    if ($_CONFIG.type == '9') {\n\t        codeChange();\n\t    }\n\t\n\t    (function () {\n\t        //点赞\n\t        praise('[data-node=\"shopTop\"]', '[data-action=\"love\"]', {\n\t            onPraise: function onPraise() {\n\t                loveNum++;\n\t                $loveNum.text(loveNum);\n\t            },\n\t            onUnPraise: function onUnPraise() {\n\t                loveNum--;\n\t                $loveNum.text(loveNum);\n\t            },\n\t            onPraised: function onPraised() {\n\t                $love.find('em').addClass('active');\n\t                $loveNum.text(loveNum);\n\t            }\n\t        });\n\t        //收藏 店铺\n\t        shopCollect({\n\t            selector: '[data-action=\"collect\"]',\n\t            parent: '[data-node=\"shopTop\"]'\n\t        }, function (isAdd) {\n\t            isAdd ? $collectNum.text(~~$collectNum.text() + 1).prev().addClass('active') : $collectNum.text(~~$collectNum.text() - 1).prev().removeClass('active');\n\t        });\n\t        //分享\n\t        var shareTimer = null,\n\t            $shareBtnBox = $('[data-node=\"shareBtnBox\"]'),\n\t            shareInfo = {},\n\t            pcUrl = '';\n\t        var shareTitle = '';\n\t        $('[data-node=\"shopTop\"]').on('mouseenter', '[data-action=\"shareto\"]', function () {\n\t            pcUrl = $(this).data('surl');\n\t            if ($.isEmptyObject(shareInfo)) {\n\t                shareInfo = {\n\t                    url: $(this).data('surl'),\n\t                    title: $(this).data('stitle'),\n\t                    pic: $(this).data('spic') === '' ? $_CONFIG.imgpath + '/images/public/logo.png' : $(this).data('spic')\n\t                };\n\t                shareTitle = $(this).data('stitle');\n\t            }\n\t            $shareBtnBox.css({\n\t                top: $(this).offset().top + 30,\n\t                left: $(this).offset().left - ~~$('[data-node=\"shareBtnBox\"]').width() / 2 + ~~$(this).width() / 2\n\t            }).show();\n\t            // 发送统计数据\n\t            BP.send({\n\t                event_id: 'B000P019',\n\t                shop_id: $_CONFIG.shopId\n\t            });\n\t        }).on('mouseleave', '[data-action=\"shareto\"]', function () {\n\t            shareTimer = setTimeout(function () {\n\t                $shareBtnBox.hide();\n\t            }, 100);\n\t        });\n\t        $shareBtnBox.on('mouseenter', function () {\n\t            clearTimeout(shareTimer);\n\t        }).on('mouseleave', function () {\n\t            $(this).hide();\n\t        });\n\t        //验证图片是否为图片类型以及是否为默认图片\n\t        var headPic = $shopTop.find('img').attr('src');\n\t        var isDefault = function isDefault(src) {\n\t            if (src == 'https://i-pre.meixincdn.com/v1/img/T1gyVTBmLT1R4cSCrK.png' || src == 'https://i6.meixincdn.com/v1/img/T1YFxTByJT1R4cSCrK.png' || src == 'https://i-pre.meixincdn.com/v1/img/T1TaVTB7LT1R4cSCrK.png') {\n\t                return false;\n\t            }\n\t            return true;\n\t        };\n\t        var isPic = function isPic(src) {\n\t            var reg = /\\w+\\.(jpg|gif|bmp|png)$/;\n\t            if (isDefault(src)) {\n\t                return reg.test(src);\n\t            } else {\n\t                return false;\n\t            }\n\t        };\n\t        // shop_id，channel_id（out-weixin,out-QQ,out-xlwb，out-Qqzone）\n\t        $shareBtnBox.on('click', '[data-shareto=\"weixin\"]', function () {\n\t            shareInfo.url = $_CONFIG.weixin_share;\n\t            shareInfo.title = shareTitle;\n\t            shareto.weixin(shareInfo);\n\t            window.analytic('out-weixin');\n\t        }).on('click', '[data-shareto=\"qq\"]', function () {\n\t            shareInfo.url = pcUrl;\n\t            shareInfo.title = shareTitle;\n\t            shareInfo.summary = '我发现了前所未有的好店，不如，你也来逛逛？';\n\t            shareInfo.pic = isPic(headPic) ? headPic : $_CONFIG.imgpath + '/images/public/logo.jpg';\n\t            shareto.qq(shareInfo);\n\t            window.analytic('out-QQ');\n\t        }).on('click', '[data-shareto=\"sina\"]', function () {\n\t            shareInfo.url = pcUrl;\n\t            shareInfo.title = shareTitle + ',这是我费尽千辛万苦找到的超级好店。';\n\t            shareInfo.pic = isPic(headPic) ? headPic : $_CONFIG.imgpath + '/images/public/logo.jpg';\n\t            shareto.sina(shareInfo);\n\t            window.analytic('out-xlwb');\n\t        }).on('click', '[data-shareto=\"qzone\"]', function () {\n\t            shareInfo.url = pcUrl;\n\t            shareInfo.title = shareTitle;\n\t            shareInfo.summary = '这是我费尽千辛万苦找到的超级好店。';\n\t            shareInfo.pic = isPic(headPic) ? headPic : $_CONFIG.imgpath + '/images/public/logo.jpg';\n\t            shareto.qzone(shareInfo);\n\t            window.analytic('out-Qqzone');\n\t        });\n\t        //bindEvent\n\t        $codeInput.on('textchange', codeInput);\n\t        $submitBtn.on('click', submit);\n\t        $codeBtn.on('click', function () {\n\t            $codeInput.val('');\n\t            codeChange();\n\t        });\n\t    })();\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(3)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// shopLicense.js","require('./backups');\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/shopLicense/index.js","var Dialog = require('dialog');\nvar noop = function() {};\n\nvar create = function(content, options) {\n    content = content || '';\n    options = options || {};\n    var defaults = {\n        fixed: true,\n        modal: true,\n        autofocus: false,\n        content: '<p class=\"del-pop-p\">' + content + '</p>',\n        className: 'pop-box',\n        okCls: 'pc-btn pc-btnh35 circle-pop-btn',\n        ok: noop\n    };\n    $.extend(true, defaults, options);\n    var d = Dialog(defaults);\n\n    var header = d._$('header');\n    var title = d._$('title');\n    if(!options.title){\n        title.css('borderBottom', 'none');\n    }\n    header.show();\n    d.show();\n    return d;\n};\n\nmodule.exports = create;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/popup/alert.js","/*\r\n * 弹层提示弹窗\r\n * zhaodonghong\r\n */\r\n\r\n\r\n\r\nvar $publicMask;\r\nvar $publicTips;\r\nvar timer;\r\n\r\n\r\nvar events = function() {\r\n\r\n    $publicMask.off().on('click', function() {\r\n        $publicMask.hide();\r\n        $publicTips.hide();\r\n    });\r\n\r\n    $publicTips.off().on('click', function() {\r\n        $publicMask.hide();\r\n        $publicTips.hide();\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * msg string 提示信息\r\n * options object \r\n * options.duration settimout消失时间\r\n * options.callback 提示消失的回调\r\n*/\r\nvar init = function(msg, options) {\r\n    var defaults = {\r\n        duration: 2000,\r\n        callback: function() {}\r\n    };\r\n\r\n    $.extend(defaults, options || {});\r\n\r\n    clearTimeout(timer);\r\n    $publicMask = $('[data-action=\"publicMask\"]');\r\n    $publicTips = $('[data-action=\"publicTips\"]');\r\n\r\n    if ($publicMask.length > 0) {\r\n\r\n        $publicMask.show();\r\n        $publicTips.show().text(msg);\r\n\r\n    } else {\r\n\r\n        $('body').append('<div data-action=\"publicMask\" class=\"ordi-toast\"></div><div class=\"ordi-toast-txt\" data-action=\"publicTips\">' + msg + '</div>');\r\n        $publicMask = $('[data-action=\"publicMask\"]');\r\n        $publicTips = $('[data-action=\"publicTips\"]');\r\n        events();\r\n    }\r\n\r\n    $publicTips.css('margin', -$publicTips[0].offsetHeight / 2 + 'px 0 0 ' + -$publicTips.width() / 2 + 'px');\r\n\r\n    timer = setTimeout(function() {\r\n\r\n        $publicMask.hide();\r\n        $publicTips.hide();\r\n\r\n        defaults.callback();\r\n\r\n    }, defaults.duration);\r\n};\r\n\r\n\r\n\r\nmodule.exports = {\r\n    init: init,\r\n    events: events\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/hint.js","/**\n * [truncate 按字节截取字符串]\n * @param  {[function]}  getLength [获取长度的方法]\n * @param  {[string]}  string [截取的字符串]\n * @param  {[number]}  byteLength [截取的长度]\n * @return {string}           [返回截取后的字符串]\n */\nvar byteLen = require('./byteLen');\n\nfunction isHighSurrogate(codePoint) {\n    return codePoint >= 0xd800 && codePoint <= 0xdbff;\n}\n\nfunction isLowSurrogate(codePoint) {\n    return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n}\n\n// Truncate string by size in bytes\nfunction truncate(string, byteLength) {\n    if (typeof string !== \"string\") {\n        throw new Error(\"Input must be string\");\n    }\n\n    var charLength = string.length;\n    var curByteLength = 0;\n    var codePoint;\n    var segment;\n\n    for (var i = 0; i < charLength; i += 1) {\n        codePoint = string.charCodeAt(i);\n        segment = string[i];\n\n        if (isHighSurrogate(codePoint) && isLowSurrogate(string.charCodeAt(i + 1))) {\n            i += 1;\n            segment += string[i];\n        }\n\n        curByteLength += byteLen(segment);\n\n        if (curByteLength === byteLength) {\n            return string.slice(0, i + 1);\n        } else if (curByteLength > byteLength) {\n            return string.slice(0, i - segment.length + 1);\n        }\n    }\n\n    return string;\n}\n\nmodule.exports = truncate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/truncate.js","var byteLen = function (str) {\n    if (str == null) return 0;\n    if (typeof str != \"string\") {\n        str += \"\";\n    }\n    return str.replace(/[^\\x00-\\xff]/g, \"01\").length;\n}\n\nmodule.exports = byteLen;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/byteLen.js","/**\n * 删除字符串str的收尾空格\n */\n\nvar trim = function (str) {\n    return str.replace(/(^[ \\t\\n\\r]+)|([ \\t\\n\\r]+$)/g, '');\n};\n\nmodule.exports = trim;\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/trim.js","/**\n * jQuery \"splendid textchange\" plugin\n * http://benalpert.com/2013/06/18/a-near-perfect-oninput-shim-for-ie-8-and-9.html\n *\n * (c) 2013 Ben Alpert, released under the MIT license\n */\n\nvar testNode = document.createElement(\"input\");\nvar isInputSupported = \"oninput\" in testNode &&\n    (!(\"documentMode\" in document) || document.documentMode > 9);\n\nvar hasInputCapabilities = function(elem) {\n    // The HTML5 spec lists many more types than `text` and `password` on\n    // which the input event is triggered but none of them exist in IE 8 or\n    // 9, so we don't check them here.\n    // TODO: <textarea> should be supported too but IE seems to reset the\n    // selection when changing textarea contents during a selectionchange\n    // event so it's not listed here for now.\n    return elem.nodeName === \"INPUT\" &&\n        (elem.type === \"text\" || elem.type === \"password\");\n};\n\nvar activeElement = null;\nvar activeElementValue = null;\n\n\n/**\n * (For old IE.) Starts tracking propertychange events on the passed-in element\n * and override the value property so that we can distinguish user events from\n * value changes in JS.\n */\nvar startWatching = function(target) {\n    activeElement = target;\n    activeElementValue = target.value;\n    activeElement.attachEvent(\"onpropertychange\", handlePropertyChange);\n};\n\n/**\n * (For old IE.) Removes the event listeners from the currently-tracked\n * element, if any exists.\n */\nvar stopWatching = function() {\n  if (!activeElement) return;\n\n  // delete restores the original property definition\n  activeElement.detachEvent(\"onpropertychange\", handlePropertyChange);\n\n  activeElement = null;\n  activeElementValue = null;\n};\n\n/**\n * (For old IE.) Handles a propertychange event, sending a textChange event if\n * the value of the active element has changed.\n */\nvar handlePropertyChange = function(nativeEvent) {\n    if (nativeEvent.propertyName !== \"value\") return;\n\n    var value = nativeEvent.srcElement.value;\n    if (value === activeElementValue) return;\n    activeElementValue = value;\n\n    $(activeElement).trigger(\"textchange\");\n};\nif (isInputSupported) {\n    $(document)\n        .on(\"input\", function(e) {\n            // In modern browsers (i.e., not IE 8 or 9), the input event is\n            // exactly what we want so fall through here and trigger the\n            // event...\n            if (e.target.nodeName !== \"TEXTAREA\") {\n                // ...unless it's a textarea, in which case we don't fire an\n                // event (so that we have consistency with our old-IE shim).\n                $(e.target).trigger(\"textchange\");\n            }\n        });\n} else {\n    $(document)\n        .on(\"focusin\", function(e) {\n            // In IE 8, we can capture almost all .value changes by adding a\n            // propertychange handler and looking for events with propertyName\n            // equal to 'value'.\n            // In IE 9, propertychange fires for most input events but is buggy\n            // and doesn't fire when text is deleted, but conveniently,\n            // selectionchange appears to fire in all of the remaining cases so\n            // we catch those and forward the event if the value has changed.\n            // In either case, we don't want to call the event handler if the\n            // value is changed from JS so we redefine a setter for `.value`\n            // that updates our activeElementValue variable, allowing us to\n            // ignore those changes.\n            if (hasInputCapabilities(e.target)) {\n                // stopWatching() should be a noop here but we call it just in\n                // case we missed a blur event somehow.\n                stopWatching();\n                startWatching(e.target);\n            }\n        })\n\n        .on(\"focusout\", function() {\n            stopWatching();\n        })\n\n        .on(\"selectionchange keyup keydown\", function() {\n            // On the selectionchange event, e.target is just document which\n            // isn't helpful for us so just check activeElement instead.\n            //\n            // 90% of the time, keydown and keyup aren't necessary. IE 8 fails\n            // to fire propertychange on the first input event after setting\n            // `value` from a script and fires only keydown, keypress, keyup.\n            // Catching keyup usually gets it and catching keydown lets us fire\n            // an event for the first keystroke if user does a key repeat\n            // (it'll be a little delayed: right before the second keystroke).\n            // Other input methods (e.g., paste) seem to fire selectionchange\n            // normally.\n            if (activeElement && activeElement.value !== activeElementValue) {\n                activeElementValue = activeElement.value;\n                $(activeElement).trigger(\"textchange\");\n            }\n        });\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin/jquery.splendid.textchange.js","/**\n * 分享到 微信，QQ，微博，空间\n * @author Zhengchun Fu\n */\nvar fetch = require('io/fetch');\nvar url = require('io/url');\nvar getQRCode = require('utils/getQRCode');\nvar checkLoginStatus = require('module/checkLoginStatus');\n\nvar APIS = {\n    qq: \"http://connect.qq.com/widget/shareqq/index.html\",\n    wb: \"http://v.t.sina.com.cn/share/share.php\",\n    qz: \"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey\"\n};\n\nvar defaultInfo = {\n    url: 'https://group.gomeplus.com/',\n    title: '国美APP边玩边分享，购物不孤单',\n    pic: '../../images/public/logo.png', // logo图片地址\n    summary: '国美APP边玩边分享，购物不孤单'\n};\n\nvar open = function(url) {\n    window.open(url);\n};\n\n// 分享按钮渲染\nvar hasShareBtnsHTML = false;\nvar initShareBtns = function() {\n    var shareBtns = '<p data-node=\"shareBtnBox\" class=\"share-down\" style=\"z-index:21;\"><span class=\"share-box\"><span class=\"icon icon-up-arrow\"></span><span class=\"icon-box\"><em data-shareto=\"weixin\" class=\"iconn-30\"></em><em data-shareto=\"qq\" class=\"iconn-32\"></em><em data-shareto=\"sina\" class=\"iconn-31\"></em><em data-shareto=\"qzone\" class=\"iconn-33\"></em></span></span></p>';\n    $('body').append(shareBtns);\n    hasShareBtnsHTML = true;\n};\nvar showShareToBtns = function(style) {\n    !hasShareBtnsHTML && initShareBtns();\n    $('[data-node=shareBtnBox]').css({\n        left: style.x,\n        top: style.y\n    }).show();\n};\n\n// 微信弹层渲染\nvar hasWeixinHTML = false;\nvar initWeixinHTML = function() {\n\n    var weixinBox = '<div class=\"share-weixin\"><div class=\"wx-mask\"></div><div class=\"wx-main\"><div class=\"wx-code\"><span></span><img data-node=\"shareWeixinCode\" alt=\"分享到微信\" /></div><p>打开微信扫一扫，即可分享</p><a href=\"javascript:;\" title=\"点击关闭\" class=\"wx-close\">×</a></div></div>';\n    $('body').append(weixinBox);\n    hasWeixinHTML = true;\n};\n\n// pics: 图片参数是否为pics，默认是pic。\nvar formatParams = function(p, pics) {\n    var s = [];\n    var data = {\n        title: p.title,\n        url: p.url,\n        summary: p.summary,\n        //desc: p.desc,\n        site: p.site\n    };\n\n    for (var i in data) {\n        s.push(i + '=' + encodeURIComponent(data[i] || ''));\n    }\n    if (pics) {\n        s.push('pics=' + p.pic);\n    } else {\n        s.push('pic=' + p.pic);\n    }\n    return s.join('&');\n};\n\n// 单个调用方法\n// 分享的图片多个用||隔开。\nvar shareTo = {\n    weixin: function(options) {\n        var link = getQRCode(options.url);\n        !hasWeixinHTML && initWeixinHTML();\n\n        $('[data-node=shareWeixinCode]')[0].src = link;\n        $('.share-weixin').show();\n        $('.wx-close').on('click', function() {\n            $('.share-weixin').hide();\n        });\n    },\n    qq: function(options) {\n        var link = APIS.qq + '?' + formatParams(options, true);\n        open(link);\n    },\n    wb: function(options) {\n        var link = APIS.wb + '?' + formatParams(options);\n        open(link);\n    },\n    qz: function(options) {\n        var link = APIS.qz + '?' + formatParams(options, true);\n        open(link);\n    }\n};\n\n// share with kid\nvar shareWithKid = function(args) {\n    var isRebate = args.isRebate === '0' ? false : true;\n    fetch.get(url.get('shareGetGoodsKid'), {\n        validate: isRebate,\n        data: {\n            skuId: args.skuId,\n            itemId: args.itemId,\n            parentKid: args.parentKid\n        },\n        async: false // 防止新窗口被拦截\n    }).done(function(data) {\n        if (data.success === true) {\n            var kid = data.data.kid;\n            var shareInfo = args.shareInfo;\n            // 替换分享链接\n            // 规则：mall_domain+product/shopid-productId.html?onlineUserId=xxxx&kid=xxxx\n            var url = shareInfo.url;\n            var index = url.indexOf('?');\n            if (index > 0) {\n                url = url.substring(0, index);\n            }\n            shareInfo.url = url + '?onlineUserId=' + shareInfo.onlineUserId + '&kId=' + kid;\n            shareTo[args.shareto](shareInfo);\n        } else {\n            shareTo[args.shareto](args.shareInfo);\n        }\n    }).fail(function() {\n        if (isRebate) {\n            if (checkLoginStatus()) {\n                shareTo[args.shareto](args.shareInfo);\n            }\n        } else {\n            shareTo[args.shareto](args.shareInfo);\n        }\n    });\n};\n\n// 统一方法\nvar go = function(obj) {\n    // {type:x,title:x,url:x,pic:x}\n    var info = {\n        title: obj.title || defaultInfo.title,\n        url: obj.url || defaultInfo.url,\n        pic: obj.pic || defaultInfo.pic,\n        summary: obj.summary || '',\n        desc: obj.desc || ''\n    };\n\n    !!shareTo[obj.type] && shareTo[obj.type](info);\n\n};\n\n/**\n * 简化分享\n * @param  {str} [parent] [容器节点]\n * @param {str} [selector] [子节点选择器]\n */\nvar shareItem = function(parent, selector, beforeShare) {\n    var shareInfo = null;\n    var $item = null;\n    $item = typeof parent === 'string' ? $(parent) : parent;\n    selector = selector || '[data-action=shareto]';\n    // 显示分享按钮\n    $item.on('mouseenter', selector, function() {\n        var shareUrl = $(this).data('surl');\n        var shareTitle = $(this).data('stitle');\n        var sharePic = $(this).data('spic');\n\n        shareInfo = {\n            url: shareUrl,\n            title: shareTitle,\n            pic: sharePic\n        };\n\n        var pw = $(this).width();\n        var ph = $(this).height();\n        var px = ($(this).offset().left / 1 + pw / 2 - 80) + 'px';\n        var py = ($(this).offset().top / 1 + (ph - 1)) + 'px';\n\n        showShareToBtns({\n            x: px,\n            y: py\n        });\n        return false;\n    });\n    // 隐藏分享按钮\n    $item.on('mouseleave', selector, function() {\n        $('[data-node=shareBtnBox]').hide();\n        return false;\n    });\n\n    $('body').on('click', '[data-shareto]', function(e) {\n        e.preventDefault();\n        var shareType = $(this).data('shareto');\n        shareInfo.type = shareType;\n        beforeShare = beforeShare || function() {};\n        beforeShare.call(null, shareInfo);\n        go(shareInfo);\n    });\n\n    $('body').on('mouseenter', '[data-node=shareBtnBox]', function() {\n        $(this).show();\n    });\n    $('body').on('mouseleave', '[data-node=shareBtnBox]', function() {\n        $(this).hide();\n    });\n};\n\nmodule.exports = {\n    share: go,\n    shareto: shareTo,\n    shareItem: shareItem,\n    shareWithKid: shareWithKid\n};\n\n/**\n * 分享到 使用说明\n * 在[data-action=shareto]节点上输出要获取的数据\n * data-surl,data-stitle,data-spic\n * url要是绝对地址，带https?://的\n * pic是要分享的图片绝对地址，多张图片用||隔开。\n *\n * 页面中在分享按钮加 [data-action=shareto] 自定义属性；\n * 如果是分享当前页面的也要加shareInfo,值为当前页面对应的信息。格式都一样。\n *\n * 调用方法:\n * var share = require(..);\n * share.shareItem(要分享的区域父节点字符串e.g. 'data-node=shareList');\n *\n * shareto.weixin({shareInfo})\n * shareto.qq({shareInfo})\n * shareto.sina({shareInfo})\n * shareto.qzone({shareInfo})\n *\n *\n * share.share({shareInfo});这个shareInfo里要有type：[weixin,qq,sina,qzone]\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/share.js","// 根据字符串生成二维码\nvar getQRCode = function(url) {\n    return $_CONFIG.group_domain + 'ajax/qrcode/urlcode?url=' + encodeURIComponent(url);\n};\n\nmodule.exports = getQRCode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/getQRCode.js","/**\n *\n * 赞/取消赞\n */\nvar fetch = require('io/fetch');\nvar url = require('io/url');\nvar alert = require('module/popup/alert');\nvar Pubsub = require('io/pubsub');\nvar channel = require('io/channel');\nvar checkLoginStatus = require('module/checkLoginStatus');\nvar loginPop = require('module/popup/login');\n\nvar isLogin = checkLoginStatus(); //页面初始化是否登录判断\nvar popFlag = 0;\n\nvar noop = function() {};\nvar setData = function($node, praise, count) {\n    $node.data('praise', praise);\n    $node.data('count', count);\n};\n\nvar helper = {\n    normal: {\n        add: function($node, data, count) {\n            $node.addClass('active');\n            if (!count) {\n                count = \"取消点赞\";\n            }\n            $node.find('span').text(count);\n\n        },\n        reduce: function($node, data, count) {\n            $node.removeClass('active');\n            if (!count) {\n                count = \"点赞\";\n            }\n            $node.find('span').text(count);\n        }\n    }\n};\n\nvar getCallback = function(mode) {\n    return helper[mode];\n}\n\nvar praise = function(container, selector, options) {\n    var $container = $(container);\n    var onPraise = options.onPraise || noop;\n    var onUnPraise = options.onUnPraise || noop;\n    var onPraised = options.onPraised || noop;\n    var mode = options.mode || 'normal';\n\n    $container.on('click', selector, function() {\n        var $this = $(this);\n        /* var firing = $this.data('firing');\n         if (firing === 1) {\n             return;\n         }*/\n\n        // $this.data('firing', 1);\n        var t = $this.data('type');\n        var isPraise = $this.data('praise');\n        var id = $this.data('id');\n        var count = $this.data('count');\n\n        var objs = {\n            data: {\n                groupId: $_CONFIG['groupid'],\n                id: id,\n                type: t, // 0 店铺,  1 话题\n                isPraise: isPraise // 0 取消点赞, 1 点赞\n            }\n            /*,\n                        onLogin: noRefreshFetch,\n                        refresh: true*/\n        }\n\n        //无刷新登录\n        function noRefreshFetch() {\n            var o = objs;\n            fetch.post(url.get('praise'), o)\n                .done(function(data /*, textStatus, jqXHR*/ ) {\n                    var callbacks = getCallback(mode);\n                    //推送 评论区状态\n                    Pubsub(channel.comment.enableEditor).pub({\n                        pid: \"enable\"\n                    });\n\n                    if (data && data.code === 200 && data.success) {\n                        if (isPraise === 1) {\n                            setData($this, 0, ++count);\n                            callbacks.add($this, data, count);\n                            onPraise.call($this, data, count);\n                        } else if (isPraise === 0) {\n                            setData($this, 1, --count);\n                            callbacks.reduce($this, data, count);\n                            onUnPraise.call($this, data, count);\n                        }\n\n                    } else if (data && data.code === 422) {\n                        // window.location.href = $_CONFIG.passport_domain + 'login/index';\n                    } else if (data && data.code === 403) {\n                        alert('抱歉！该话题审核未通过', {\n                            ok: function() {\n                                window.location.href = $_CONFIG.group_domain + 'index/error?code=topic';\n                            }\n                        });\n                    } else if (data.code === 409) {\n                        //409点过赞  已经登录 把点赞状态回带，不刷新\n                        onPraised.call($this, data, count);\n                        if (!popFlag) {\n                            alert(data.message);\n                        }\n                    } else {\n                        var message = data.message;\n                        if (t === 0) {\n                            if (data.code === 404) {\n                                alert(message, {\n                                    ok: function() {\n                                        window.location.reload();\n                                    }\n                                });\n                            } else {\n                                alert(message);\n                            }\n                        } else {\n                            alert(message);\n                        }\n                    }\n                    if (popFlag) {\n                        window.location.reload();\n                    }\n                }).fail(function( /*jqXHR, textStatus, errorThrown*/ ) {\n                    // 点赞失败时,如何处理\n                }).always(function() {\n                    // $this.data('firing', 0);\n                });\n        }\n        if (!checkLoginStatus()) {\n            popFlag = 1;\n            loginPop(noRefreshFetch);\n        } else {\n            popFlag = 0;\n            noRefreshFetch()\n        }\n        return false;\n    });\n};\n\nmodule.exports = praise;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/praise.js","var fetch = require('io/fetch');\r\nvar url = require('io/url');\r\nvar hint = require('module/hint');\r\nvar checkLoginStatus = require('module/checkLoginStatus');\r\nvar loginPop = require('module/popup/login');\r\n\r\nvar isCollect = false;\r\nvar collectUrl;\r\nvar init = function(elementSelector, onChanged) {\r\n    var $select = elementSelector.parent ? $(elementSelector.parent) : $(elementSelector.selector),\r\n        $selector = elementSelector.parent ? elementSelector.selector : undefined;\r\n\r\n    $select.on('click', $selector, function() {\r\n        var _this = this,\r\n            isAdd = true,\r\n            changed = onChanged || function() {};\r\n\r\n        var objs = {\r\n            // validate: true,\r\n            data: {\r\n                shopId: $_CONFIG.shopId\r\n            }\r\n        }\r\n\r\n        //无刷新登录\r\n        function noRefreshFetch(refreshFlag) {\r\n            fetch.post(collectUrl, objs).done(function(result) {\r\n                if (result.code === 200) {\r\n                    if (isAdd) {\r\n                        $(_this).addClass('active').attr('data-collect', 'collect');\r\n                    } else {\r\n                        $(_this).removeClass('active').attr('data-collect', '');\r\n                    }\r\n                    if(!refreshFlag){\r\n                        changed.call(_this, isAdd);\r\n                    }\r\n                } else {\r\n                        hint.init(result.message)\r\n                }\r\n            }).fail(function() {\r\n                if (checkLoginStatus()) {\r\n                    hint.init('店铺收藏失败');\r\n                }\r\n            }).always(function() {\r\n                isCollect = false;\r\n                if(refreshFlag){\r\n                    window.location.reload();\r\n                }\r\n            });\r\n        }\r\n\r\n        if (!isCollect) {\r\n            isCollect = true;\r\n            if ($(_this).attr('data-collect') === '') {\r\n                collectUrl = url.get('shopCollect');\r\n                isAdd = true;\r\n            } else {\r\n                collectUrl = url.get('unShopCollect');\r\n                isAdd = false;\r\n            }\r\n        }\r\n\r\n        if(checkLoginStatus()){\r\n            noRefreshFetch();\r\n        }else{\r\n            loginPop(function(){\r\n                noRefreshFetch(1);\r\n            })\r\n        }\r\n        return false;\r\n    });\r\n\r\n}\r\nmodule.exports = init;\n\n\n// WEBPACK FOOTER //\n// ./src/js/module/shopCollect.js","var fetch = require('io/fetch'),\n    url = require('io/url'),\n    moduleTrim = require(\"utils/trim\"),\n    truncate = require('utils/truncate'),\n    praise = require('module/praise'),\n    shareto = require('module/share').shareto,\n    shopCollect = require('module/shopCollect');\nrequire('textchange');\n\nvar $Form = $('[data-node=Form]');\nvar $codeBtn = $Form.find('[data-node=codeBtn]'),\n    $codeImg = $Form.find('[data-node=codeImg]'),\n    $codeInput = $Form.find('[data-node=codeInput]'),\n    $codeVilid = $Form.find('[data-node=codeVilid]'),\n    $codeTip = $Form.find('[data-node=codeVilid] .red'),\n    $submitBtn = $Form.find('[data-node=submitBtn]'),\n    $shopTop = $('[data-node=\"shopTop\"]'),\n    $love = $shopTop.find('[data-action=\"love\"]'), //点赞\n    $loveNum = $love.find('[data-node=\"loveNum\"]'), //点赞数量\n    $collect = $shopTop.find('[data-action=\"collect\"]'), //收藏\n    $collectNum = $collect.find('[data-node=\"collectNum\"]'),\n    Timeliness = true; //控制数据提交按钮点击频率\n\nmodule.exports = $(function() {\n    var loveNum = ~~$loveNum.text();\n    var tipshow = function(msg) {\n        $codeTip.html(msg);\n        $codeVilid.removeClass('hide');\n    }\n\n    var codeInput = function() {\n        $codeVilid.addClass('hide');\n        if (moduleTrim($codeInput.val()).length > 4) {\n            $codeInput.val(truncate($codeInput.val(), 4));\n        }\n    }\n\n    var submit = function() {\n        if (Timeliness == false) {\n            return;\n        }\n        Timeliness = false;\n        setTimeout(function() {\n            Timeliness = true;\n        }, 3000);\n        var value = moduleTrim($codeInput.val());\n        // if( value.length == 0  ){\n        // \ttipshow('验证码不能为空');\n        // }\n        fetch.get(url.get('shopCodeCheck'), {\n            data: {\n                shopId: $_CONFIG.shopId,\n                code: value\n            }\n        }, {\n            async: false\n        }).done(function(data /*, textStatus, jqXHR*/ ) {\n            if (data.success) {\n                location.href = $_CONFIG.mall_domain + 'shop/show?shopId=' + $_CONFIG.shopId + '&code=' + value;\n            } else {\n                tipshow(data.msg);\n            }\n        }).fail(function() {\n            alert(\"数据请求失败 请稍后尝试\");\n        });\n    }\n    var codeChange = function() {\n        $codeVilid.addClass('hide');\n        fetch.get(url.get('getCodeOfBusiness'), {\n            async: false\n        }).done(function(data) {\n            if (data.success) {\n                $codeImg.attr('src', 'data:image/gif;base64,' + data.data);\n            } else {\n                alert(\"数据请求失败 请稍后尝试\");\n            }\n        }).fail(function() {\n            alert(\"数据请求失败 请稍后尝试\");\n        });\n    };\n    if ($_CONFIG.type == '9') {\n        codeChange();\n    }\n\n    (function() {\n        //点赞\n        praise('[data-node=\"shopTop\"]', '[data-action=\"love\"]', {\n            onPraise: function() {\n                loveNum++;\n                $loveNum.text(loveNum);\n            },\n            onUnPraise: function() {\n                loveNum--;\n                $loveNum.text(loveNum);\n            },\n            onPraised: function() {\n                $love.find('em').addClass('active');\n                $loveNum.text(loveNum);\n            }\n        });\n        //收藏 店铺\n        shopCollect({\n            selector: '[data-action=\"collect\"]',\n            parent: '[data-node=\"shopTop\"]'\n        }, function(isAdd) {\n            isAdd ? $collectNum.text(~~$collectNum.text() + 1).prev().addClass('active') : $collectNum.text(~~$collectNum.text() - 1).prev().removeClass('active');\n        });\n        //分享\n        var shareTimer = null,\n            $shareBtnBox = $('[data-node=\"shareBtnBox\"]'),\n            shareInfo = {},\n            pcUrl = '';\n        var shareTitle = '';\n        $('[data-node=\"shopTop\"]').on('mouseenter', '[data-action=\"shareto\"]', function() {\n                pcUrl = $(this).data('surl');\n                if ($.isEmptyObject(shareInfo)) {\n                    shareInfo = {\n                        url: $(this).data('surl'),\n                        title: $(this).data('stitle'),\n                        pic: $(this).data('spic') === '' ? $_CONFIG.imgpath + '/images/public/logo.png' : $(this).data('spic')\n                    };\n                    shareTitle = $(this).data('stitle');\n                }\n                $shareBtnBox.css({\n                    top: $(this).offset().top + 30,\n                    left: $(this).offset().left - ~~$('[data-node=\"shareBtnBox\"]').width() / 2 + ~~$(this).width() / 2\n                }).show();\n                // 发送统计数据\n                BP.send({\n                    event_id: 'B000P019',\n                    shop_id: $_CONFIG.shopId\n                })\n            })\n            .on('mouseleave', '[data-action=\"shareto\"]', function() {\n                shareTimer = setTimeout(function() {\n                    $shareBtnBox.hide();\n                }, 100)\n            });\n        $shareBtnBox.on('mouseenter', function() {\n                clearTimeout(shareTimer);\n            })\n            .on('mouseleave', function() {\n                $(this).hide();\n            });\n        //验证图片是否为图片类型以及是否为默认图片\n        var headPic = $shopTop.find('img').attr('src');\n        var isDefault = function(src) {\n            if (src == 'https://i-pre.meixincdn.com/v1/img/T1gyVTBmLT1R4cSCrK.png' || src == 'https://i6.meixincdn.com/v1/img/T1YFxTByJT1R4cSCrK.png' || src == 'https://i-pre.meixincdn.com/v1/img/T1TaVTB7LT1R4cSCrK.png') {\n                return false;\n            }\n            return true;\n        };\n        var isPic = function(src) {\n            var reg = /\\w+\\.(jpg|gif|bmp|png)$/;\n            if (isDefault(src)) {\n                return reg.test(src);\n            } else {\n                return false;\n            }\n        };\n        // shop_id，channel_id（out-weixin,out-QQ,out-xlwb，out-Qqzone）\n        $shareBtnBox.on('click', '[data-shareto=\"weixin\"]', function() {\n            shareInfo.url = $_CONFIG.weixin_share;\n            shareInfo.title = shareTitle;\n            shareto.weixin(shareInfo);\n            window.analytic('out-weixin');\n        }).on('click', '[data-shareto=\"qq\"]', function() {\n            shareInfo.url = pcUrl;\n            shareInfo.title = shareTitle;\n            shareInfo.summary = '我发现了前所未有的好店，不如，你也来逛逛？';\n            shareInfo.pic = isPic(headPic) ? headPic : $_CONFIG.imgpath + '/images/public/logo.jpg';\n            shareto.qq(shareInfo);\n            window.analytic('out-QQ');\n        }).on('click', '[data-shareto=\"sina\"]', function() {\n            shareInfo.url = pcUrl;\n            shareInfo.title = shareTitle + ',这是我费尽千辛万苦找到的超级好店。';\n            shareInfo.pic = isPic(headPic) ? headPic : $_CONFIG.imgpath + '/images/public/logo.jpg';\n            shareto.sina(shareInfo);\n            window.analytic('out-xlwb');\n        }).on('click', '[data-shareto=\"qzone\"]', function() {\n            shareInfo.url = pcUrl;\n            shareInfo.title = shareTitle;\n            shareInfo.summary = '这是我费尽千辛万苦找到的超级好店。';\n            shareInfo.pic = isPic(headPic) ? headPic : $_CONFIG.imgpath + '/images/public/logo.jpg';\n            shareto.qzone(shareInfo);\n            window.analytic('out-Qqzone');\n        });\n        //bindEvent\n        $codeInput.on('textchange', codeInput);\n        $submitBtn.on('click', submit);\n        $codeBtn.on('click', function() {\n            $codeInput.val('');\n            codeChange();\n        })\n    })();\n})\n\n\n// WEBPACK FOOTER //\n// ./src/js/page/shopLicense/backups/index.js"],"sourceRoot":""}