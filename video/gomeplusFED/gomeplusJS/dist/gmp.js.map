{"version":3,"file":null,"sources":["../src/jsframework/core/internal/init.js","../src/jsframework/core/utils/utils.js","../src/jsframework/core/internal/events.js","../src/jsframework/core/internal/defineProperties.js","../src/jsframework/core/internal/state.js","../src/jsframework/core/events/eventbus.js","../src/jsframework/core/data/data.js","../src/jsframework/core/inherits/extend.js","../src/jsframework/core/template/template.js","../src/jsframework/core/gmp.js","../src/uiframework/base/Class.js","../src/uiframework/widgets/button/button.js","../src/uiframework/widgets/dialog/index.js","../src/uiframework/widgets/mask/mask.js","../src/uiframework/widgets/dialog/pc/alert/alert.js","../src/uiframework/widgets/dialog/confirm/confirm.js","../src/uiframework/widgets/dialog/modal/modal.js","../src/uiframework/widgets/position/position.js","../src/uiframework/widgets/overlay/overlay.js","../src/uiframework/index.js","../src/index.js"],"sourcesContent":["/**\n * Created by zhangmike on 16/10/17.\n */\nlet uid = 0;\n// let viewOptions = ['data', 'el', 'events', 'methods', 'init', 'render'];\nexport default function initMixin(GMP) {\n    /**\n     * The main init sequence. This is called for every\n     * instance, including ones that are created from extended\n     * constructors.\n     *\n     * @param {Object} options - this options object should be\n     *                           the result of merging class\n     *                           options and the options passed\n     *                           in to the constructor.\n     */\n    GMP._assignPros({\n        _init(options) {\n            options = options || {};\n\n            this._uid = 'g' + (uid++);\n\n            Object.assign(this, options);\n\n            this.el = this.el || 'body';\n\n            this._eventsMapList = {};\n\n            // 初始化data\n            this._initState();\n\n            // 初始化事件\n            this._initEvents();\n\n            // 初始化Els\n            this._initEls();\n\n            this._callHook('init');\n\n            // 扫描模板结构\n        }\n    });\n}\n","/**\n * Created by zhangmike on 16/10/19.\n */\nlet ObjProto = Object.prototype;\nfunction isType(type) {\n    return function(obj) {\n        return ObjProto.toString.call(obj) === '[object ' + type + ']';\n    };\n}\n\nexport default {\n    isFunction(name) {\n        return isType('Function')(name);\n    },\n    isObject(name) {\n        return isType('Object')(name);\n    },\n    has(obj, key) {\n        return obj != null && ObjProto.hasOwnProperty.call(obj, key);\n    },\n    create(proto, props) {\n        if (this.isObject(props)) {\n            Object.keys(props).forEach(key => {\n                proto[key] = props[key];\n            });\n        }\n        return proto;\n    },\n    defaults(to, from) {\n        let fromAttrs = Object.keys(from);\n        fromAttrs.forEach(current => {\n            if (!to[current] || to[current] === void 0) {\n                to[current] = from[current];\n            }\n        });\n        return to;\n    },\n    mergeData(to, from) {\n        let key, toVal, fromVal;\n        for (key in from) {\n            toVal = to[key];\n            fromVal = from[key];\n            if (!Object.hasOwnProperty(to, key)) {\n                Object.defineProperty(to, key, {\n                    enumerable: true,\n                    configurable: true,\n                    writable: true,\n                    value: fromVal\n                });\n            } else if (this.isObject(toVal) && this.isObject(fromVal)) {\n                this.mergeData(toVal, fromVal);\n            }\n        }\n    },\n    equal(a, b, aStack, bStack) {\n        if (a === b) {\n            return a !== 0 || 1 / a === 1 / b;\n        }\n        if (a == null || b == null) {\n            return a === b;\n        }\n        var toString = ObjProto.toString;\n        var className = toString.call(a);\n        if (className !== toString.call(b)) {\n            return false;\n        }\n        switch (className) {\n        case '[object RegExp]':\n        case '[object String]':\n            return '' + a === '' + b;\n        case '[object Number]':\n            if (+a !== +a) return +b !== +b;\n            return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n        case '[object Date]':\n        case '[object Boolean]':\n            return +a === +b;\n        }\n        var areArrays = className === '[object Array]';\n        if (!areArrays) {\n            if (typeof a != 'object' || typeof b != 'object') {\n                return false;\n            }\n            var aCtor = a.constructor;\n            var bCtor = b.constructor;\n            if (aCtor !== bCtor && !(this.isFunction(aCtor) && aCtor instanceof aCtor &&\n                this.isFunction(bCtor) && bCtor instanceof bCtor) &&\n                ('constructor' in a && 'constructor' in b)) {\n                return false;\n            }\n        }\n        aStack = aStack || [];\n        bStack = bStack || [];\n        var length = aStack.length;\n        while (length--) {\n            if (aStack[length] === a) {\n                return bStack[length] === b;\n            }\n        }\n\n        aStack.push(a);\n        bStack.push(b);\n\n        if (areArrays) {\n            length = a.length;\n            if (length !== b.length) {\n                return false;\n            }\n            while (length--) {\n                if (!this.equal(a[length], b[length], aStack, bStack)) {\n                    return false;\n                }\n            }\n        } else {\n            var key;\n            var keys = Object.keys(a);\n            length = keys.length;\n            if (Object.keys(b).length !== length) {\n                return false;\n            }\n            while (length--) {\n                key = keys[length];\n                if (!(this.has(b, key) && this.equal(a[key], b[key], aStack, bStack))) {\n                    return false;\n                }\n            }\n        }\n        aStack.pop();\n        bStack.pop();\n        return true;\n    }\n};\n","/**\n * Created by zhangmike on 16/10/17.\n */\nimport utils from '../utils/utils';\n\nlet delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\nexport default function eventsMixin(GMP) {\n    /**\n     * Setup the instance's option events.\n     * If the value is a string, we pull it from the\n     * instance's methods by name.\n     */\n    GMP._assignPros({\n        _initEvents() {\n            registerCallbacks(this, this.events);\n        },\n        undelegateEvents() {\n            if (this.$el) {\n                this.$el.off('.delegateEvents' + this._uid);\n            }\n            return this;\n        },\n        delegateEvents(events) {\n            events || (events = this.events);\n            if (!events) {\n                return this;\n            }\n            this.undelegateEvents();\n            for (var key in events) {\n                if (events.hasOwnProperty(key)) {\n                    var method = events[key];\n                    if (!utils.isFunction(method)) {\n                        method = this[method];\n                    }\n                    if (!method) {\n                        continue;\n                    }\n                    var match = key.match(delegateEventSplitter);\n                    this.delegate(match[1], match[2], method.bind(this));\n                }\n            }\n            return this;\n        },\n        undelegate: function(eventName, selector, listener) {\n            this.$el.off(eventName + '.delegateEvents' + this._uid, selector, listener);\n            return this;\n        },\n        delegate(eventName, selector, listener) {\n            this.$el.on(eventName + '.delegateEvents' + this._uid, selector, listener);\n            return this;\n        },\n        _setElement(el) {\n            this.$el = el instanceof GMP.$() ? el : GMP.$()(el);\n            this.el = this.$el[0];\n        },\n        _callHook(hook) {\n            var handlers = this[hook];\n            if (hook && handlers) {\n                handlers.call(this);\n            }\n        },\n        on(name, cb) {\n            let evn = this._uid + name;\n            if (this._eventsMapList[evn]) {\n                this._eventsMapList[evn].push(cb);\n            } else {\n                this._eventsMapList[evn] = [cb];\n            }\n        },\n        off(name) {\n            let evn = this._uid + name;\n            if (this._eventsMapList[evn]) {\n                this._eventsMapList[evn] = [];\n            }\n        },\n        trigger(name, args) {\n            let evn = this._uid + name;\n            var cbs = this._eventsMapList[evn];\n            if (cbs) {\n                cbs.forEach((fn) => {\n                    fn.apply(this, [args]);\n                });\n            }\n        },\n        destroy() {\n            this.undelegateEvents();\n            this.$el.empty();\n        }\n    });\n}\n\nfunction registerCallbacks(vm, events) {\n    vm.undelegateEvents();\n    vm._setElement(vm.el);\n    vm.delegateEvents(events);\n    return vm;\n}\n","function makeHashCode(prefix) {\n    return String(Math.random() + Math.random()).replace(/\\d\\.\\d{4}/, prefix || 'GMP');\n}\n\nvar defineProperties = Object.defineProperties\nvar defineProperty = Object.defineProperty\n\nvar expose = new Date() - 0\n\nvar flag = true\ntry {\n    Object.defineProperty({}, \"_\", {\n        value: \"x\"\n    })\n} catch (e) {\n    flag = false\n}\n\nif (!flag) {\n    if (\"__defineGetter__\" in avalon) {\n        defineProperty = function (obj, prop, desc) {\n            if ('value' in desc) {\n                obj[prop] = desc.value\n            }\n            if (\"get\" in desc) {\n                obj.__defineGetter__(prop, desc.get)\n            }\n            if ('set' in desc) {\n                obj.__defineSetter__(prop, desc.set)\n            }\n            return obj\n        }\n        defineProperties = function (obj, descs) {\n            for (var prop in descs) {\n                if (descs.hasOwnProperty(prop)) {\n                    defineProperty(obj, prop, descs[prop])\n                }\n            }\n            return obj\n        }\n    }\n    if (document.documentMode) {\n        var VBClassPool = {}\n        window.execScript([// jshint ignore:line\n            \"Function parseVB(code)\",\n            \"\\tExecuteGlobal(code)\",\n            \"End Function\" //转换一段文本为VB代码\n        ].join(\"\\n\"), \"VBScript\")\n        function VBMediator(instance, accessors, name, value) {// jshint ignore:line\n            var accessor = accessors[name]\n            if (arguments.length === 4) {\n                accessor.set.call(instance, value)\n            } else {\n                return accessor.get.call(instance)\n            }\n        }\n        defineProperties = function (name, accessors, properties) {\n            // jshint ignore:line\n            var buffer = []\n            buffer.push(\n                    \"\\r\\n\\tPrivate [__data__], [__proxy__]\",\n                    \"\\tPublic Default Function [__const__](d\" + expose + \", p\" + expose + \")\",\n                    \"\\t\\tSet [__data__] = d\" + expose + \": set [__proxy__] = p\" + expose,\n                    \"\\t\\tSet [__const__] = Me\", //链式调用\n                    \"\\tEnd Function\")\n            //添加普通属性,因为VBScript对象不能像JS那样随意增删属性，必须在这里预先定义好\n            var uniq = {}\n\n            //添加访问器属性 \n            for (name in accessors) {\n                uniq[name] = true\n                buffer.push(\n                        //由于不知对方会传入什么,因此set, let都用上\n                        \"\\tPublic Property Let [\" + name + \"](val\" + expose + \")\", //setter\n                        \"\\t\\tCall [__proxy__](Me,[__data__], \\\"\" + name + \"\\\", val\" + expose + \")\",\n                        \"\\tEnd Property\",\n                        \"\\tPublic Property Set [\" + name + \"](val\" + expose + \")\", //setter\n                        \"\\t\\tCall [__proxy__](Me,[__data__], \\\"\" + name + \"\\\", val\" + expose + \")\",\n                        \"\\tEnd Property\",\n                        \"\\tPublic Property Get [\" + name + \"]\", //getter\n                        \"\\tOn Error Resume Next\", //必须优先使用set语句,否则它会误将数组当字符串返回\n                        \"\\t\\tSet[\" + name + \"] = [__proxy__](Me,[__data__],\\\"\" + name + \"\\\")\",\n                        \"\\tIf Err.Number <> 0 Then\",\n                        \"\\t\\t[\" + name + \"] = [__proxy__](Me,[__data__],\\\"\" + name + \"\\\")\",\n                        \"\\tEnd If\",\n                        \"\\tOn Error Goto 0\",\n                        \"\\tEnd Property\")\n\n            }\n            for (name in properties) {\n                if (uniq[name] !== true) {\n                    uniq[name] = true\n                    buffer.push(\"\\tPublic [\" + name + \"]\")\n                }\n            }\n            buffer.push(\"\\tPublic [\" + 'hasOwnProperty' + \"]\")\n            buffer.push(\"End Class\")\n            var body = buffer.join(\"\\r\\n\")\n            var className = VBClassPool[body]\n            if (!className) {\n                className = makeHashCode(\"VBClass\")\n                window.parseVB(\"Class \" + className + body)\n                window.parseVB([\n                    \"Function \" + className + \"Factory(a, b)\", //创建实例并传入两个关键的参数\n                    \"\\tDim o\",\n                    \"\\tSet o = (New \" + className + \")(a, b)\",\n                    \"\\tSet \" + className + \"Factory = o\",\n                    \"End Function\"\n                ].join(\"\\r\\n\"))\n                VBClassPool[body] = className\n            }\n            var ret = window[className + \"Factory\"](accessors, VBMediator) //得到其产品\n            return ret //得到其产品\n        }\n    }\n}\n\nexport default defineProperty;","/**\n * Created by zhangmike on 16/10/18.\n */\nimport util from '../utils/utils';\nimport defineProperty from './defineProperties';\nexport default function initState(GMP) {\n    /**\n     * Setup the scope of an instance, which contains:\n     * - observed data\n     */\n    GMP._assignPros({\n        _initState() {\n            this._initData();\n        },\n        _initData() {\n            this._data = this.data || {};\n            var keys = Object.keys(this._data);\n            var that = this;\n            for (var i = 0, l = keys.length; i < l; i++) {\n                let key = keys[i];\n                let val = this._data[keys[i]];\n                var property = Object.getOwnPropertyDescriptor(this._data, key);\n                if (property && property.configurable === false) {\n                    continue;\n                }\n                Object.defineProperty(that._data, key, {\n                    enumerable: true,\n                    configurable: true,\n                    get: function reactiveGetter() {\n                        return val;\n                    },\n                    set: function reactiveSetter(newVal) {\n                        var value = val;\n                        if (util.equal(newVal, value)) {\n                            return;\n                        } else {\n                            val = newVal;\n                            that.trigger('change:' + key);\n                        }\n                    }\n                });\n            }\n        },\n        _initEls() {\n            if (this.els) {\n                Object.keys(this.els).forEach(current => {\n                    this.els[current] = this.els[current] instanceof GMP.$() ? this.els[current] : GMP.$()(this.els[current]);\n                });\n            }\n        }\n    });\n}\n","/**\n * Created by zhangmike on 16/10/18.\n */\nexport default function initEventBus (GMP) {\n    let events = {};\n    let registerEvent = function (eName, handler, scope) {\n        events[eName] = events[eName] || [];\n        events[eName].push({\n            scope: scope || this,\n            handler: handler\n        });\n    };\n    let removeEvent = function (eName, callback, scope) {\n        var fns = events[eName];\n        scope = scope || this;\n        if (!fns) {\n            return;\n        }\n        events[eName] = events[eName].filter(function (fn) {\n            if (callback && callback !== fn.callback ||\n                scope && scope !== fn.scope\n            ) {\n                return true;\n            } else {\n                return false;\n            }\n        });\n    };\n    let triggerEvent = function (eventName, ...params) {\n        var fns = events[eventName];\n        var i, fn, len;\n        if (!fns) {\n            return;\n        }\n        for (i = 0, len = fns.length; i < len; i++) {\n            fn = fns[i];\n            fn.handler.apply(fn.scope, params || []);\n        }\n    };\n    GMP.GMPEvents = {\n        on: registerEvent,\n        off: removeEvent,\n        trigger: triggerEvent,\n        _events: events\n    };\n}\n","/**\n * Created by zhangmike on 16/10/18.\n */\nexport default class GMPX {\n    constructor (state) {\n        this._init(state);\n    }\n    _init (state) {\n        if (!state) {\n            return Object.create(null);\n        }\n        var keys = Object.keys(state);\n        this.state = state;\n        var that = this;\n        for (var i = 0, l = keys.length; i < l; i++) {\n            let key = keys[i];\n            let val = this.state[keys[i]];\n            var property = Object.getOwnPropertyDescriptor(this.state, key);\n            if (property && property.configurable === false) {\n                continue;\n            }\n            Object.defineProperty(that.state, key, {\n                enumerable: true,\n                configurable: true,\n                get: function reactiveGetter () {\n                    return val;\n                },\n                set: function reactiveSetter (newVal) {\n                    var value = val;\n                    if (newVal === value) {\n                        return;\n                    }\n                    val = newVal;\n                }\n            });\n        }\n    }\n}\n","/**\n * Created by zhangmike on 16/10/20.\n */\nimport utils from '../utils/utils';\n\nexport default function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    if (protoProps && utils.has(protoProps, 'constructor')) {\n        child = protoProps.constructor;\n    } else {\n        child = function() { return parent.apply(this, arguments); };\n    }\n\n    Object.assign(child, parent, staticProps);\n\n    child.prototype = utils.create(parent.prototype, protoProps);\n    child.prototype.constructor = child;\n\n    child.__super__ = parent.prototype;\n\n    return child;\n}\n","/**\n * Created by zhangmike on 16/10/25.\n */\nvar _t = {};\nvar escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#x27;',\n    '`': '&#x60;'\n};\n\nvar createEscaper = function(map) {\n    var escaper = function(match) {\n        return map[match];\n    };\n    var source = '(?:' + Object.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n        string = string == null ? '' : '' + string;\n        return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n};\n_t.escape = createEscaper(escapeMap);\n\nvar templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n};\n\nvar noMatch = /(.)^/;\n\nvar escapes = {\n    '\\'': '\\'',\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n};\n\nvar escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nvar escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n};\nvar htmlTag = /<[^>]+>/g;\nvar text = '';\nexport default function template(str) {\n    if (htmlTag.test(str)) {\n        text = str;\n    } else {\n        text = document.getElementById(str).innerHTML || '';\n    }\n    var matcher = RegExp([\n        (templateSettings.escape || noMatch).source,\n        (templateSettings.interpolate || noMatch).source,\n        (templateSettings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    var index = 0;\n    var source = '__p+=\\'';\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n        source += text.slice(index, offset).replace(escaper, escapeChar);\n        index = offset + match.length;\n\n        if (escape) {\n            source += '\\'+\\n((__t=(' + escape + '))==null?\\'\\':_t.escape(__t))+\\n\\'';\n        } else if (interpolate) {\n            source += '\\'+\\n((__t=(' + interpolate + '))==null?\\'\\':__t)+\\n\\'';\n        } else if (evaluate) {\n            source += '\\';\\n' + evaluate + '\\n__p+=\\'';\n        }\n\n        return match;\n    });\n    source += '\\';\\n';\n\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = 'var __t,__p=\\'\\',__j=Array.prototype.join,' +\n        'print=function(){__p+=__j.call(arguments,\\'\\');};\\n' +\n        source + 'return __p;\\n';\n\n    try {\n        var render = new Function('obj', source);\n    } catch (e) {\n        e.source = source;\n        throw e;\n    }\n\n    var template = function(data) {\n        return render.call(this, data);\n    };\n\n    var argument = 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n    return template;\n}","/**\n * Created by zhangmike on 16/10/14.\n */\n/* global $ */\nimport initMixin from './internal/init';\nimport initEvents from './internal/events';\nimport initState from './internal/state';\nimport initEventBus from './events/eventbus';\nimport gmpx from './data/data';\nimport extend from './inherits/extend';\nimport template from './template/template';\n/**\n * The exposed GMP constructor.\n *\n * @constructor\n * @param {Object} [options]\n * @public\n * @example\n * new GMP({\n *  data: '123',\n *   login: function () {\n *\n *   }\n * })\n */\nclass GMP {\n    constructor(options) {\n        this._init(options);\n    }\n    static $() {\n        if (window.jQuery || window.$ || $) {\n            return window.jQuery || window.$ || $;\n        }\n        throw new Error('GMP need jQuery or Zepto in window scope named $');\n    }\n    static _assignPros(pros) {\n        Object.assign(GMP.prototype, pros);\n    }\n}\n\n// 初始化属性\ninitMixin(GMP);\n// 初始化事件\ninitEvents(GMP);\n// 初始化数据\ninitState(GMP);\n// 初始化事件BUS\ninitEventBus(GMP);\n\nGMP.GMPX = gmpx;\nGMP.extend = extend;\nGMP.template = template;\nexport default GMP;\n","/**\n * Created by zhangmike on 16/10/20.\n */\n/* global $ */\nimport GMP from '../../jsframework/index';\nimport utils from '../../jsframework/core/utils/utils';\n\nclass BaseClass extends GMP {\n    constructor(options) {\n        let init = !!options.init === true ? options.init : null;\n        if (options.init) {\n            delete options.init;\n        }\n        super(options);\n        init != null ? this.on('_on_init', init) : '';\n        this.on('_on_after', this._after);\n    }\n    _after(options) {\n        if (options) {\n            this._create();\n        } else {\n            throw new Error('请正确填写属性!');\n        }\n        this.trigger('_on_init');\n    }\n    _create(html) {\n        if (!this.data) {\n            this.$el.html(GMP.template(html)());\n        } else {\n            this.$el.html(GMP.template(html)(this.data));\n        }\n    }\n    _appendTo(el) {\n        let element = el;\n        if (element && (element.jquery || element.nodeType)) {\n            return $(element)[0];\n        }\n        return document.querySelector(element || 'body');\n    }\n    set(attrName, val) {\n        var oldval = this.data[attrName];\n        this.data[attrName] = val;\n        var setCb = this['_on_' + attrName + 'Update'];\n        if (utils.isFunction(setCb)) setCb.call(this, val, oldval);\n    }\n    get(attrName) {\n        return this.data[attrName];\n    }\n    static inherits(protoProps, staticProps) {\n        let parent = this;\n        let child;\n\n        if (protoProps && utils.has(protoProps, 'constructor')) {\n            child = protoProps.constructor;\n        } else {\n            child = function() {\n                return parent.apply(this, arguments);\n            };\n        }\n\n        Object.assign(child, parent, staticProps);\n\n        child.prototype = utils.create(parent.prototype, protoProps);\n        child.prototype.constructor = child;\n\n        child.__super__ = parent.prototype;\n\n        return child;\n    }\n}\n\nexport default BaseClass;\n","/**\n * Created by zhangmike on 16/10/20.\n */\nimport html from './button.html';\nimport BaseClass from '../../base/Class';\nclass Button extends BaseClass {\n    constructor(options) {\n        super(options);\n        super._create(html);\n    }\n    preinit() {\n        console.log('preinit....');\n    }\n    enable() {\n        this.$el.find('[role=button]').attr('aria-disabled', false).removeAttr('disabled');\n    }\n    disable() {\n        this.$el.find('[role=button]').attr('aria-disabled', true).attr('disabled', true);\n    }\n};\n\nexport default Button;\n","/**\n * Created by zhangmike on 16/11/2.\n */\nimport utils from '../../../jsframework/core/utils/utils';\nexport default function preInit(options = {}, config = {}) {\n    let d = {\n        'click .okBtn': 'ok',\n        'click .cancelBtn': 'cancel'\n    };\n    if (!options.events) {\n        options.events = d;\n    } else {\n        utils.defaults(options.events, d);\n    }\n    if (!options.data) {\n        options.data = config;\n    } else {\n        utils.defaults(options.data, config);\n    }\n}","import BaseClass from '../../base/Class';\n\nclass Mask extends BaseClass {\n    constructor(options) {\n        super(options);\n        this._create();\n    }\n    _create() {\n\n    }\n}\n\nexport default Mask;","/**\n * Created by zhangmike on 16/10/28.\n */\n/* global $, GMP */\nimport html from './alert.html';\nimport BaseClass from '../../../../base/Class';\nimport preInit from '../../index';\nimport Mask from '../../../mask/mask';\n\nclass Alert extends BaseClass {\n    constructor(options) {\n        preInit(options);\n        super(options);\n        this.trigger('_on_after', options);\n    }\n    _create() {\n        this._createWrapper();\n        let alertHtml = GMP.template(html)(this.data);\n        this.uiAlert.append(alertHtml).css('z-index', 9999);\n        this.mask = new Mask({\n\n        });\n    }\n    _createWrapper() {\n        this.uiAlert = $('<div>').hide()\n            .attr({\n                tabIndex: -1,\n                role: 'dialog'\n            })\n            .appendTo(this._appendTo(this.el));\n    }\n    open() {\n        this.uiAlert.show();\n    }\n    ok() {\n        this.$el.hide();\n    }\n    cancel() {\n        this.$el.hide();\n    }\n};\n\nexport default Alert;\n","/**\n * Created by zhangmike on 16/10/29.\n */\n/* global $, GMP */\nimport html from './confirm.html';\nimport BaseClass from '../../../base/Class';\nimport preInit from '../index';\n\nclass Confirm extends BaseClass {\n    constructor(options) {\n        preInit(options);\n        super(options);\n        this.trigger('_on_after', options);\n    }\n    _create() {\n        this._createWrapper();\n        let confirmHtml = GMP.template(html)(this.data);\n        this.uiConfirm.append(confirmHtml);\n    }\n    _createWrapper() {\n        this.uiConfirm = $('<div>').hide()\n            .attr({\n                tabIndex: -1,\n                role: 'dialog'\n            })\n            .appendTo(this._appendTo(this.el));\n    }\n    open() {\n        this.uiConfirm.show();\n    }\n    ok() {\n        this.uiConfirm.hide();\n    }\n    cancel() {\n        this.uiConfirm.hide();\n    }\n};\n\nexport default Confirm;\n","/**\n * Created by zhangmike on 16/10/29.\n */\n/* global $, GMP */\nimport BaseClass from '../../../base/Class';\nimport preInit from '../index';\nconst config = {\n    title: '标题'\n};\nconst tmpl = {\n    layer: '<div class=\"layer\"></div>',\n    header: '<h2 class=\"dialog-header\"><%=title%></h2>',\n    footer: '<div class=\"dialog-footer\">' +\n    '<a href=\"javascript: void 0;\" role=\"button\" class=\"okBtn\" aria-controls=\"ok\">确定</a>' +\n    '<a href=\"javascript: void 0;\" role=\"button\" class=\"cancelBtn\" aria-controls=\"cancel\">取消</a>' +\n    '</div>'\n};\nconst htmlTag = /<[^>]+>/g;\n\nclass Modal extends BaseClass {\n\n    constructor(options) {\n        preInit(options, config);\n        super(options);\n        this.trigger('_on_after', options);\n    }\n    _create(options) {\n        this._createWrapper();\n        let header,\n            content,\n            footer,\n            data = this.data;\n        if (data.header) {\n            if (htmlTag.test(data.header)) {\n                header = data.header;\n            } else {\n                header = $(data.header).html();\n            }\n        } else {\n            header = tmpl.header;\n        }\n        if (data.content) {\n            if (htmlTag.test(data.content)) {\n                content = data.content;\n            } else {\n                content = $(data.content).html();\n            }\n        } else {\n            content = tmpl.content || '<p style=\"text-align: center\">正文</p>';\n        }\n        if (data.footer) {\n            if (htmlTag.test(data.footer)) {\n                footer = data.footer;\n            } else {\n                footer = $(data.footer).html();\n            }\n        } else {\n            footer = tmpl.footer;\n        }\n        let dialog = header + content + footer;\n        $(dialog).show()\n            .removeAttr('title')\n            .appendTo(this.uiDialog);\n        let dialogHtml = GMP.template(dialog)(this.data);\n        this.uiDialog.html(dialogHtml);\n    }\n    _createWrapper() {\n        this.uiDialog = $('<div>').addClass('dialog')\n            .hide()\n            .attr({\n                tabIndex: -1,\n                role: 'dialog'\n            })\n            .appendTo(this._appendTo(this.el));\n    }\n    _createOverLay() {\n        this.overlay = $(tmpl.layer)\n            .appendTo(this._appendTo(this.el));\n    }\n    _destroyOverLay() {\n        this.overlay.remove();\n    }\n    ok() {\n        this.close();\n    }\n    cancel() {\n        this.close();\n    }\n    open() {\n        if (this.uiDialog) {\n            this._createOverLay();\n            this.uiDialog.show();\n        }\n    }\n    close() {\n        this._destroyOverLay();\n        this.uiDialog.hide();\n    }\n    destory() {\n        this.uiDialog.remove();\n    }\n\n};\n\nexport default Modal;\n","/**\n * @author fuqiang[designsor@gmail.com]\n * @date 20161031\n * @fileoverview postion base\n */\n/* global $ */\nfunction convertXYtoNum(x, element, type, isVIEWPORT) {\n    // 先转成字符串再说！好处理\n    x = x + '';\n\n    // 处理 px\n    x = x.replace(/px/gi, '');\n\n    // 将百分比转为像素值\n    if (x.indexOf('%') !== -1) {\n        // 支持小数\n        x = x.replace(/(\\d+(?:\\.\\d+)?)%/gi, function(m, d) {\n            return (isVIEWPORT ? $(window)['outer' + type]() : $(element)['outer' + type]()) * (d / 100.0);\n        });\n    }\n\n    // 处理类似 100%+20px 的情况\n    if (/[+\\-*\\/]/.test(x)) {\n        try {\n            // eval 会影响压缩\n            // new Function 方法效率高于 for 循环拆字符串的方法\n            // 参照：http://jsperf.com/eval-newfunction-for\n            x = (new Function('return ' + x))();\n        } catch (e) {\n            throw new Error('Invalid position value: ' + x);\n        }\n    }\n\n    // 转回为数字\n    return numberize(x);\n}\n\nfunction numberize(s) {\n    return parseFloat(s, 10) || 0;\n}\n\nvar Position = {\n    pin(element, offset, base) {\n        var isVIEWPORT = !base;\n        element = $(element);\n        base = base ? $(base) : $(window);\n        element.css('position', 'absolute');\n        offset = {\n            x: convertXYtoNum(offset.x, element, 'Width', isVIEWPORT),\n            y: convertXYtoNum(offset.y, element, 'Height', isVIEWPORT)\n        };\n        // 相对于可是窗口对齐（默认）\n        if (isVIEWPORT) {\n            element.offset({\n                left: offset.x,\n                top: offset.y\n            });\n        } else {\n            element.offset({\n                left: base.offset().left + offset.x,\n                top: base.offset().top + offset.y\n            });\n        }\n    },\n    centerInWindow(element) {\n        this.pin(element, {\n            x: '50%-' + ($(element).width() / 2),\n            y: '50%-' + ($(element).height() / 2)\n        });\n    }\n};\n\nexport default Position;\n","/**\n * @author fuqiang [designsor@gmail.com]\n * @date 20161031\n * @fileoverview 浮层统一类\n */\n/* global $ */\nimport GMP from '../../../jsframework/index';\nimport Position from '../position/position';\nimport BaseClass from '../../base/Class';\n\nclass Overlay extends BaseClass {\n    /*\n    constructor(options = {\n        data:{\n            width: null,\n            height: null,\n            zIndex: 999,\n            visible: false,\n            x: 0,\n            y: 0,\n            clsName:'',\n        }\n    }) {\n    */\n    constructor(options) {\n        super(options);\n        this.setup();\n        this._create(GMP.template('<div style=\"background:rgb(0,0,0);z-index:<%=zIndex%>;width:<%=width%>;height:<%=height%>;opacity: <%=opacity%>;position: <%=position%>\" class=\"<%=clsName%>\"></div>')(options.data));\n    }\n    _create(html) {\n        this.uiOverlay = $(html);\n        $('body').append(this.uiOverlay);\n        this.trigger('create');\n    }\n    show() {\n        this.set('visible', true);\n        this.trigger('show');\n        return this;\n    }\n    hide() {\n        this.set('visible', false);\n        this.trigger('hide');\n        return this;\n    }\n    setup() {\n        // 不需要加shim，因为不兼容ie6\n        this._setupResize();\n        this.on('create', () => {\n            var pos = this.uiOverlay.css('position');\n            if (pos === 'static' || pos === 'relative') {\n                this.uiOverlay.css({\n                    position: 'absolute',\n                    left: '-9999px',\n                    top: '-9999px'\n                });\n            }\n        });\n        this.on('show', () => {\n            this._setPosition();\n        });\n    }\n    _setupResize() {\n        Overlay.allOverlays.push(this);\n    }\n    _setPosition() {\n        // 不在文档流不需要对齐\n        if (!isInDocument(this.uiOverlay[0])) return;\n        var align = {\n            x: this.data.x,\n            y: this.data.y\n        };\n        // 都是0不需要对齐\n        if (!align.x && !align.y) return;\n        var isHidden = this.uiOverlay.css('display') === 'none';\n\n        // 在定位时，为避免元素高度不定，先显示出来\n        if (isHidden) {\n            this.uiOverlay.css({\n                visibility: 'hidden',\n                display: 'block'\n            });\n        }\n        Position.pin(this.uiOverlay, align, this.data.alignBase);\n        // 定位完成后，还原\n        if (isHidden) {\n            this.uiOverlay.css({\n                visibility: '',\n                display: 'none'\n            });\n        }\n        return this;\n    }\n    _blurHide(...arr) {\n        arr.push(this.uiOverlay);\n        this._relativeElements = arr;\n        Overlay.blurOverlays.push(this);\n    }\n    destroy() {\n        Overlay.allOverlays = Overlay.allOverlays.filter((item) => {\n            return this !== item;\n        });\n        Overlay.blurOverlays = Overlay.blurOverlays.filter((item) => {\n            return this !== item;\n        });\n        if (super.destory) super.destroy.call(this);\n    }\n    // 用于 set 属性后的界面更新\n    _on_widthUpdate(val) {\n        this.uiOverlay.css('width', val);\n    }\n    _on_heightUpdate(val) {\n        this.uiOverlay.css('height', val);\n    }\n    _on_zIndexUpdate(val) {\n        this.uiOverlay.css('zIndex', val);\n    }\n    _on_visibleUpdate(val) {\n        this.uiOverlay[val ? 'show' : 'hide']();\n    }\n}\n\nOverlay.allOverlays = [];\nOverlay.blurOverlays = [];\n\n$(document).on('click', (e) => {\n    hideBlurOverlays(e);\n});\n\nfunction isInDocument(element) {\n    return $.contains(document.documentElement, element);\n}\n\nfunction hideBlurOverlays(e) {\n    Overlay.blurOverlays.forEach((index, item) => {\n        // 当实例为空或隐藏时，不处理\n        if (!item || !item.get('visible')) {\n            return;\n        }\n        // 遍历 _relativeElements ，当点击的元素落在这些元素上时，不处理\n        for (var i = 0; i < item._relativeElements.length; i++) {\n            var el = $(item._relativeElements[i])[0];\n            if (el === e.target || $.contains(el, e.target)) {\n                return;\n            }\n        }\n        // 到这里，判断触发了元素的 blur 事件，隐藏元素\n        item.hide();\n    });\n}\n\nvar timeout;\nvar winWidth = $(window).width();\nvar winHeight = $(window).height();\n\n$(window).resize(function() {\n    timeout && clearTimeout(timeout);\n    timeout = setTimeout(function() {\n        var winNewWidth = $(window).width();\n        var winNewHeight = $(window).height();\n\n        // IE678 莫名其妙触发 resize\n        // http://stackoverflow.com/questions/1852751/window-resize-event-firing-in-internet-explorer\n        if (winWidth !== winNewWidth || winHeight !== winNewHeight) {\n            $(Overlay.allOverlays).each(function(i, item) {\n                // 当实例为空或隐藏时，不处理\n                if (!item || !item.get('visible')) {\n                    return;\n                }\n                item._setPosition();\n            });\n        }\n\n        winWidth = winNewWidth;\n        winHeight = winNewHeight;\n    }, 80);\n});\n\nexport default Overlay;\n","/**\n * Created by zhangmike on 16/10/20.\n */\nimport Button from './widgets/button/button';\nimport Alert from './widgets/dialog/pc/alert/alert';\nimport Confirm from './widgets/dialog/confirm/confirm';\nimport Modal from './widgets/dialog/modal/modal';\nimport Position from './widgets/position/position';\nimport Overlay from './widgets/overlay/overlay';\nexport {\n    Button, Alert, Confirm, Modal, Position, Overlay\n};\n","/**\n * Created by zhangmike on 16/10/20.\n */\n/* global $ */\nimport GMP from './jsframework/index';\nimport * as widgets from './uiframework/index';\nimport BaseClass from './uiframework/base/Class';\n\nGMP.Widgets = function () {\n\n};\nGMP.Widgets['register'] = function (name, options) {\n    if (this[name] != null) {\n        throw new Error('已存在该名称的Widgets,请改名!');\n    } else {\n        this[name] = BaseClass.inherits(options);\n    }\n};\n\nObject.assign(GMP.Widgets, widgets);\n\nlet uiInit = function() {\n    $('body').addClass('opg');\n};\n// UI初始化\nuiInit();\n\nexport default GMP;\n"],"names":["uid","initMixin","GMP","_assignPros","options","_uid","el","_eventsMapList","_initState","_initEvents","_initEls","_callHook","ObjProto","Object","prototype","isType","type","obj","toString","call","name","key","hasOwnProperty","proto","props","isObject","keys","forEach","to","from","fromAttrs","current","toVal","fromVal","defineProperty","mergeData","a","b","aStack","bStack","className","areArrays","aCtor","constructor","bCtor","isFunction","length","push","equal","has","pop","delegateEventSplitter","eventsMixin","events","$el","off","undelegateEvents","method","utils","match","delegate","bind","eventName","selector","listener","on","$","hook","handlers","cb","evn","args","cbs","fn","apply","empty","registerCallbacks","vm","_setElement","delegateEvents","makeHashCode","prefix","String","Math","random","replace","defineProperties","expose","Date","flag","e","avalon","prop","desc","value","__defineGetter__","get","__defineSetter__","set","descs","document","documentMode","VBClassPool","VBMediator","instance","accessors","accessor","arguments","execScript","join","properties","buffer","uniq","body","parseVB","ret","window","initState","_initData","_data","data","that","i","val","getOwnPropertyDescriptor","property","configurable","reactiveGetter","reactiveSetter","newVal","util","trigger","l","els","initEventBus","registerEvent","eName","handler","scope","removeEvent","callback","fns","filter","triggerEvent","len","params","GMPEvents","GMPX","state","_init","create","protoProps","staticProps","parent","child","__super__","_t","escapeMap","createEscaper","map","escaper","source","testRegexp","RegExp","replaceRegexp","string","test","escape","templateSettings","noMatch","escapes","escapeChar","htmlTag","text","template","str","getElementById","innerHTML","matcher","interpolate","evaluate","index","offset","slice","render","Function","argument","jQuery","Error","pros","initEvents","gmpx","extend","BaseClass","init","_after","_create","html","element","jquery","nodeType","querySelector","attrName","oldval","setCb","Button","log","find","attr","removeAttr","preInit","config","d","defaults","Mask","Alert","_createWrapper","alertHtml","uiAlert","append","css","mask","hide","appendTo","_appendTo","show","Confirm","confirmHtml","uiConfirm","tmpl","Modal","header","content","footer","dialog","uiDialog","dialogHtml","addClass","overlay","layer","remove","close","_createOverLay","_destroyOverLay","convertXYtoNum","x","isVIEWPORT","indexOf","m","numberize","s","parseFloat","Position","base","y","left","top","pin","width","height","Overlay","setup","uiOverlay","_setupResize","pos","_setPosition","allOverlays","isInDocument","align","isHidden","alignBase","arr","_relativeElements","blurOverlays","item","babelHelpers.get","contains","documentElement","hideBlurOverlays","target","timeout","winWidth","winHeight","resize","clearTimeout","setTimeout","winNewWidth","winNewHeight","each","Widgets","inherits","babelHelpers.extends","widgets","uiInit"],"mappings":"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"}