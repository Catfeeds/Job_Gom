webpackJsonp([23],{0:function(e,t,a){var n=a(203);n();var r=a(54);r.setPageData("relevancePhone")},46:function(e,t){var a=function(e){return null==e?0:("string"!=typeof e&&(e+=""),e.replace(/[^\x00-\xff]/g,"01").length)};e.exports=a},47:function(e,t){var a=function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")};e.exports=a},48:function(e,t){var a={checkVal:function(e,t){return t.test(e)},isMobileNum:function(e){return/^1[34578][0-9]{9}$/.test(e)},isEmail:function(e){return/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/.test(e)},isCertificate:function(e){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(e)},isCID:function(e){return/^(\d{16}|\d{19})$/.test(e)},isCWord:function(e,t,a){var t=!isNaN(t)&&t>0?t:1,a=!isNaN(a)&&a>0?a:"",n=new RegExp("^[\\u4e00-\\u9fa5]{"+t+","+a+"}$");n.test(e);return n.test(e)},isArray:function(e){return Array.isArray(e)||e instanceof Array},passwordReg:function(e){var t=/^((?=.*?\d)(?=.*?[A-Za-z])|(?=.*?\d)(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，\"\,\:\;；,\.‘’“”：'"\·`【】])|(?=.*?[A-Za-z])(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]))[\dA-Za-z<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]{6,21}$/;return t.test(e)},checkSpace:function(e){var t=/\s+/;return t.test(e)},checkRefCode:function(e){var t=/^[0-9a-zA-Z]{8}$/;return t.test(e)},checkNickName:function(e){var t=/^([\u4e00-\u9fa5]|[0-9a-zA-Z_-])+$/;return t.test(e)},isMsgCode:function(e){var t=/^\d{6}$/;return t.test(e)}};e.exports=a},62:function(e,t){var a=function(){},n=function(e,t){this.onChange=t.onChange||a,this.onFinish=t.onFinish||a,this.count=e||60,this.start()};n.prototype.start=function(){var e=this;setTimeout(function(){e.onChange(e.count),e.count--,e.count<=0?e.onFinish():e.start()},1e3)},e.exports=n},63:function(e,t){function a(e,t){return e.length>t?e.substr(0,t):e}e.exports=a},129:function(e,t,a){function n(e){var t=0,a=r(e);return e?(t+=a<=6?5:a>=11?25:10,t+=e.match(/[a-z]/i)?e.match(/[a-z]/)&&e.match(/[A-Z]/)?20:10:0,t+=e.match(/[0-9]/)?e.match(/[0-9]/g).length>=3?20:10:0,t+=e.match(/\W/)?e.match(/\W/g).length>1?25:10:0,t+=e.match(/[0-9]/)&&e.match(/[a-z]/i)?e.match(/\W/)?e.match(/[a-z]/)&&e.match(/[A-Z]/)?5:3:2:0):0}var r=a(46);e.exports=n},203:function(e,t,a){(function($,t){function n(){ee(),x.on("click",H),m.on({blur:_,focus:G,keyup:D}),p.on("click",O),C.on({focus:W,blur:J,keyup:U}),g.on({keyup:X,blur:V,focus:j}),b.on({focus:Q,keyup:Y,blur:K}),h.on("click",te)}var r=a(48),o=(a(47),a(62)),s=a(129),d=a(63),i=a(39),l=a(35),c=a(2),u=a(28);a(41);var f,v=$("[data-node=snsBindPhone]"),m=v.find("[data-node=tel]"),C=v.find("[data-node=msgCode]"),p=v.find('[data-action="sendMsgCode"]'),h=v.find('[data-action="submit"]'),x=v.find('[data-action="pwdEye"]'),g=v.find('[data-node="pwd"]'),w=v.find('[data-node="pwdTip"]'),b=v.find('[data-node="referralCode"]'),k=v.find('[data-node="errorTel"]'),y=v.find('[data-node="errorPwd"]'),A=v.find('[data-node="errorBorderTel"]'),N=v.find('[data-node="errorBorderMsgCode"]'),T=v.find("[data-node=errorMsgCode]"),q=v.find('[data-node="errorBorderPwd"]'),z=v.find('[data-node="errorBorderRefCode"]'),R=v.find("[data-node=errorRefCode]"),B=v.find("[data-node=publicErrBox]"),E=v.find("[data-node=publicErr]"),F="lg-form-error",I="none",Z=$GLOBAL_CONFIG.redirect,L=t.passport_domain,M=$GLOBAL_CONFIG.whereFrom,P=1,S=1,_=function(){var e=m.val(),t=r.isMobileNum(e),a=!0;return e?t?(A.removeClass(F),k.text(""),a=!0):(A.addClass(F),k.text(l.tel.err),a=!1):(A.addClass(F),k.text(l.tel.ept),a=!1),a},G=function(){A.removeClass(F),k.text(""),B.addClass(I),E.text("")},D=function(){var e=m.val().length;e>11&&m.val(d(m.val()+"",11))},O=function(){var e=m.val(),t=_(),a="code-disabled";if(!P||!t)return!1;P=0,C.removeAttr("disabled");var n={mobile:e,type:M};return c.post(u.get("snsSendCode"),{data:n}).then(function(e){e.success?(T.text(l.msgCode.tipSend).css("color","#f95353"),new o(60,{onChange:function(e){p.text(e+l.msgCode.btnAfterSend).addClass(a)},onFinish:function(){P=1,p.text(l.msgCode.btnDefault).removeClass(a)}}),f=e.data.token,S=e.data.mobileType,1===S?(z.addClass(I),q.addClass(I)):2===S?(z.removeClass(I),q.addClass(I)):3==S&&(z.removeClass(I),q.removeClass(I))):(T.text(""),B.removeClass(I),E.text(e.message),P=1)}).fail(function(){P=1,B.removeClass(I),E.text(l.errLine.tip)}),!1},W=function(){N.removeClass(F),T.text(""),B.addClass(I),E.text("")},U=function(){var e=C.val().length;e>6&&C.val(d(C.val()+"",6))},J=function(){var e=C.val()+"",t=!0,a="disabled"==C.attr("disabled");return a?(N.addClass(F),T.text(l.msgCode.tipGet),t=!1):e?/^\d{6}$/.test(e)?t=!0:(N.addClass(F),T.text(l.msgCode.tipErr),t=!1):(N.addClass(F),T.text(l.msgCode.tipEpt),t=!1),t},V=function(){var e=!0,t=g.val()+"",a=s(t);return t&&r.passwordReg(t)?r.checkSpace(t)?(w.addClass(I),q.addClass(F),y.show().text(l.pwd.commonTip),e=!1):a<27?(w.addClass(I),q.addClass(F),y.show().text(l.pwd.commonTip),e=!1):(q.removeClass(F),y.hide().text(""),e=!0):(w.addClass(I),q.addClass(F),y.show().text(l.pwd.commonTip),e=!1),e},X=function(){w.removeClass(I),q.removeClass(F);var e=w.find("span"),t=g.val(),a=s(t),n="level-weak",o="level-md",i="level-strong";a>27&&r.passwordReg(t)?y.hide().text(""):y.show().text(l.pwd.commonTip).css("color","red"),a<60?(e.eq(0).addClass(n),e.eq(1).removeClass(o),e.eq(2).removeClass(i)):a>=60&&a<80?(e.eq(0).removeClass(n),e.eq(1).addClass(o),e.eq(2).removeClass(i)):(e.eq(0).removeClass(n),e.eq(1).removeClass(o),e.eq(2).addClass(i));var c=(g.val()+"").length;c>20&&g.val(d(g.val()+"",20))},j=function(){B.addClass(I),E.text("")},H=function(){var e="type";"text"==g.attr(e)?(g.attr(e,"password"),$(this).css("color","#e5e5e5")):(g.attr(e,"text"),$(this).css("color","#f95353"))},K=function(){var e=b.val(),t=!0;return""===e||r.checkRefCode(e)?(z.removeClass(F),R.text(""),t=!0):(z.addClass(F),R.text(l.refCode.err),t=!1),t},Q=function(){z.removeClass(F),R.text(""),B.addClass(I),E.text("")},Y=function(){var e=b.val(),t=(e+"").length;t>8&&b.val(d(e,8))},ee=function(){m.placeholder(),C.placeholder(),g.placeholder(),b.placeholder()},te=function(){var e,t=m.val(),a=C.val(),n=_(),r=J(a);if(!r||!n)return!1;var o={mobile:t,verifyCode:a,type:M,mobileType:S,activityNo:"",snsUserId:snsUserId,unionId:unionId,token:f};if(1===S);else if(2===S){if(e=K(),!e)return!1;o.recommendCode=b.val()||""}else if(3===S){var s=V();if(e=K(),!s||!e)return!1;o.password=i(g.val()),o.recommendCode=b.val()||""}c.post(u.get("snsSubmitPhone"),{data:o}).then(function(e){if(!e.success)return B.removeClass(I),E.text(e.message),!1;if(B.addClass(I),e.data.isNeedReset)location.href=L+"regist/indexnickname";else{var t=new Date;t.setTime(t.getTime()+1e4),$.cookie("temp_nick_name","true",{expires:t,path:"/",domain:".gomeplus.com"}),location.href=Z}}).fail(function(){B.removeClass(I),E.text(l.errLine.tip)})};e.exports=n}).call(t,a(1),a(4))}});