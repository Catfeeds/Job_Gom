webpackJsonp([26],{0:function(i,t,e){(function($,i){var t=e(2),n=e(28),a=e(205),o=(e(26),e(206)),r=e(207),c=e(36);e(156)(),e(208)();var s=e(54);s.setPageData("searchTopic");var l=new o({columnWidth:242},"[data-node=tiles]"),u=decodeURI($("[data-node=tiles]").data("keyword")),d=$("[data-action=loadMore]"),p=$("[data-node=loading]"),h=!1,f=1,m=!1,g=function(){d.hide(),p.show()},v=function(i){var t=i||"没有更多数据";d.find("span").html(t),d.off().show(),p.hide()},x=function(e){if(!h)return m?void v():(h=!0,g(),t.get(n.get("searchTopics"),{data:{word:u,page_num:f,pagesize:20}}).done(function(t,e,n){if(200===t.code){f++;var o=t.data.topics||[];0==o.length?(m=!0,v("无相关话题")):(p.hide(),o.group_domain=i.group_domain,l.appended($(a({topics:o}))),r.init({a:$("[data-node=list_title]"),b:$("[data-node=list_description]")},u),o.length<20?(d.off().hide(),p.hide()):d.show())}else m=!0,v()}).fail(function(i,t,e){c("数据请求失败 请稍后尝试")}).always(function(){h=!1}),!1)},y=function(){x(),d.on("click",x)};y()}).call(t,e(1),e(4))},46:function(i,t){var e=function(i){return null==i?0:("string"!=typeof i&&(i+=""),i.replace(/[^\x00-\xff]/g,"01").length)};i.exports=e},49:function(i,t,e){function n(i){return i>=55296&&i<=56319}function a(i){return i>=56320&&i<=57343}function o(i,t){if("string"!=typeof i)throw new Error("Input must be string");for(var e,o,c=i.length,s=0,l=0;l<c;l+=1){if(e=i.charCodeAt(l),o=i[l],n(e)&&a(i.charCodeAt(l+1))&&(l+=1,o+=i[l]),s+=r(o),s===t)return i.slice(0,l+1);if(s>t)return i.slice(0,l-o.length+1)}return i}var r=e(46);i.exports=o},156:function(i,t,e){(function(t){var n=e(26),a=function(i,e){return""===i?t.imgpath+"/images/public/"+e:i};i.exports=function(){n.helper("showPic",a)}}).call(t,e(4))},178:function(i,t,e){(function($){var t,n,a=e(179),o=e(180),r=e(181),c=0,s={},l=function(i){for(var t=i.length,e=24,n=Math.ceil(t/e),a=[],o=0;o<n;o++){a[o]=[];var r=e*(o+1);r=r>t?t:r;for(var c=o*e;c<r;c++){var l=i[c];a[o].push(l),s[l.name]=l.url}}return{page:new Array(n),list:a}},u=function(i,t){p(0),$("[data-node=faceBox]").css({left:i+"px",top:t+"px"}).show()},d=function(){$("[data-node=faceBox]").hide()},p=function(i){i=i||c,$("[data-action=facePage] > li").eq(i).addClass("active").siblings("li").removeClass("active"),$("[data-node=faceList] > div").eq(i).removeClass("hide").siblings("div").addClass("hide")},h=function(i,e){$("body").on("click","[data-face]",function(a){a.preventDefault(),a.stopPropagation(),t=$(this).data("face"),n=$(this).attr("src"),i({reg:t,url:n}),e!==!1&&$("[data-node=faceBox]").hide()})},f=function(i){var t=l(a),e=r(t);$("body").append(e),i()},m=function(){$("body").on("click","[data-node=faceBox]",function(i){i.stopPropagation()}),$(document).on("click",function(){$("[data-node=faceBox]").hide()}),$("[data-node=faceBox]").on("mouseenter","[data-action=facePage] > li",function(){var i=$(this).index();p(i)})},g=function(i){var t=!0;for(var e in i){t=!1;break}return t},v=function(i){var t=/(\[([\s\S]+?)\])/g;return g(s)&&l(a),i.replace(t,function(i,t,e){var n=s[e];if(n)return'<img width="22" height="22" src="'+n+'" />';var a=o[e];return a?'<img width="22" height="22" src="'+a.url+'" />':i})},x=function(){f(m)};i.exports={init:x,insert:h,show:u,hide:d,parseEmoji:v}}).call(t,e(1))},179:function(i,t,e){(function(t){var e=t.imgpath+"/images/emoji/",n=".png",a=[{name:"微笑",url:"weixiao"},{name:"色",url:"se"},{name:"亲亲",url:"qinqin"},{name:"得意",url:"deyi"},{name:"流泪",url:"liulei"},{name:"害羞",url:"haixiu"},{name:"闭嘴",url:"bizui"},{name:"鼓掌",url:"guzhang"},{name:"大哭",url:"daku"},{name:"尴尬",url:"ganga"},{name:"生气",url:"shengqi"},{name:"调皮",url:"tiaopi"},{name:"呲牙",url:"ciya"},{name:"惊讶",url:"jingya"},{name:"委屈",url:"weiqu"},{name:"吐血",url:"tuxue"},{name:"冷汗",url:"lenghan"},{name:"抓狂",url:"zhuakuang"},{name:"难过",url:"nanguo"},{name:"偷笑",url:"touxiao"},{name:"白眼",url:"baiyan"},{name:"不屑",url:"buxie"},{name:"快哭了",url:"kuaikule"}],o=[{name:"困",url:"kun"},{name:"装酷",url:"zhuangku"},{name:"大笑",url:"daxiao"},{name:"偷瞄",url:"toumiao"},{name:"奋斗",url:"fendou"},{name:"咒骂",url:"zhouma"},{name:"疑问",url:"yiwen"},{name:"晕",url:"yun"},{name:"捶打",url:"chuida"},{name:"再见",url:"zaijian"},{name:"抠鼻",url:"koubi"},{name:"发呆",url:"fadai"},{name:"坏笑",url:"huaixiao"},{name:"哈欠",url:"haqian"},{name:"鄙视",url:"bishi"},{name:"睡觉",url:"shuijiao"},{name:"饿",url:"e"},{name:"阴险",url:"yinxian"},{name:"难受",url:"nanshou"},{name:"可怜",url:"kelian"},{name:"撇嘴",url:"piezui"},{name:"石化",url:"shihua"},{name:"泪眼",url:"leiyan"}],r=function(i){for(var t=0,a=i.length;t<a;t++){var o=i[t];o.url=e+o.url+n}return i};i.exports=r(a.concat(o))}).call(t,e(4))},180:function(i,t,e){(function(t){var e=t.imgpath+"/images/emoji/",n=".png",a={"亲":{name:"亲亲",url:e+"qinqin"+n},"愤怒":{name:"生气",url:e+"shengqi"+n},"惊恐":{name:"惊讶",url:e+"jingya"+n},"迷茫":{name:"委屈",url:e+"weiqu"+n},"伤心":{name:"难过",url:e+"nanguo"+n},"努力":{name:"奋斗",url:e+"fendou"+n},YY:{name:" 坏笑",url:e+"huaixiao"+n},"恶心":{name:"难受",url:e+"nanshou"+n}};i.exports=a}).call(t,e(4))},181:function(i,t,e){var n=e(26);i.exports=n("src/js/module/popup/face/face",function(i,t){"use strict";var e=this,n=(e.$helpers,e.$each),a=i.list,o=(i.v,i.i,i.face,i.$index,e.$escape),r=i.page,c="";return c+='<div data-node="faceBox" class="imoj-box" style="position: absolute;z-index: 111;display:none"> <em class="sanjiao"></em> <div data-node="faceList" class="imoj-list"> ',n(a,function(i,t){c+=' <div class="imoj-content clearfix ',t&&(c+="hide"),c+='"> ',n(i,function(i,t){c+=' <a href="javascript:;"> <img width="22" height="22" data-face="[',c+=o(i.name),c+=']" src="',c+=o(i.url),c+='" alt="',c+=o(i.name),c+='" title="',c+=o(i.name),c+='"> </a> '}),c+=" </div> "}),c+=' </div> <ul data-action="facePage" class="pagination"> ',n(r,function(i,t){c+=" <li ",0==t&&(c+='class="active"'),c+="></li> "}),c+=" </ul> </div>",new String(c)})},205:function(i,t,e){var n=e(26);i.exports=n("src/js/page/searchTopics/topics",function(i,t){"use strict";var e=this,n=e.$helpers,a=e.$each,o=i.topics,r=(i.topic,i.index,i.topicFirstPic),c=e.$escape,s=e.$string,l="";return a(o,function(i,t){l+=" ",i.topic&&(l+=" ",l+=""===r?' <div class="circle-box no-pic"> ':' <div class="circle-box"> ',l+=' <div class="mg-negative"> ',l+=""===i.topic.topicFirstPic?' <span class="topic-tag topic-tag-static"> ':' <span class="topic-tag"> ',l+=' <em class="icon-lysy"> <img src="',l+=c(n.showPic(i.user.userPic,"head-default.png")),l+='" title="',l+=c(i.user.userName),l+='"> </em> ',l+=c(i.user.userName),l+=" </span> ",""!==i.topic.topicFirstPic&&(l+=' <div class="list-img"> <a href="',l+=c(o.group_domain),l+="topic/",l+=c(i.topic.id),l+='.html" target="_blank">  <img src="',l+=c(i.topic.topicFirstPic),l+='" title=""> ',"video"==i.topic.picType&&(l+=' <em class="icon-play"></em> '),l+=" </a> </div> "),l+=' <div class="list-title"> <p class="list-title-content"> <a data-node="list_title" href="',l+=c(o.group_domain),l+="topic/",l+=c(i.topic.id),l+='.html" target="_blank">',l+=s(n.truncateByteLen(i.topic.name,"52")),l+='</a> <span class="list-title-time">',l+=c(i.topic.time_str),l+='</span> </p> </div> <p data-node="list_description" class="list-description">',l+=s(n.truncateByteLen(i.topic.topicContent,"74")),l+='</p> <div class="text-icon"> <a href="javascript:;" data-action="like" data-id="',l+=c(i.id),l+='" data-type="1" data-praise="',l+=c(i.like.isLike===!1?1:0),l+='" data-count=',l+=c(i.like.userQuantity),l+='> <em class="icon icon-collection">&#xeac9;</em> ',l+=c(i.like.userQuantity),l+=' </a> <a href="javascript:;" class="a-share"> <em class="icon icon-share">&#xe9ed;</em> <span>',l+=c(i.topic.topicReplyNum),l+='</span> </a> <!-- <a data-action="shareto" data-surl="',l+=c(o.groupDomain),l+="topic/detail?tid=",l+=c(i.id),l+='" data-stitle="这儿有我们志趣相投的小伙伴，快加入我们吧" data-spic="" href="javascript:;" class="a-share"> <em class="icon icon-share"></em>分享到 </a> --> </div> </div> </div> '),l+=" "}),new String(l)})},206:function(i,t,e){(function($){function t(i,t){this.element=$(t),this.$tiles=this.element.children(),this._create(i),this._init()}var e={};t.prototype={constructor:t,_getTiles:function(){return this.element.children()},_create:function(i){this.options=$.extend(!0,{},e,i||{});for(var t=this.element,n=this.columnWidth=this._getColumnWidth(),a=this._getColumns(),o=0;o<a;o+=1)$('<div style="float:left;width:'+n+'px;" data-node="tiles-col"></div>').appendTo(t);this.cols=t.find("> [data-node=tiles-col]")},_getColumns:function(){var i=this.element.width(),t=Math.floor(i/this.columnWidth);return t=Math.max(t,1),this.colNum=t},_init:function(){this.layout(this.$tiles)},_getColumnWidth:function(){return this.options.columnWidth||this.$tiles.outerWidth(!0)||this.element.width()},appended:function(i,t){this.$tiles=this.$tiles.add(i),this.layout(i,t)},destroy:function(){},layout:function(i,t){for(var e=0,n=i.length;e<n;e++)this._placeTile(i[e])},_placeTile:function(i){this.cols.eq(this.getShortestColumn()).append(i)},getShortestColumn:function(){for(var i,t,e=0,n=this.cols,a=n.length,o=0;o<a;o++)t=n[o].offsetHeight,0==o&&(i=t),t<i&&(i=t,e=o);return e}},i.exports=t}).call(t,e(1))},207:function(i,t,e){(function($){var t=function(i,t){for(var e=i,n=t.split("+"),a=function(i,t){var e=new RegExp(t,"g");for(var n in i)$(i[n]).each(function(i,n){var a=$(this),o=a.html();o.indexOf(t)>-1&&o.indexOf("img")==-1&&o.indexOf("src")==-1&&(o=o.replace(e,'<aside style="color:red;display:inline">'+t+"</aside>"),a.html(o))})},o=0;o<n.length;o++)n[o].length>0&&a(e,n[o])};i.exports={init:t}}).call(t,e(1))},208:function(i,t,e){var n=e(26),a=e(49),o=e(46),r=e(209),c=e(178),s=function(i,t){var e,n=o(i);return e=n>t?a(i,t)+"...":i,c.parseEmoji(r(e))};i.exports=function(){n.helper("truncateByteLen",s)}},209:function(i,t){var e=function(i,t){return i?i.replace(t||/[&<">'](?:(amp|lt|ldquo|rdquo|quot|gt|#39|nbsp|#\d+);)?/g,function(i,t){return t?i:{"<":"&lt;","&":"&amp;",'"':"&quot;","“":"&ldquo;","”":"&rdquo;",">":"&gt;","'":"&#39;"}[i]}):""};i.exports=e}});