webpackJsonp([40],{0:function(e,n,t){t(264).initTel(),t(265).initCode(),t(266).initSub()},48:function(e,n){var t={checkVal:function(e,n){return n.test(e)},isMobileNum:function(e){return/^1[34578][0-9]{9}$/.test(e)},isEmail:function(e){return/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/.test(e)},isCertificate:function(e){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(e)},isCID:function(e){return/^(\d{16}|\d{19})$/.test(e)},isCWord:function(e,n,t){var n=!isNaN(n)&&n>0?n:1,t=!isNaN(t)&&t>0?t:"",a=new RegExp("^[\\u4e00-\\u9fa5]{"+n+","+t+"}$");a.test(e);return a.test(e)},isArray:function(e){return Array.isArray(e)||e instanceof Array},passwordReg:function(e){var n=/^((?=.*?\d)(?=.*?[A-Za-z])|(?=.*?\d)(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，\"\,\:\;；,\.‘’“”：'"\·`【】])|(?=.*?[A-Za-z])(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]))[\dA-Za-z<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]{6,21}$/;return n.test(e)},checkSpace:function(e){var n=/\s+/;return n.test(e)},checkRefCode:function(e){var n=/^[0-9a-zA-Z]{8}$/;return n.test(e)},checkNickName:function(e){var n=/^([\u4e00-\u9fa5]|[0-9a-zA-Z_-])+$/;return n.test(e)},isMsgCode:function(e){var n=/^\d{6}$/;return n.test(e)}};e.exports=t},62:function(e,n){var t=function(){},a=function(e,n){this.onChange=n.onChange||t,this.onFinish=n.onFinish||t,this.count=e||60,this.start()};a.prototype.start=function(){var e=this;setTimeout(function(){e.onChange(e.count),e.count--,e.count<=0?e.onFinish():e.start()},1e3)},e.exports=a},63:function(e,n){function t(e,n){return e.length>n?e.substr(0,n):e}e.exports=t},264:function(e,n,t){(function($){var n=(t(2),t(28),t(35).tel),a=(t(62),t(48)),o=t(63);t(41);var i=$("[data-node=formBox]"),d=i.find("[data-node=telInput]"),r=i.find("[data-node=publicErr]"),s=i.find("[data-node=rightFlag]"),c=i.find("[data-node=telErrTip]"),u=i.find("[data-node=telLi]"),f="hide",l="lg-form-error",v="code-tip",C=function(){u.removeClass(l).addClass(v),r.addClass(f),s.addClass(f),c.addClass(f)},h=function(){var e=d.val(),n=e.length;n>11&&d.val(o(e,11))},p=function(){var e=d.val(),t=e.length,o=!0;return a.isMobileNum(e)?(o=!0,s.removeClass(f)):(o=!1,u.removeClass(v).addClass(l),c.removeClass(f),t?c.text(n.err):c.text(n.ept)),o},m=function(){d.placeholder(),d.on({focus:C,keyup:h,blur:p})};e.exports={initTel:m,checkTel:p}}).call(n,t(1))},265:function(e,n,t){(function($){var n=t(2),a=t(28),o=t(35),i=o.msgCode,d=t(62),r=t(48),s=t(63);t(41);var c=t(264).checkTel,u=$("[data-node=formBox]"),f=u.find("[data-node=publicErr]"),l=u.find("[data-node=errText]"),v=u.find("[data-node=telInput]"),C=u.find("[data-action=sendMsg]"),h=u.find("[data-node=msgCode]"),p=u.find("[data-node=codeLi]"),m=u.find("[data-node=codeTip]"),g=u.find("[data-node=codeIcon]"),x=u.find("[data-node=codeText]"),b=1,k="hide",w="lg-form-error",T="code-tip",A="code-disabled",N=function(){f.addClass(k)},y=function(e){f.removeClass(k),l.text(e)},E=function(){if(!b)return!1;var e=c();if(!e)return!1;var t=v.val(),r={mobile:t};return b=0,n.get(a.get("sendNewCode"),{data:r}).done(function(e){e.success?(m.removeClass(k),g.removeClass(k),x.text(i.send),p.removeClass(w).addClass(T),N(),new d(60,{onChange:function(e){C.text(e+o.msgCode.btnAfterSend).addClass(A)},onFinish:function(){b=1,C.text(o.msgCode.btnDefault).removeClass(A)}})):(b=1,y(e.message))}).fail(function(e,n,t){b=1,y(o.errLine.tip)}),!1},S=function(){N(),p.hasClass(w)&&(p.removeClass(w).addClass(T),m.addClass(k))},z=function(){var e=h.val(),n=e.length;n>6&&h.val(s(e,6))},F=function(){var e=!0,n=h.val(),t=n.length;return r.isMsgCode(n)?e=!0:(e=!1,p.removeClass(T).addClass(w),m.removeClass(k),g.addClass(k),t?x.text(i.tipErr):x.text(i.tipEpt)),e},I=function(){h.placeholder(),C.on("click",E),h.on({focus:S,keyup:z,blur:F})};e.exports={initCode:I,checkCode:F}}).call(n,t(1))},266:function(e,n,t){(function($,n){var a=t(2),o=t(28),i=(t(48),t(63),t(35).errLine.tip),d=t(264).checkTel,r=t(265).checkCode,s=$("[data-node=formBox]"),c=s.find("[data-node=telInput]"),u=s.find("[data-node=msgCode]"),f=s.find("[data-action=nextStep]"),l=s.find("[data-node=publicErr]"),v=s.find("[data-node=errText]"),C=$("input"),h="active",p="hide",m=function(e){l.removeClass(p),v.text(e)},g=function(){var e=c.val(),n=u.val();e.length&&n.length?f.addClass(h):f.removeClass(h)},x=function(){var e=d(),t=r();if(e&&t){var s=c.val(),f=u.val(),l={verifyCode:f,mobile:s};a.post(o.get("checkNewCode"),{data:l}).done(function(e){e.success?location.href=n.i_domain+"bind/thirdStep":m(e.message)}).fail(function(e,n,t){m(i)})}},b=function(){C.on("keyup",g),f.on("click",x)};e.exports={initSub:b}}).call(n,t(1),t(4))}});