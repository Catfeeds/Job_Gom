webpackJsonp([39],{0:function(n,t,e){(function($,n){var t=e(2),o=e(28),a=e(35),s=e(62),i=e(48),r=e(63);e(41);var d=a.msgCode,c=$("[data-node=formBox]"),u=c.find("[data-node=publicErr]"),f=c.find("[data-node=errText]"),l=c.find("[data-node=codeLi]"),C=c.find("[data-action=sendMsg]"),v=c.find("[data-node=msgCode]"),h=c.find("[data-node=codeTip]"),p=c.find("[data-node=codeIcon]"),g=c.find("[data-node=codeText]"),m=c.find("[data-action=nextStep]"),x=1,k="hide",w="lg-form-error",A="code-tip",b="code-disabled",y="active",N=function(){u.addClass(k)},z=function(n){u.removeClass(k),f.text(n)},E=function(){return!!x&&(x=0,t.get(o.get("sendOldCode")).done(function(n){n.success?(h.removeClass(k),p.removeClass(k),g.text(d.send),l.removeClass(w).addClass(A),N(),new s(60,{onChange:function(n){C.text(n+a.msgCode.btnAfterSend).addClass(b)},onFinish:function(){x=1,C.text(a.msgCode.btnDefault).removeClass(b)}})):(z(n.message),x=1)}).fail(function(n,t,e){x=1,z(a.errLine.tip)}),!1)},Z=function(){l.hasClass(w)&&(h.addClass(k),l.removeClass(w).addClass(A)),N()},F=function(){var n=v.val(),t=n.length;t>6&&v.val(r(n,6)),n?m.addClass(y):m.removeClass(y)},M=function(){var n=!0,t=v.val(),e=t.length;return i.isMsgCode(t)?n=!0:(n=!1,l.removeClass(A).addClass(w),h.removeClass(k),p.addClass(k),e?g.text(d.tipErr):g.text(d.tipEpt)),n},S=function(){var e=v.val(),s=M();if(s){var i={verifyCode:e};t.post(o.get("checkOldCode"),{data:i}).done(function(t){t.success?location.href=n.i_domain+"bind/secondStep":z(t.message)}).fail(function(n,t,e){z(a.errLine.tip)})}},T=function(){v.placeholder(),C.on("click",E),v.on({focus:Z,keyup:F,blur:M}),m.on("click",S)};T()}).call(t,e(1),e(4))},48:function(n,t){var e={checkVal:function(n,t){return t.test(n)},isMobileNum:function(n){return/^1[34578][0-9]{9}$/.test(n)},isEmail:function(n){return/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/.test(n)},isCertificate:function(n){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(n)},isCID:function(n){return/^(\d{16}|\d{19})$/.test(n)},isCWord:function(n,t,e){var t=!isNaN(t)&&t>0?t:1,e=!isNaN(e)&&e>0?e:"",o=new RegExp("^[\\u4e00-\\u9fa5]{"+t+","+e+"}$");o.test(n);return o.test(n)},isArray:function(n){return Array.isArray(n)||n instanceof Array},passwordReg:function(n){var t=/^((?=.*?\d)(?=.*?[A-Za-z])|(?=.*?\d)(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，\"\,\:\;；,\.‘’“”：'"\·`【】])|(?=.*?[A-Za-z])(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]))[\dA-Za-z<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]{6,21}$/;return t.test(n)},checkSpace:function(n){var t=/\s+/;return t.test(n)},checkRefCode:function(n){var t=/^[0-9a-zA-Z]{8}$/;return t.test(n)},checkNickName:function(n){var t=/^([\u4e00-\u9fa5]|[0-9a-zA-Z_-])+$/;return t.test(n)},isMsgCode:function(n){var t=/^\d{6}$/;return t.test(n)}};n.exports=e},62:function(n,t){var e=function(){},o=function(n,t){this.onChange=t.onChange||e,this.onFinish=t.onFinish||e,this.count=n||60,this.start()};o.prototype.start=function(){var n=this;setTimeout(function(){n.onChange(n.count),n.count--,n.count<=0?n.onFinish():n.start()},1e3)},n.exports=o},63:function(n,t){function e(n,t){return n.length>t?n.substr(0,t):n}n.exports=e}});