webpackJsonp([2],{0:function(e,t,n){(function($){var e=n(61);n(41),$("input").placeholder(),e();var t=n(54);t.setPageData("bindTelNum")}).call(t,n(1))},47:function(e,t){var n=function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")};e.exports=n},48:function(e,t){var n={checkVal:function(e,t){return t.test(e)},isMobileNum:function(e){return/^1[34578][0-9]{9}$/.test(e)},isEmail:function(e){return/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/.test(e)},isCertificate:function(e){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(e)},isCID:function(e){return/^(\d{16}|\d{19})$/.test(e)},isCWord:function(e,t,n){var t=!isNaN(t)&&t>0?t:1,n=!isNaN(n)&&n>0?n:"",r=new RegExp("^[\\u4e00-\\u9fa5]{"+t+","+n+"}$");r.test(e);return r.test(e)},isArray:function(e){return Array.isArray(e)||e instanceof Array},passwordReg:function(e){var t=/^((?=.*?\d)(?=.*?[A-Za-z])|(?=.*?\d)(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，\"\,\:\;；,\.‘’“”：'"\·`【】])|(?=.*?[A-Za-z])(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]))[\dA-Za-z<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]{6,21}$/;return t.test(e)},checkSpace:function(e){var t=/\s+/;return t.test(e)},checkRefCode:function(e){var t=/^[0-9a-zA-Z]{8}$/;return t.test(e)},checkNickName:function(e){var t=/^([\u4e00-\u9fa5]|[0-9a-zA-Z_-])+$/;return t.test(e)},isMsgCode:function(e){var t=/^\d{6}$/;return t.test(e)}};e.exports=n},61:function(e,t,n){(function($,t){function r(){v.placeholder(),m.placeholder();var e=1,t="";v.on({blur:function(){var e=v.val();M(e)},focus:function(){C.removeClass("lg-form-error"),g.text(""),b.addClass("none"),k.text("")},keyup:function(){var e=(v.val()+"").length;e>11&&v.val(c(v.val()+"",11))}}),m.on({focus:function(){h.removeClass("lg-form-error"),p.text(""),b.addClass("none"),k.text("")},blur:function(){var e=m.val();z(e)},keyup:F}),l.on("click",function(){if(0===e)return!1;var n=v.val(),r=M(n);if(!r)return!1;e=0,m.removeAttr("disabled");var o={mobile:n};i.post(s.get("sendCode"),{data:o}).then(function(n){n.success?(C.removeClass("lg-form-error"),g.text(""),p.text(d.msgCode.tipSend).css("color","#f95353"),t=n.data.token,new a(60,{onChange:function(e){l.text(e+d.msgCode.btnAfterSend).addClass("code-disabled")},onFinish:function(){e=1,l.text(d.msgCode.btnDefault).removeClass("code-disabled")}})):(b.removeClass("none"),k.text(n.message),e=1)}).fail(function(){e=1,b.removeClass("none"),k.text(d.errLine.tip)})}),x.on("click",function(){var e=u(v.val()+""),n=u(m.val()+""),r=M(e),o=z(n);if(!r)return!1;if(!o)return!1;var a={mobile:e,verifyCode:n,token:t};i.post(s.get("bindPhone"),{data:a}).done(function(e){e.success?(b.addClass("none"),h.removeClass("lg-form-error"),p.text(""),y?location.href=E:A?location.href=N:location.href=w+"regist/indexnickname"):(b.removeClass("none"),k.text(e.message))}).fail(function(){b.removeClass("none"),k.text(d.errLine.tip)})})}var o=n(48),a=n(62),i=n(2),s=n(28),d=n(35),u=n(47),c=n(63);n(41);var f=$('[data-node="bindPhoneForm"]'),l=f.find('[data-action="sendMsgCode"]'),v=f.find('[data-node="telNum"]'),m=f.find('[data-node="msgCode"]'),C=f.find('[data-node="errorBorderTel"]'),g=f.find('[data-node="errorTel"]'),p=f.find('[data-node="errorMsgCode"]'),h=f.find('[data-node="errorBorderCode"]'),x=f.find('[data-action="sureBind"]'),b=f.find("[data-node=publicErrBox]"),k=f.find("[data-node=publicErr]"),A=t.isMobileActivated,w=t.passport_domain,N=t.redirect,y=t.unified,E=t.unified_url,M=function(e){var t=!0;return e?o.isMobileNum(e)?(C.removeClass("lg-form-error"),g.text(""),t=!0):(C.addClass("lg-form-error"),g.text(d.tel.err),t=!1):(C.addClass("lg-form-error"),g.text(d.tel.ept),t=!1),t},z=function(e){var t=!0;return e?/^\d{6}$/.test(e)?t=!0:(h.addClass("lg-form-error"),p.text(d.msgCode.tipErr),t=!1):(h.addClass("lg-form-error"),p.text(d.msgCode.tipEpt),t=!1),t},F=function(){var e=(m.val()+"").length;e>6&&m.val(c(m.val()+"",6))};e.exports=r}).call(t,n(1),n(4))},62:function(e,t){var n=function(){},r=function(e,t){this.onChange=t.onChange||n,this.onFinish=t.onFinish||n,this.count=e||60,this.start()};r.prototype.start=function(){var e=this;setTimeout(function(){e.onChange(e.count),e.count--,e.count<=0?e.onFinish():e.start()},1e3)},e.exports=r},63:function(e,t){function n(e,t){return e.length>t?e.substr(0,t):e}e.exports=n}});