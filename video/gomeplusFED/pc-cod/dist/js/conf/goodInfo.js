webpackJsonp([11],{0:function(e,t,i){(function($,e){i(130);var t=i(131),n=i(121),a=(i(132),i(2),i(28),i(43),i(134)),o=i(136),s=i(137),r=i(138),l=i(139),d=i(140),c=i(141),u=(i(143),i(144)),p=i(145),f=i(122),h=$GLOBAL_CONFIG.sku_list,g=i(150),m=i(152),v=i(154),x=i(54);x.setPageData("commodityDetail");var y=$('div[data-node="topGoodInfo"]'),b=(y.find('[data-node="topleft"]'),y.find('[data-active="coupon"]')),w=y.find('[data-node="sale"]'),S=(y.find('[data-node="redlist"]'),$('[data-action="shopCollect"]'),y.find('[data-action="addShopCar"]'),y.find('[data-node="leftSmallBox"]')),C=(y.find('[data-action="sliderTop"]'),y.find('[data-action="sliderDown"]'),y.find('[data-action="buybtn"]'),y.find('[data-action="collectProduct"]'),$('[data-node="goodToDo"]')),k=y.find('[data-action="shareto"]'),T=y.find('[data-node="proAddnum"]'),P=(y.find('[data-node="collectProError"]'),y.find('[data-node="collectProSuccess"]')),I=P.find('[data-action="collectProClose"]');g.init(),m.init(),v.init();var L=($GLOBAL_CONFIG.shopId,$GLOBAL_CONFIG.productId),A=(e.islogin,$("[data-action=showQRCode]")),M=A.children("em"),F=A.children("p"),V=f($GLOBAL_CONFIG.qr_url),q=0,O="no";C.hasClass("disabled")||(l(L),d(h),a({selector:'[data-action="addShopCar"]'},{proNum:~~$.trim(y.find('[data-node="count"]').val())}),o(y)),t.init(),c();var N={url:window.location.href,title:document.title,onlineUserId:$GLOBAL_CONFIG.onlineUserId},E=function(e){BP.send({event_id:"G000P017",shop_id:$GLOBAL_CONFIG.shopId,product_id:$GLOBAL_CONFIG.productId,channel_id:e||""})};k.on("click",'[data-shareto="weixin"]',function(){E("out-weixin");for(var e=[],t=S.children(),i=0,a=t.length;i<a;i++)e.push(t.eq(i).find("img").attr("src"));N.pic=e.join("||"),N.url=$GLOBAL_CONFIG.weixin_share,n.shareWithKid({skuId:$GLOBAL_CONFIG.skuId,itemId:L,parentKid:$GLOBAL_CONFIG.kid,shareInfo:N,isRebate:$GLOBAL_CONFIG.isRebate,shareto:"weixin"})}).on("click",'[data-shareto="qq"]',function(){E("out-QQ");for(var t=[],i=S.children(),a=0,o=i.length;a<o;a++)t.push(i.eq(a).find("img").attr("src"));N.url=window.location.href,N.pic=t.length>0?t.join("||"):e.imgpath+"/images/public/logo.png",N.title=y.find("h3").text(),N.summary="这是我在国美+找到的好东西，就知道你会喜欢。",n.shareWithKid({skuId:$GLOBAL_CONFIG.skuId,parentKid:$GLOBAL_CONFIG.kid,itemId:L,isRebate:$GLOBAL_CONFIG.isRebate,shareInfo:N,shareto:"qq"})}).on("click",'[data-shareto="sina"]',function(){E("out-xlwb");for(var t=[],i=S.children(),a=0,o=i.length;a<o;a++)t.push(i.eq(a).find("img").attr("src"));N.url=window.location.href,N.pic=t.length>0?t.join("||"):e.imgpath+"/images/public/logo.png",N.title=y.find("h3").text()+"我心仪的这款商品，到底是在国美+找到了。",n.shareWithKid({skuId:$GLOBAL_CONFIG.skuId,itemId:L,parentKid:$GLOBAL_CONFIG.kid,isRebate:$GLOBAL_CONFIG.isRebate,shareInfo:N,shareto:"sina"})}).on("click",'[data-shareto="qzone"]',function(){E("out-Qqzone");for(var t=[],i=S.children(),a=0,o=i.length;a<o;a++)t.push(i.eq(a).find("img").attr("src"));N.title=y.find("h3").text(),N.url=window.location.href,N.summary="我心仪的这款商品，到底是在国美+找到了。",N.pic=t.length>0?t.join("||"):e.imgpath+"/images/public/logo.png",n.shareWithKid({skuId:$GLOBAL_CONFIG.skuId,itemId:L,parentKid:$GLOBAL_CONFIG.kid,isRebate:$GLOBAL_CONFIG.isRebate,shareInfo:N,shareto:"qzone"})}),w.on("click",function(e){e.stopPropagation();var t=$(this).find("ul");"none"!==t.css("display")?t.hide():t.show()}),$(document).on("click",function(e){e.stopPropagation(),w.find("ul").hide(),b.next().hide()}),b.length>0&&p.init(),s({selector:'[data-action="shopCollect"]'},function(e){e?$(this).text("取消收藏店铺"):$(this).text("收藏店铺")}),r('[data-node="topGoodInfo"]','[data-action="collectProduct"]',{onCollect:function(){T.show().animate({top:"-20px"},500,function(){T.css("top",0).hide()}),P.show()},onUnCollect:function(){P.hide()},onFailed:function(){I.show(),setTimeout(function(){I.hide()},2e3)}}),I.on("click",function(){$(this).parents('[data-node="collectProSuccess"]').hide()}),A.on("click",function(){"no"===O&&(F.children("img").attr("src",V),O="yes"),0===q?(q=1,M.html("&#xea55;"),F.css("display","block")):(q=0,M.html("&#xea57;"),F.css("display","none"))}),u.init()}).call(t,i(1),i(4))},71:function(e,t,i){(function($){"use strict";var t,i,n=function(e,t){return this.$el=e,this.options=$.extend({},n.rules.defaults,n.rules[t.rule]||{},t),this.min=Number(this.options.min)||0,this.max=Number(this.options.max)||0,this.$el.on({"focus.spinner":$.proxy(function(e){e.preventDefault(),this.oldValue=this.value()},this),"change.spinner":$.proxy(function(e){e.preventDefault(),this.value(this.$el.val())},this),"keydown.spinner":$.proxy(function(e){var t={38:"up",40:"down"}[e.which];t&&(e.preventDefault(),this.spin(t))},this)}),this.oldValue=this.value(),this.value(this.$el.val()),this};n.rules={defaults:{min:null,max:null,step:1,precision:0},currency:{min:0,max:null,step:.01,precision:2},quantity:{min:1,max:999,step:1,precision:0},percent:{min:1,max:100,step:1,precision:0},month:{min:1,max:12,step:1,precision:0},day:{min:1,max:31,step:1,precision:0},hour:{min:0,max:23,step:1,precision:0},minute:{min:1,max:59,step:1,precision:0},second:{min:1,max:59,step:1,precision:0}},n.prototype={spin:function(e){if(!this.$el.prop("disabled")&&!this.$el.siblings("[data-spin="+e+"]").hasClass("disabled")){this.oldValue=this.value();var t=$.isFunction(this.options.step)?this.options.step.call(this,e):this.options.step,i="up"===e?1:-1,n=this.options.beforeChange||function(){};n.call(this,this.oldValue,e)!==!1&&this.value(this.oldValue+Number(t)*i)}},value:function(e){if(null===e||void 0===e)return this.numeric(this.$el.val());e=this.numeric(e);var n=this.validate(e);0!==n&&(n===-1?(e=this.min,this.$el.trigger("rangemin.spinner")):(e=this.max,this.$el.trigger("rangemax.spinner"))),this.$el.val(e.toFixed(this.options.precision)),this.oldValue!==this.value()&&(this.$el.trigger("changing.spinner",[this.value(),this.oldValue]),clearTimeout(t),t=setTimeout($.proxy(function(){this.$el.trigger("changed.spinner",[this.value(),this.oldValue])},this),i.delay))},numeric:function(e){return e=this.options.precision>0?parseFloat(e,10):parseInt(e,10),isFinite(e)?e:e||this.options.min||0},validate:function(e){return null!==this.options.min&&e<this.min?-1:null!==this.options.max&&e>this.max?1:0},setMin:function(e){var t=this.min=this.numeric(e);this.options.min=t},setMax:function(e){var t=this.max=this.numeric(e);this.options.max=t}},i=function(e,t){this.$el=$(e),this.$spinning=this.$el.find('[data-spin="spinner"]'),0===this.$spinning.length&&(this.$spinning=this.$el.find(':input[type="text"]')),t=$.extend({},t,this.$spinning.data()),this.spinning=new n(this.$spinning,t),this.$el.on("click.spinner",'[data-spin="up"], [data-spin="down"]',$.proxy(this,"spin")),t.delay&&this.delay(t.delay),t.changed&&this.changed(t.changed),t.changing&&this.changing(t.changing),t.rangemin&&this.rangemin(t.rangemin),t.rangemax&&this.rangemax(t.rangemax)},i.delay=500,i.prototype={constructor:i,spin:function(e){var t=$(e.currentTarget).data("spin");switch(e.type){case"click":e.preventDefault(),this.spinning.spin(t)}},delay:function(e){var t=Number(e);t>=0&&(this.constructor.delay=t+100)},value:function(){return this.spinning.value()},changed:function(e){this.bindHandler("changed.spinner",e)},changing:function(e){this.bindHandler("changing.spinner",e)},rangemax:function(e){this.bindHandler("rangemax.spinner",e)},rangemin:function(e){this.bindHandler("rangemin.spinner",e)},bindHandler:function(e,t){$.isFunction(t)?this.$spinning.on(e,t):this.$spinning.off(e)},beginSpin:function(e){this.spinInterval=setInterval($.proxy(this.spinning,"spin",e),100)}};var a=$.fn.spinner;$.fn.spinner=function(e,t){return this.each(function(){var n=$.data(this,"spinner");n||(n=new i(this,e),$.data(this,"spinner",n)),"delay"===e||"changed"===e||"changing"===e?n[e](t):"step"===e&&t?n.spinning.step=t:"spin"===e&&t&&n.spinning.spin(t)})},$.fn.spinner.Constructor=i,$.fn.spinner.noConflict=function(){return $.fn.spinner=a,this},e.exports=$.fn.spinner}).call(t,i(1))},84:function(e,t,i){(function($){var t,i,n,a=function(){t.off().on("click",function(){t.hide(),i.hide()}),i.off().on("click",function(){t.hide(),i.hide()})},o=function(e,o){var s={duration:2e3,callback:function(){}};$.extend(s,o||{}),clearTimeout(n),t=$('[data-action="publicMask"]'),i=$('[data-action="publicTips"]'),t.length>0?(t.show(),i.show().text(e)):($("body").append('<div data-action="publicMask" class="ordi-toast"></div><div class="ordi-toast-txt" data-action="publicTips">'+e+"</div>"),t=$('[data-action="publicMask"]'),i=$('[data-action="publicTips"]'),a()),i.css("margin",-i[0].offsetHeight/2+"px 0 0 "+-i.width()/2+"px"),n=setTimeout(function(){t.hide(),i.hide(),s.callback()},s.duration)};e.exports={init:o,events:a}}).call(t,i(1))},121:function(e,t,i){(function($){var t=i(2),n=i(28),a=i(122),o=i(42),s={qq:"http://connect.qq.com/widget/shareqq/index.html",sina:"http://v.t.sina.com.cn/share/share.php",qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey"},r={url:"http://www.gomeplus.com",title:"国美+APP边玩边分享，购物不孤单",pic:"http://www.gomeplus.com/images/logo.png",summary:"国美+APP边玩边分享，购物不孤单"},l=function(e){window.open(e)},d=!1,c=function(){var e='<p data-node="shareBtnBox" class="share-down" style="z-index:21;"><span class="share-box"><span class="icon icon-up-arrow"></span><span class="icon-box"><em data-shareto="weixin" class="icon icon-weixin">&#xe937;</em><em data-shareto="qq" class="icon icon-qq">&#xe900;</em><em data-shareto="sina" class="icon icon-sina">&#xe935;</em><em data-shareto="qzone" class="icon icon-kongjian">&#xe902;</em></span></span></p>';$("body").append(e),d=!0},u=function(e){!d&&c(),$("[data-node=shareBtnBox]").css({left:e.x,top:e.y}).show()},p=!1,f=function(){var e='<div class="share-weixin"><div class="wx-mask"></div><div class="wx-main"><div class="wx-code"><span></span><img data-node="shareWeixinCode" alt="分享到微信" /></div><p>打开微信扫一扫，即可分享</p><a href="javascript:;" title="点击关闭" class="wx-close">×</a></div></div>';$("body").append(e),p=!0},h=function(e,t){var i=[],n={title:e.title,url:e.url,summary:e.summary,desc:e.desc,site:e.site};t?n.pics=e.pic:n.pic=e.pic;for(var a in n)i.push(a+"="+encodeURIComponent(n[a]||""));return i.join("&")},g={weixin:function(e){var t=a(e.url);!p&&f(),$("[data-node=shareWeixinCode]")[0].src=t,$(".share-weixin").show(),$(".wx-close").on("click",function(){$(".share-weixin").hide()})},qq:function(e){var t=s.qq+"?"+h(e,!0);l(t)},sina:function(e){var t=s.sina+"?"+h(e);l(t)},qzone:function(e){var t=s.qzone+"?"+h(e,!0);l(t)}},m=function(e){var i="0"!==e.isRebate;t.get(n.get("shareGetGoodsKid"),{validate:i,data:{skuId:e.skuId,itemId:e.itemId,parentKid:e.parentKid},async:!1}).done(function(t){if(t.success===!0){var i=t.data.kid,n=e.shareInfo,a=n.url,o=a.indexOf("?");o>0&&(a=a.substring(0,o)),n.url=a+"?onlineUserId="+n.onlineUserId+"&kId="+i,g[e.shareto](n)}else g[e.shareto](e.shareInfo)}).fail(function(t){i?o()&&g[e.shareto](e.shareInfo):g[e.shareto](e.shareInfo)})},v=function(e){var t={title:e.title||r.title,url:e.url||r.url,pic:e.pic||r.pic,summary:e.summary||"",desc:e.desc||""};!!g[e.type]&&g[e.type](t)},x=function(e,t,i){var n=null;$item="string"==typeof e?$(e):e,t=t||"[data-action=shareto]",$item.on("mouseenter",t,function(e){var t=$(this).data("surl"),i=$(this).data("stitle"),a=$(this).data("spic");n={url:t,title:i,pic:a};var o=$(this).width(),s=$(this).height(),r=$(this).offset().left/1+o/2-80+"px",l=$(this).offset().top/1+(s-1)+"px";return u({x:r,y:l}),!1}),$item.on("mouseleave",t,function(e){return $("[data-node=shareBtnBox]").hide(),!1}),$("body").on("click","[data-shareto]",function(e){e.preventDefault(),shareType=$(this).data("shareto"),n.type=shareType,i=i||function(){},i.call(null,n),v(n)}),$("body").on("mouseenter","[data-node=shareBtnBox]",function(){$(this).show()}),$("body").on("mouseleave","[data-node=shareBtnBox]",function(){$(this).hide()})};e.exports={share:v,shareto:g,shareItem:x,shareWithKid:m}}).call(t,i(1))},122:function(e,t,i){(function(t){var i=function(e){return t.wap_url+"q.php?t="+encodeURIComponent(e)};e.exports=i}).call(t,i(4))},123:function(e,t){function i(e,t){for(var i=[],n=0,a=e.length;n<a;n++)i.push(e[n].substr(0,t));return i}function n(e){return function(t,i,n){var a=n[e].indexOf(i.charAt(0).toUpperCase()+i.substr(1).toLowerCase());~a&&(t.month=a)}}function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var o={},s=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r=/\d\d?/,l=/\d{3}/,d=/\d{4}/,c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,u=function(){},p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],h=i(f,3),g=i(p,3);o.i18n={dayNamesShort:g,dayNames:p,monthNamesShort:h,monthNames:f,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10)*e%10]}};var m={D:function(e){return e.getDate()},DD:function(e){return a(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return a(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return a(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return String(e.getFullYear()).substr(2)},YYYY:function(e){return e.getFullYear()},h:function(e){return e.getHours()%12||12},hh:function(e){return a(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return a(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return a(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return a(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return a(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return a(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+a(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},v={D:[r,function(e,t){e.day=t}],M:[r,function(e,t){e.month=t-1}],YY:[r,function(e,t){var i=new Date,n=+(""+i.getFullYear()).substr(0,2);e.year=""+(t>68?n-1:n)+t}],h:[r,function(e,t){e.hour=t}],m:[r,function(e,t){e.minute=t}],s:[r,function(e,t){e.second=t}],YYYY:[d,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[l,function(e,t){e.millisecond=t}],d:[r,u],ddd:[c,u],MMM:[c,n("monthNamesShort")],MMMM:[c,n("monthNames")],a:[c,function(e,t,i){var n=t.toLowerCase();n===i.amPm[0]?e.isPm=!1:n===i.amPm[1]&&(e.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,t){var i,n=(t+"").match(/([\+\-]|\d\d)/gi);n&&(i=+(60*n[1])+parseInt(n[2],10),e.timezoneOffset="+"===n[0]?i:-i)}]};v.dd=v.d,v.dddd=v.ddd,v.Do=v.DD=v.D,v.mm=v.m,v.hh=v.H=v.HH=v.h,v.MM=v.M,v.ss=v.s,v.A=v.a,o.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(e,t,i){var n=i||o.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");return t=o.masks[t]||t||o.masks.default,t.replace(s,function(t){return t in m?m[t](e,n):t.slice(1,t.length-1)})},o.parse=function(e,t,i){var n=i||o.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=o.masks[t]||t,e.length>1e3)return!1;var a=!0,r={};if(t.replace(s,function(t){if(v[t]){var i=v[t],o=e.search(i[0]);~o?e.replace(i[0],function(t){return i[1](r,t,n),e=e.substr(o+t.length),t}):a=!1}return v[t]?"":t.slice(1,t.length-1)}),!a)return!1;var l=new Date;r.isPm===!0&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:r.isPm===!1&&12===+r.hour&&(r.hour=0);var d;return null!=r.timezoneOffset?(r.minute=+(r.minute||0)-+r.timezoneOffset,d=new Date(Date.UTC(r.year||l.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):d=new Date(r.year||l.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0),d},e.exports=o},130:function(e,t,n){(function(e){!function($){var e={},t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};$.fn.bxSlider=function(n){if(0==this.length)return this;if(this.length>1)return this.each(function(){$(this).bxSlider(n)}),this;var a={},o=this;e.el=this;var s=$(window).width(),r=$(window).height(),l=function(){a.settings=$.extend({},t,n),a.settings.slideWidth=parseInt(a.settings.slideWidth),a.children=o.children(a.settings.slideSelector),a.children.length<a.settings.minSlides&&(a.settings.minSlides=a.children.length),a.children.length<a.settings.maxSlides&&(a.settings.maxSlides=a.children.length),a.settings.randomStart&&(a.settings.startSlide=Math.floor(Math.random()*a.children.length)),a.active={index:a.settings.startSlide},a.carousel=a.settings.minSlides>1||a.settings.maxSlides>1,a.carousel&&(a.settings.preloadImages="all"),a.minThreshold=a.settings.minSlides*a.settings.slideWidth+(a.settings.minSlides-1)*a.settings.slideMargin,a.maxThreshold=a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin,a.working=!1,a.controls={},a.interval=null,a.animProp="vertical"==a.settings.mode?"top":"left",a.usingCSS=a.settings.useCSS&&"fade"!=a.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return a.cssPrefix=t[i].replace("Perspective","").toLowerCase(),a.animProp="-"+a.cssPrefix+"-transform",!0;return!1}(),"vertical"==a.settings.mode&&(a.settings.maxSlides=a.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(a.settings.slideSelector).each(function(){$(this).data("origStyle",$(this).attr("style"))}),d()},d=function(){o.wrap('<div class="'+a.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),a.viewport=o.parent(),a.loader=$('<div class="bx-loading" />'),a.viewport.prepend(a.loader),o.css({width:"horizontal"==a.settings.mode?100*a.children.length+215+"%":"auto",position:"relative"}),a.usingCSS&&a.settings.easing?o.css("-"+a.cssPrefix+"-transition-timing-function",a.settings.easing):a.settings.easing||(a.settings.easing="swing");g();a.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),a.viewport.parent().css({maxWidth:f()}),a.settings.pager||a.viewport.parent().css({margin:"0 auto 0px"}),a.children.css({float:"horizontal"==a.settings.mode?"left":"none",listStyle:"none",position:"relative"}),a.children.css("width",h()),"horizontal"==a.settings.mode&&a.settings.slideMargin>0&&a.children.css("marginRight",a.settings.slideMargin),"vertical"==a.settings.mode&&a.settings.slideMargin>0&&a.children.css("marginBottom",a.settings.slideMargin),"fade"==a.settings.mode&&(a.children.css({position:"absolute",zIndex:0,display:"none"}),a.children.eq(a.settings.startSlide).css({zIndex:a.settings.slideZIndex,display:"block"})),a.controls.el=$('<div class="bx-controls" />'),a.settings.captions&&k(),a.active.last=a.settings.startSlide==m()-1,a.settings.video&&o.fitVids();var e=a.children.eq(a.settings.startSlide);"all"==a.settings.preloadImages&&(e=a.children),a.settings.ticker?a.settings.pager=!1:(a.settings.pager&&w(),a.settings.controls&&S(),a.settings.auto&&a.settings.autoControls&&C(),(a.settings.controls||a.settings.autoControls||a.settings.pager)&&a.viewport.after(a.controls.el)),c(e,u)},c=function(e,t){var i=e.find("img, iframe").length;if(0==i)return void t();t()},u=function(){if(a.settings.infiniteLoop&&"fade"!=a.settings.mode&&!a.settings.ticker){var e="vertical"==a.settings.mode?a.settings.minSlides:a.settings.maxSlides,t=a.children.slice(0,e).clone().addClass("bx-clone"),i=a.children.slice(-e).clone().addClass("bx-clone");o.append(t).prepend(i)}a.loader.remove(),x(),"vertical"==a.settings.mode&&(a.settings.adaptiveHeight=!0),a.viewport.height(p()),o.redrawSlider(),a.settings.onSliderLoad(a.active.index),a.initialized=!0,a.settings.responsive&&$(window).bind("resize",D),a.settings.auto&&a.settings.autoStart&&(m()>1||a.settings.autoSlideForOnePage)&&O(),a.settings.ticker&&N(),a.settings.pager&&M(a.settings.startSlide),a.settings.controls&&q()},p=function(){var e=0,t=$();if("vertical"==a.settings.mode||a.settings.adaptiveHeight)if(a.carousel){var n=1==a.settings.moveSlides?a.active.index:a.active.index*v();for(t=a.children.eq(n),i=1;i<=a.settings.maxSlides-1;i++)t=n+i>=a.children.length?t.add(a.children.eq(i-1)):t.add(a.children.eq(n+i))}else t=a.children.eq(a.active.index);else t=a.children;return"vertical"==a.settings.mode?(t.each(function(t){e+=$(this).outerHeight()}),a.settings.slideMargin>0&&(e+=a.settings.slideMargin*(a.settings.minSlides-1))):e=Math.max.apply(Math,t.map(function(){return $(this).outerHeight(!1)}).get()),"border-box"==a.viewport.css("box-sizing")?e+=parseFloat(a.viewport.css("padding-top"))+parseFloat(a.viewport.css("padding-bottom"))+parseFloat(a.viewport.css("border-top-width"))+parseFloat(a.viewport.css("border-bottom-width")):"padding-box"==a.viewport.css("box-sizing")&&(e+=parseFloat(a.viewport.css("padding-top"))+parseFloat(a.viewport.css("padding-bottom"))),e},f=function(){var e="100%";return a.settings.slideWidth>0&&(e="horizontal"==a.settings.mode?a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin:a.settings.slideWidth),e},h=function(){var e=a.settings.slideWidth,t=a.viewport.width();return 0==a.settings.slideWidth||a.settings.slideWidth>t&&!a.carousel||"vertical"==a.settings.mode?e=t:a.settings.maxSlides>1&&"horizontal"==a.settings.mode&&(t>a.maxThreshold||t<a.minThreshold&&(e=(t-a.settings.slideMargin*(a.settings.minSlides-1))/a.settings.minSlides)),e},g=function(){var e=1;if("horizontal"==a.settings.mode&&a.settings.slideWidth>0)if(a.viewport.width()<a.minThreshold)e=a.settings.minSlides;else if(a.viewport.width()>a.maxThreshold)e=a.settings.maxSlides;else{var t=a.children.first().width()+a.settings.slideMargin;e=Math.floor((a.viewport.width()+a.settings.slideMargin)/t)}else"vertical"==a.settings.mode&&(e=a.settings.minSlides);return e},m=function(){var e=0;if(a.settings.moveSlides>0)if(a.settings.infiniteLoop)e=Math.ceil(a.children.length/v());else for(var t=0,i=0;t<a.children.length;)++e,t=i+g(),i+=a.settings.moveSlides<=g()?a.settings.moveSlides:g();else e=Math.ceil(a.children.length/g());return e},v=function(){return a.settings.moveSlides>0&&a.settings.moveSlides<=g()?a.settings.moveSlides:g()},x=function(){if(a.children.length>a.settings.maxSlides&&a.active.last&&!a.settings.infiniteLoop){if("horizontal"==a.settings.mode){var e=a.children.last(),t=e.position();y(-(t.left-(a.viewport.width()-e.outerWidth())),"reset",0)}else if("vertical"==a.settings.mode){var i=a.children.length-a.settings.minSlides,t=a.children.eq(i).position();y(-t.top,"reset",0)}}else{var t=a.children.eq(a.active.index*v()).position();a.active.index==m()-1&&(a.active.last=!0),void 0!=t&&("horizontal"==a.settings.mode?y(-t.left,"reset",0):"vertical"==a.settings.mode&&y(-t.top,"reset",0))}},y=function(e,t,i,n){if(a.usingCSS){var s="vertical"==a.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";o.css("-"+a.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(o.css(a.animProp,s),o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),F()})):"reset"==t?o.css(a.animProp,s):"ticker"==t&&(o.css("-"+a.cssPrefix+"-transition-timing-function","linear"),o.css(a.animProp,s),o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),y(n.resetValue,"reset",0),E()}))}else{var r={};r[a.animProp]=e,"slide"==t?o.animate(r,i,a.settings.easing,function(){F()}):"reset"==t?o.css(a.animProp,e):"ticker"==t&&o.animate(r,speed,"linear",function(){y(n.resetValue,"reset",0),E()})}},b=function(){for(var e="",t=m(),i=0;i<t;i++){var n="";a.settings.buildPager&&$.isFunction(a.settings.buildPager)?(n=a.settings.buildPager(i),a.pagerEl.addClass("bx-custom-pager")):(n=i+1,a.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+n+"</a></div>"}a.pagerEl.html(e)},w=function(){a.settings.pagerCustom?a.pagerEl=$(a.settings.pagerCustom):(a.pagerEl=$('<div class="bx-pager" />'),a.settings.pagerSelector?$(a.settings.pagerSelector).html(a.pagerEl):a.controls.el.addClass("bx-has-pager").append(a.pagerEl),b()),a.pagerEl.on("click","a",A)},S=function(){a.controls.next=$(a.settings.next),a.controls.prev=$(a.settings.prev),a.controls.next.bind("click",T),a.controls.prev.bind("click",P),a.settings.nextSelector&&$(a.settings.nextSelector).append(a.controls.next),a.settings.prevSelector&&$(a.settings.prevSelector).append(a.controls.prev),a.settings.nextSelector||a.settings.prevSelector||(a.controls.directionEl=$('<div class="bx-controls-direction" />'),a.controls.directionEl.append(a.controls.prev).append(a.controls.next),a.controls.el.addClass("bx-has-controls-direction").append(a.controls.directionEl))},C=function(){a.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+a.settings.startText+"</a></div>"),a.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+a.settings.stopText+"</a></div>"),a.controls.autoEl=$('<div class="bx-controls-auto" />'),a.controls.autoEl.on("click",".bx-start",I),a.controls.autoEl.on("click",".bx-stop",L),a.settings.autoControlsCombine?a.controls.autoEl.append(a.controls.start):a.controls.autoEl.append(a.controls.start).append(a.controls.stop),a.settings.autoControlsSelector?$(a.settings.autoControlsSelector).html(a.controls.autoEl):a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl),V(a.settings.autoStart?"stop":"start")},k=function(){a.children.each(function(e){var t=$(this).find("img:first").attr("title");void 0!=t&&(""+t).length&&$(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},T=function(e){a.settings.auto&&o.stopAuto(),o.goToNextSlide(),e.preventDefault()},P=function(e){a.settings.auto&&o.stopAuto(),o.goToPrevSlide(),e.preventDefault()},I=function(e){o.startAuto(),e.preventDefault()},L=function(e){o.stopAuto(),e.preventDefault()},A=function(e){a.settings.auto&&o.stopAuto();var t=$(e.currentTarget);if(void 0!==t.attr("data-slide-index")){var i=parseInt(t.attr("data-slide-index"));i!=a.active.index&&o.goToSlide(i),e.preventDefault()}},M=function(e){var t=a.children.length;return"short"==a.settings.pagerType?(a.settings.maxSlides>1&&(t=Math.ceil(a.children.length/a.settings.maxSlides)),void a.pagerEl.html(e+1+a.settings.pagerShortSeparator+t)):(a.pagerEl.find("a").removeClass("active"),void a.pagerEl.each(function(t,i){$(i).find("a").eq(e).addClass("active")}))},F=function(){if(a.settings.infiniteLoop){var e="";0==a.active.index?e=a.children.eq(0).position():a.active.index==m()-1&&a.carousel?e=a.children.eq((m()-1)*v()).position():a.active.index==a.children.length-1&&(e=a.children.eq(a.children.length-1).position()),e&&("horizontal"==a.settings.mode?y(-e.left,"reset",0):"vertical"==a.settings.mode&&y(-e.top,"reset",0))}a.working=!1,a.settings.onSlideAfter(a.children.eq(a.active.index),a.oldIndex,a.active.index)},V=function(e){a.settings.autoControlsCombine?a.controls.autoEl.html(a.controls[e]):(a.controls.autoEl.find("a").removeClass("active"),a.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},q=function(){1==m()?(a.controls.prev.addClass("disabled"),a.controls.next.addClass("disabled")):!a.settings.infiniteLoop&&a.settings.hideControlOnEnd&&(0==a.active.index?(a.controls.prev.addClass("disabled"),a.controls.next.removeClass("disabled")):a.active.index==m()-1?(a.controls.next.addClass("disabled"),a.controls.prev.removeClass("disabled")):(a.controls.prev.removeClass("disabled"),a.controls.next.removeClass("disabled")))},O=function(){if(a.settings.autoDelay>0){setTimeout(o.startAuto,a.settings.autoDelay)}else o.startAuto();a.settings.autoHover&&o.hover(function(){a.interval&&(o.stopAuto(!0),a.autoPaused=!0)},function(){a.autoPaused&&(o.startAuto(!0),a.autoPaused=null)})},N=function(){var e=0;if("next"==a.settings.autoDirection)o.append(a.children.clone().addClass("bx-clone"));else{o.prepend(a.children.clone().addClass("bx-clone"));var t=a.children.first().position();e="horizontal"==a.settings.mode?-t.left:-t.top}y(e,"reset",0),a.settings.pager=!1,a.settings.controls=!1,a.settings.autoControls=!1,a.settings.tickerHover&&!a.usingCSS&&a.viewport.hover(function(){o.stop()},function(){var e=0;a.children.each(function(t){e+="horizontal"==a.settings.mode?$(this).outerWidth(!0):$(this).outerHeight(!0)});var t=a.settings.speed/e,i="horizontal"==a.settings.mode?"left":"top",n=t*(e-Math.abs(parseInt(o.css(i))));E(n)}),E()},E=function(e){speed=e?e:a.settings.speed;var t={left:0,top:0},i={left:0,top:0};"next"==a.settings.autoDirection?t=o.find(".bx-clone").first().position():i=a.children.first().position();var n="horizontal"==a.settings.mode?-t.left:-t.top,s="horizontal"==a.settings.mode?-i.left:-i.top,r={resetValue:s};y(n,"ticker",speed,r)},D=function(e){if(a.initialized){var t=$(window).width(),i=$(window).height();s==t&&r==i||(s=t,r=i,o.redrawSlider(),a.settings.onSliderResize.call(o,a.active.index))}};return o.goToSlide=function(e,t){if(!a.working&&a.active.index!=e)if(a.working=!0,a.oldIndex=a.active.index,e<0?a.active.index=m()-1:e>=m()?a.active.index=0:a.active.index=e,a.settings.onSlideBefore(a.children.eq(a.active.index),a.oldIndex,a.active.index),"next"==t?a.settings.onSlideNext(a.children.eq(a.active.index),a.oldIndex,a.active.index):"prev"==t&&a.settings.onSlidePrev(a.children.eq(a.active.index),a.oldIndex,a.active.index),a.active.last=a.active.index>=m()-1,a.settings.pager&&M(a.active.index),a.settings.controls&&q(),"fade"==a.settings.mode)a.settings.adaptiveHeight&&a.viewport.height()!=p()&&a.viewport.animate({height:p()},a.settings.adaptiveHeightSpeed),a.children.filter(":visible").fadeOut(a.settings.speed).css({zIndex:0}),a.children.eq(a.active.index).css("zIndex",a.settings.slideZIndex+1).fadeIn(a.settings.speed,function(){$(this).css("zIndex",a.settings.slideZIndex),F()});else{a.settings.adaptiveHeight&&a.viewport.height()!=p()&&a.viewport.animate({height:p()},a.settings.adaptiveHeightSpeed);var i=0,n={left:0,top:0};if(!a.settings.infiniteLoop&&a.carousel&&a.active.last)if("horizontal"==a.settings.mode){var s=a.children.eq(a.children.length-1);n=s.position(),i=a.viewport.width()-s.outerWidth()}else{var r=a.children.length-a.settings.minSlides;n=a.children.eq(r).position();
}else if(a.carousel&&a.active.last&&"prev"==t){var l=1==a.settings.moveSlides?a.settings.maxSlides-v():(m()-1)*v()-(a.children.length-a.settings.maxSlides),s=o.children(".bx-clone").eq(l);n=s.position()}else if("next"==t&&0==a.active.index)n=o.find("> .bx-clone").eq(a.settings.maxSlides).position(),a.active.last=!1;else if(e>=0){var d=e*v();n=a.children.eq(d).position()}if("undefined"!=typeof n){var c="horizontal"==a.settings.mode?-(n.left-i):-n.top;y(c,"slide",a.settings.speed)}}},o.goToNextSlide=function(){if(a.settings.infiniteLoop||!a.active.last){var e=parseInt(a.active.index)+1;o.goToSlide(e,"next")}},o.goToPrevSlide=function(){if(a.settings.infiniteLoop||0!=a.active.index){var e=parseInt(a.active.index)-1;o.goToSlide(e,"prev")}},o.startAuto=function(e){a.interval||(a.interval=setInterval(function(){"next"==a.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},a.settings.pause),a.settings.autoControls&&1!=e&&V("stop"))},o.stopAuto=function(e){a.interval&&(clearInterval(a.interval),a.interval=null,a.settings.autoControls&&1!=e&&V("start"))},o.getCurrentSlide=function(){return a.active.index},o.getCurrentSlideElement=function(){return a.children.eq(a.active.index)},o.getSlideCount=function(){return a.children.length},o.redrawSlider=function(){a.children.add(o.find(".bx-clone")).width(h()),a.viewport.css("height",p()),a.settings.ticker||x(),a.active.last&&(a.active.index=m()-1),a.active.index>=m()&&(a.active.last=!0),a.settings.pager&&!a.settings.pagerCustom&&(b(),M(a.active.index))},o.destroySlider=function(){a.initialized&&(a.initialized=!1,$(".bx-clone",this).remove(),a.children.each(function(){void 0!=$(this).data("origStyle")?$(this).attr("style",$(this).data("origStyle")):$(this).removeAttr("style")}),void 0!=$(this).data("origStyle")?this.attr("style",$(this).data("origStyle")):$(this).removeAttr("style"),$(this).unwrap().unwrap(),a.controls.el&&a.controls.el.remove(),a.controls.next&&a.controls.next.remove(),a.controls.prev&&a.controls.prev.remove(),a.pagerEl&&a.settings.controls&&a.pagerEl.remove(),$(".bx-caption",this).remove(),a.controls.autoEl&&a.controls.autoEl.remove(),clearInterval(a.interval),a.settings.responsive&&$(window).unbind("resize",D))},o.reloadSlider=function(e){void 0!=e&&(n=e),o.destroySlider(),l()},l(),this}}(e)}).call(t,n(1))},131:function(e,t,i){(function($){var t=$('div[data-node="topGoodInfo"]'),i=t.find('[data-node="topleft"]'),n=i.find('[data-node="leftBigBox"]'),a=i.find('[data-node="leftSmallBox"]'),o=i.find('[data-action="sliderTop"]'),s=i.find('[data-action="sliderDown"]'),r=a.find("li"),l=n.find("li"),d=0,c=90,u=4,p=a.find("li").length,f={init:function(){r.length>4?(f.setInit(),o.on("click",function(){f.moveTop()}),s.on("click",function(){f.moveDown()})):(s.addClass("disabled"),o.addClass("disabled")),r.on("click",function(){if(!$(this).hasClass("active")){var e=r.index($(this));$(this).addClass("active").siblings().removeClass("active"),l.hide().eq(e).show()}})},refresh:function(e){d=e},setInit:function(){0===d?s.addClass("disabled"):s.removeClass("disabled"),a.css({height:"auto",position:"relative"}).parent().css({height:"370px",position:"relative",overflow:"hidden"})},moveTop:function(e){d<p-u&&(a.is(":animated")||(d++,a.animate({top:-d*c},300),s.removeClass("disabled"))),d===p-u?o.addClass("disabled"):o.removeClass("disabled")},moveDown:function(){d>0&&(a.is(":animated")||(d--,a.animate({top:-d*c},300),o.removeClass("disabled"),0===d&&s.addClass("disabled")))}};e.exports=f}).call(t,i(1))},132:function(e,t,i){(function($){var t=i(133),n=function(e,i){var n=$('div[data-node="topGoodInfo"]'),a=n.find('[data-node="topleft"]'),o=a.find('[data-node="leftSmallBox"]'),s=a.find('[data-node="leftBigBox"]');o[0].innerHTML=t({data:e}),s.find("li img").attr("src",e[0]),setTimeout(function(){i()},1e3)};e.exports=n}).call(t,i(1))},133:function(e,t,i){var n=i(26);e.exports=n("src/js/widget/goodInfo/goodInfo",function(e,t){"use strict";var i=this,n=(i.$helpers,i.$each),a=e.data,o=(e.$value,e.$index,i.$escape),s="";return s+=" ",n(a,function(e,t){s+=" ",0==t?(s+=' <li class="active"> <img src=',s+=o(e),s+=' alt=""> </li> '):(s+=" <li> <img src=",s+=o(e),s+=' alt=""> </li> '),s+=" "}),s+=" ",new String(s)})},134:function(e,t,i){(function($){var t=i(2),n=i(28),a=i(43),o=i(68),s=i(42);i(135);var r=$("#goodsThum"),l=r.parent(),d=($("[data-node=_cart_]"),$("[data-node=addCartErr]")),c=d.text(),u=($('[data-node="goodsName"]'),$('[data-node="goodsContent"]'),$('[data-node="bannerShopCar"]')),p=function(e,t){var i=r.clone();i.appendTo(l).show();var n,a,o,s,d,c,p,f,h=$(window).scrollTop(),g=$(window).scrollLeft(),m=i.offset(),v=u.height(),x=u.width(),y=i.height(),b=i.width(),w=u.offset(),S={top:m.top-h-y/2,left:m.left-g-b/2},C={top:w.top-h+(v-y)/2,left:w.left-g+(x-b)/2},k=1.2,T=-1;i.velocity({left:1e3,top:1e3},{begin:function(e){g=$(window).scrollLeft(),h=$(window).scrollTop(),m=i.offset(),w=u.offset(),T=-1,S={top:m.top-h-y/2,left:m.left-g+b/2},C={top:w.top-h+(v-y)/2,left:w.left-g+(x-b)/2},$(e).css({position:"fixed",margin:0,top:S.top,left:S.left,zIndex:100}),n=Math.min(S.top,C.top)-Math.abs(S.left-C.left)/3,n<20&&(n=Math.min(20,Math.min(S.top,C.top))),a=Math.sqrt(Math.pow(S.top-C.top,2)+Math.pow(S.left-C.left,2)),o=Math.ceil(Math.min(Math.max(Math.log(a)/.05-75,30),100)/k),s=S.top==n?0:-Math.sqrt((C.top-n)/(S.top-n)),d=(s*S.left-C.left)/(s-1),c=C.left==d?0:(C.top-n)/Math.pow(C.left-d,2)},progress:function(t,a,s,r,l){p=S.left+(C.left-S.left)*T/o,f=0==c?S.top+(C.top-S.top)*T/o:c*Math.pow(p-d,2)+n,T++,$(t).css({left:p,top:f}),T===o+1&&(i.velocity("stop"),i.hide().remove(),e&&e())},duration:1e3*k})},f=function(e){var t;t&&(clearTimeout(t),t=null),d.show().removeClass("hide").text(e),t=setTimeout(function(){d.hide()},2e3)},h=function(e,i){var r=$(e.parent?e.parent:e.selector),l=e.parent?e.selector:void 0;r.on("click",l,function(e){function i(e){t.get(n.get("addShopCar"),e).done(function(e){200===e.code?p(function(){a(o.shopCar.headerShopCar).pub({proNum:r});var e=parseInt(u.find("span").text());e+r<=99?u.find("span").text(e+r):e+r>99&&u.find("span").text("99+")}):f(e.message)}).fail(function(e,t){s()&&f(c)})}var r=~~$('[data-node="count"]').val(),l={validate:!0,data:{mshopid:~~$GLOBAL_CONFIG.shopId,skuid:~~$GLOBAL_CONFIG.skuId,quantity:r,kid:$GLOBAL_CONFIG.kid+"",source_code:$GLOBAL_CONFIG.sourceCode},onLogin:i,refresh:!0};return i(l),!1})};e.exports=h}).call(t,i(1))},135:function(e,t,i){var n,a;(function(o,s){/*! VelocityJS.org (1.3.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(e){"use strict";function t(e){var t=e.length,i=$.type(e);return"function"!==i&&!$.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}if(!o){var $=function(e,t){return new $.fn.init(e,t)};$.isWindow=function(e){return e&&e===e.window},$.type=function(e){return e?"object"==typeof e||"function"==typeof e?n[s.call(e)]||"object":typeof e:e+""},$.isArray=Array.isArray||function(e){return"array"===$.type(e)},$.isPlainObject=function(e){var t;if(!e||"object"!==$.type(e)||e.nodeType||$.isWindow(e))return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||a.call(e,t)},$.each=function(e,i,n){var a,o=0,s=e.length,r=t(e);if(n){if(r)for(;o<s&&(a=i.apply(e[o],n),a!==!1);o++);else for(o in e)if(a=i.apply(e[o],n),a===!1)break}else if(r)for(;o<s&&(a=i.call(e[o],o,e[o]),a!==!1);o++);else for(o in e)if(a=i.call(e[o],o,e[o]),a===!1)break;return e},$.data=function(e,t,n){if(void 0===n){var a=e[$.expando],o=a&&i[a];if(void 0===t)return o;if(o&&t in o)return o[t]}else if(void 0!==t){var s=e[$.expando]||(e[$.expando]=++$.uuid);return i[s]=i[s]||{},i[s][t]=n,n}},$.removeData=function(e,t){var n=e[$.expando],a=n&&i[n];a&&(t?$.each(t,function(e,t){delete a[t]}):delete i[n])},$.extend=function(){var e,t,i,n,a,o,s=arguments[0]||{},r=1,l=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[r]||{},r++),"object"!=typeof s&&"function"!==$.type(s)&&(s={}),r===l&&(s=this,r--);r<l;r++)if(a=arguments[r])for(n in a)e=s[n],i=a[n],s!==i&&(d&&i&&($.isPlainObject(i)||(t=$.isArray(i)))?(t?(t=!1,o=e&&$.isArray(e)?e:[]):o=e&&$.isPlainObject(e)?e:{},s[n]=$.extend(d,o,i)):void 0!==i&&(s[n]=i));return s},$.queue=function(e,i,n){function a(e,i){var n=i||[];return e&&(t(Object(e))?!function(e,t){for(var i=+t.length,n=0,a=e.length;n<i;)e[a++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[a++]=t[n++];return e.length=a,e}(n,"string"==typeof e?[e]:e):[].push.call(n,e)),n}if(e){i=(i||"fx")+"queue";var o=$.data(e,i);return n?(!o||$.isArray(n)?o=$.data(e,i,a(n)):o.push(n),o):o||[]}},$.dequeue=function(e,t){$.each(e.nodeType?[e]:e,function(e,i){t=t||"fx";var n=$.queue(i,t),a=n.shift();"inprogress"===a&&(a=n.shift()),a&&("fx"===t&&n.unshift("inprogress"),a.call(i,function(){$.dequeue(i,t)}))})},$.fn=$.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(e){for(var t=e.offsetParent||document;t&&"html"!==t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var t=this[0],i=e(t),n=this.offset(),a=/^(?:body|html)$/i.test(i.nodeName)?{top:0,left:0}:$(i).offset();return n.top-=parseFloat(t.style.marginTop)||0,n.left-=parseFloat(t.style.marginLeft)||0,i.style&&(a.top+=parseFloat(i.style.borderTopWidth)||0,a.left+=parseFloat(i.style.borderLeftWidth)||0),{top:n.top-a.top,left:n.left-a.left}}};var i={};$.expando="velocity"+(new Date).getTime(),$.uuid=0;for(var n={},a=n.hasOwnProperty,s=n.toString,r="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<r.length;l++)n["[object "+r[l]+"]"]=r[l].toLowerCase();$.fn.init.prototype=$.fn,e.Velocity={Utilities:$}}}(window),function(o){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=o():(n=o,a="function"==typeof n?n.call(t,i,t,e):n,!(void 0!==a&&(e.exports=a)))}(function(){"use strict";return function(e,t,i,n){function a(e){for(var t=-1,i=e?e.length:0,n=[];++t<i;){var a=e[t];a&&n.push(a)}return n}function o(e){return g.isWrapped(e)?e=[].slice.call(e):g.isNode(e)&&(e=[e]),e}function r(e){var t=$.data(e,"velocity");return null===t?n:t}function l(e){return function(t){return Math.round(t*e)*(1/e)}}function d(e,i,n,a){function o(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function r(e){return 3*e}function l(e,t,i){return((o(t,i)*e+s(t,i))*e+r(t))*e}function d(e,t,i){return 3*o(t,i)*e*e+2*s(t,i)*e+r(t)}function c(t,i){for(var a=0;a<g;++a){var o=d(i,e,n);if(0===o)return i;var s=l(i,e,n)-t;i-=s/o}return i}function u(){for(var t=0;t<y;++t)C[t]=l(t*b,e,n)}function p(t,i,a){var o,s,r=0;do s=i+(a-i)/2,o=l(s,e,n)-t,o>0?a=s:i=s;while(Math.abs(o)>v&&++r<x);return s}function f(t){for(var i=0,a=1,o=y-1;a!==o&&C[a]<=t;++a)i+=b;--a;var s=(t-C[a])/(C[a+1]-C[a]),r=i+s*b,l=d(r,e,n);return l>=m?c(t,r):0===l?r:p(t,i,i+b)}function h(){k=!0,e===i&&n===a||u()}var g=4,m=.001,v=1e-7,x=10,y=11,b=1/(y-1),w="Float32Array"in t;if(4!==arguments.length)return!1;for(var S=0;S<4;++S)if("number"!=typeof arguments[S]||isNaN(arguments[S])||!isFinite(arguments[S]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var C=w?new Float32Array(y):new Array(y),k=!1,T=function(t){return k||h(),e===i&&n===a?t:0===t?0:1===t?1:l(f(t),i,a)};T.getControlPoints=function(){return[{x:e,y:i},{x:n,y:a}]};var P="generateBezier("+[e,i,n,a]+")";return T.toString=function(){return P},T}function c(e,t){var i=e;return g.isString(e)?y.Easings[e]||(i=!1):i=g.isArray(e)&&1===e.length?l.apply(null,e):g.isArray(e)&&2===e.length?b.apply(null,e.concat([t])):!(!g.isArray(e)||4!==e.length)&&d.apply(null,e),i===!1&&(i=y.Easings[y.defaults.easing]?y.defaults.easing:x),i}function u(e){if(e){var t=(new Date).getTime(),i=y.State.calls.length;i>1e4&&(y.State.calls=a(y.State.calls),i=y.State.calls.length);for(var o=0;o<i;o++)if(y.State.calls[o]){var s=y.State.calls[o],l=s[0],d=s[2],c=s[3],f=!!c,h=null;c||(c=y.State.calls[o][3]=t-16);for(var m=Math.min((t-c)/d.duration,1),v=0,x=l.length;v<x;v++){var b=l[v],S=b.element;if(r(S)){var k=!1;if(d.display!==n&&null!==d.display&&"none"!==d.display){if("flex"===d.display){var T=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];$.each(T,function(e,t){w.setPropertyValue(S,"display",t)})}w.setPropertyValue(S,"display",d.display)}d.visibility!==n&&"hidden"!==d.visibility&&w.setPropertyValue(S,"visibility",d.visibility);for(var P in b)if("element"!==P){var I,L=b[P],A=g.isString(L.easing)?y.Easings[L.easing]:L.easing;if(1===m)I=L.endValue;else{var M=L.endValue-L.startValue;if(I=L.startValue+M*A(m,d,M),!f&&I===L.currentValue)continue}if(L.currentValue=I,"tween"===P)h=I;else{var F;if(w.Hooks.registered[P]){F=w.Hooks.getRoot(P);var V=r(S).rootPropertyValueCache[F];V&&(L.rootPropertyValue=V)}var q=w.setPropertyValue(S,P,L.currentValue+(0===parseFloat(I)?"":L.unitType),L.rootPropertyValue,L.scrollData);w.Hooks.registered[P]&&(w.Normalizations.registered[F]?r(S).rootPropertyValueCache[F]=w.Normalizations.registered[F]("extract",null,q[1]):r(S).rootPropertyValueCache[F]=q[1]),"transform"===q[0]&&(k=!0)}}d.mobileHA&&r(S).transformCache.translate3d===n&&(r(S).transformCache.translate3d="(0px, 0px, 0px)",k=!0),k&&w.flushTransformCache(S)}}d.display!==n&&"none"!==d.display&&(y.State.calls[o][2].display=!1),d.visibility!==n&&"hidden"!==d.visibility&&(y.State.calls[o][2].visibility=!1),d.progress&&d.progress.call(s[1],s[1],m,Math.max(0,c+d.duration-t),c,h),1===m&&p(o)}}y.State.isTicking&&C(u)}function p(e,t){if(!y.State.calls[e])return!1;for(var i=y.State.calls[e][0],a=y.State.calls[e][1],o=y.State.calls[e][2],s=y.State.calls[e][4],l=!1,d=0,c=i.length;d<c;d++){var u=i[d].element;t||o.loop||("none"===o.display&&w.setPropertyValue(u,"display",o.display),"hidden"===o.visibility&&w.setPropertyValue(u,"visibility",o.visibility));var p=r(u);if(o.loop!==!0&&($.queue(u)[1]===n||!/\.velocityQueueEntryFlag/i.test($.queue(u)[1]))&&p){p.isAnimating=!1,p.rootPropertyValueCache={};var f=!1;$.each(w.Lists.transforms3D,function(e,t){var i=/^scale/.test(t)?1:0,a=p.transformCache[t];p.transformCache[t]!==n&&new RegExp("^\\("+i+"[^.]").test(a)&&(f=!0,delete p.transformCache[t])}),o.mobileHA&&(f=!0,delete p.transformCache.translate3d),f&&w.flushTransformCache(u),w.Values.removeClass(u,"velocity-animating")}if(!t&&o.complete&&!o.loop&&d===c-1)try{o.complete.call(a,a)}catch(e){setTimeout(function(){throw e},1)}s&&o.loop!==!0&&s(a),p&&o.loop===!0&&!t&&($.each(p.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360===0){var i=t.startValue;t.startValue=t.endValue,t.endValue=i}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),y(u,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&$.dequeue(u,o.queue)}y.State.calls[e]=!1;for(var h=0,g=y.State.calls.length;h<g;h++)if(y.State.calls[h]!==!1){l=!0;break}l===!1&&(y.State.isTicking=!1,delete y.State.calls,y.State.calls=[])}var $,f=function(){if(i.documentMode)return i.documentMode;for(var e=7;e>4;e--){var t=i.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return n}(),h=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var i,n=(new Date).getTime();return i=Math.max(0,16-(n-e)),e=n+i,setTimeout(function(){t(n+i)},i)}}(),g={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==n&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},m=!1;if(e.fn&&e.fn.jquery?($=e,m=!0):$=t.Velocity.Utilities,f<=8&&!m)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(f<=7)return void(s.fn.velocity=s.fn.animate);var v=400,x="swing",y={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:$,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:v,easing:x,begin:n,complete:n,progress:n,display:n,visibility:n,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){$.data(e,"velocity",{isSVG:g.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,patch:0},debug:!1};t.pageYOffset!==n?(y.State.scrollAnchor=t,y.State.scrollPropertyLeft="pageXOffset",y.State.scrollPropertyTop="pageYOffset"):(y.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,y.State.scrollPropertyLeft="scrollLeft",y.State.scrollPropertyTop="scrollTop");var b=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,i,n){var a={x:t.x+n.dx*i,v:t.v+n.dv*i,tension:t.tension,friction:t.friction};return{dx:a.v,dv:e(a)}}function i(i,n){var a={dx:i.v,dv:e(i)},o=t(i,.5*n,a),s=t(i,.5*n,o),r=t(i,n,s),l=1/6*(a.dx+2*(o.dx+s.dx)+r.dx),d=1/6*(a.dv+2*(o.dv+s.dv)+r.dv);return i.x=i.x+l*n,i.v=i.v+d*n,i}return function e(t,n,a){var o,s,r,l={x:-1,v:0,tension:null,friction:null},d=[0],c=0,u=1e-4,p=.016;for(t=parseFloat(t)||500,n=parseFloat(n)||20,a=a||null,l.tension=t,l.friction=n,o=null!==a,o?(c=e(t,n),s=c/a*p):s=p;;)if(r=i(r||l,s),d.push(1+r.x),c+=16,!(Math.abs(r.x)>u&&Math.abs(r.v)>u))break;return o?function(e){return d[e*(d.length-1)|0]}:c}}();y.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},$.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){y.Easings[t[0]]=d.apply(null,t[1])});var w=y.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<w.Lists.colors.length;e++){var t="color"===w.Lists.colors[e]?"0 0 0 1":"255 255 255 1";w.Hooks.templates[w.Lists.colors[e]]=["Red Green Blue Alpha",t]}var i,n,a;if(f)for(i in w.Hooks.templates){n=w.Hooks.templates[i],a=n[0].split(" ");var o=n[1].match(w.RegEx.valueSplit);"Color"===a[0]&&(a.push(a.shift()),o.push(o.shift()),w.Hooks.templates[i]=[a.join(" "),o.join(" ")])}for(i in w.Hooks.templates){n=w.Hooks.templates[i],a=n[0].split(" ");for(var s in a){var r=i+a[s],l=s;w.Hooks.registered[r]=[i,l]}}},getRoot:function(e){var t=w.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return w.RegEx.valueUnwrap.test(t)&&(t=t.match(w.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(t)&&(t=w.Hooks.templates[e][1]),t},extractValue:function(e,t){var i=w.Hooks.registered[e];if(i){var n=i[0],a=i[1];return t=w.Hooks.cleanRootPropertyValue(n,t),t.toString().match(w.RegEx.valueSplit)[a]}return t},injectValue:function(e,t,i){var n=w.Hooks.registered[e];if(n){var a,o,s=n[0],r=n[1];return i=w.Hooks.cleanRootPropertyValue(s,i),a=i.toString().match(w.RegEx.valueSplit),a[r]=t,o=a.join(" ")}return i}},Normalizations:{registered:{clip:function(e,t,i){switch(e){case"name":return"clip";case"extract":var n;return w.RegEx.wrappedValueAlreadyExtracted.test(i)?n=i:(n=i.toString().match(w.RegEx.valueUnwrap),n=n?n[1].replace(/,(\s+)?/g," "):i),n;case"inject":return"rect("+i+")"}},blur:function(e,t,i){switch(e){case"name":return y.State.isFirefox?"filter":"-webkit-filter";case"extract":var n=parseFloat(i);if(!n&&0!==n){var a=i.toString().match(/blur\(([0-9]+[A-z]+)\)/i);n=a?a[1]:0}return n;case"inject":return parseFloat(i)?"blur("+i+")":"none"}},opacity:function(e,t,i){if(f<=8)switch(e){case"name":return"filter";case"extract":var n=i.toString().match(/alpha\(opacity=(.*)\)/i);return i=n?n[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(e){case"name":return"opacity";case"extract":return i;case"inject":return i}}},register:function(){f&&!(f>9)||y.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var e=0;e<w.Lists.transformsBase.length;e++)!function(){var t=w.Lists.transformsBase[e];w.Normalizations.registered[t]=function(e,i,a){switch(e){case"name":return"transform";case"extract":return r(i)===n||r(i).transformCache[t]===n?/^scale/i.test(t)?1:0:r(i).transformCache[t].replace(/[()]/g,"");case"inject":var o=!1;switch(t.substr(0,t.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(a);break;case"scal":case"scale":y.State.isAndroid&&r(i).transformCache[t]===n&&a<1&&(a=1),o=!/(\d)$/i.test(a);break;case"skew":o=!/(deg|\d)$/i.test(a);break;case"rotate":o=!/(deg|\d)$/i.test(a)}return o||(r(i).transformCache[t]="("+a+")"),r(i).transformCache[t]}}}();for(var t=0;t<w.Lists.colors.length;t++)!function(){var e=w.Lists.colors[t];w.Normalizations.registered[e]=function(t,i,a){switch(t){case"name":return e;case"extract":var o;if(w.RegEx.wrappedValueAlreadyExtracted.test(a))o=a;else{var s,r={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(a)?s=r[a]!==n?r[a]:r.black:w.RegEx.isHex.test(a)?s="rgb("+w.Values.hexToRgb(a).join(" ")+")":/^rgba?\(/i.test(a)||(s=r.black),o=(s||a).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!f||f>8)&&3===o.split(" ").length&&(o+=" 1"),o;case"inject":return f<=8?4===a.split(" ").length&&(a=a.split(/\s+/).slice(0,3).join(" ")):3===a.split(" ").length&&(a+=" 1"),(f<=8?"rgb":"rgba")+"("+a.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(f||y.State.isAndroid&&!y.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(y.State.prefixMatches[e])return[y.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],i=0,n=t.length;i<n;i++){var a;if(a=0===i?e:t[i]+e.replace(/^\w/,function(e){return e.toUpperCase()}),g.isString(y.State.prefixElement.style[a]))return y.State.prefixMatches[e]=a,[a,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(i,function(e,t,i,n){return t+t+i+i+n+n}),t=n.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,i,a,o){function s(e,i){var a=0;if(f<=8)a=$.css(e,i);else{var l=!1;/^(width|height)$/.test(i)&&0===w.getPropertyValue(e,"display")&&(l=!0,w.setPropertyValue(e,"display",w.Values.getDisplayType(e)));var d=function(){l&&w.setPropertyValue(e,"display","none")};if(!o){if("height"===i&&"border-box"!==w.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(w.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(w.getPropertyValue(e,"paddingBottom"))||0);return d(),c}if("width"===i&&"border-box"!==w.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetWidth-(parseFloat(w.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(e,"paddingRight"))||0);return d(),u}}var p;p=r(e)===n?t.getComputedStyle(e,null):r(e).computedStyle?r(e).computedStyle:r(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===i&&(i="borderTopColor"),a=9===f&&"filter"===i?p.getPropertyValue(i):p[i],""!==a&&null!==a||(a=e.style[i]),d()}if("auto"===a&&/^(top|right|bottom|left)$/i.test(i)){var h=s(e,"position");("fixed"===h||"absolute"===h&&/top|left/i.test(i))&&(a=$(e).position()[i]+"px")}return a}var l;if(w.Hooks.registered[i]){var d=i,c=w.Hooks.getRoot(d);a===n&&(a=w.getPropertyValue(e,w.Names.prefixCheck(c)[0])),w.Normalizations.registered[c]&&(a=w.Normalizations.registered[c]("extract",e,a)),l=w.Hooks.extractValue(d,a)}else if(w.Normalizations.registered[i]){var u,p;u=w.Normalizations.registered[i]("name",e),"transform"!==u&&(p=s(e,w.Names.prefixCheck(u)[0]),w.Values.isCSSNullValue(p)&&w.Hooks.templates[i]&&(p=w.Hooks.templates[i][1])),l=w.Normalizations.registered[i]("extract",e,p)}if(!/^[\d-]/.test(l)){var h=r(e);if(h&&h.isSVG&&w.Names.SVGAttribute(i))if(/^(height|width)$/i.test(i))try{l=e.getBBox()[i]}catch(e){l=0}else l=e.getAttribute(i);else l=s(e,w.Names.prefixCheck(i)[0])}return w.Values.isCSSNullValue(l)&&(l=0),y.debug>=2,l},setPropertyValue:function(e,i,n,a,o){var s=i;if("scroll"===i)o.container?o.container["scroll"+o.direction]=n:"Left"===o.direction?t.scrollTo(n,o.alternateValue):t.scrollTo(o.alternateValue,n);else if(w.Normalizations.registered[i]&&"transform"===w.Normalizations.registered[i]("name",e))w.Normalizations.registered[i]("inject",e,n),s="transform",n=r(e).transformCache[i];else{if(w.Hooks.registered[i]){var l=i,d=w.Hooks.getRoot(i);a=a||w.getPropertyValue(e,d),n=w.Hooks.injectValue(l,n,a),i=d}if(w.Normalizations.registered[i]&&(n=w.Normalizations.registered[i]("inject",e,n),i=w.Normalizations.registered[i]("name",e)),s=w.Names.prefixCheck(i)[0],f<=8)try{e.style[s]=n}catch(e){y.debug}else{var c=r(e);c&&c.isSVG&&w.Names.SVGAttribute(i)?e.setAttribute(i,n):e.style[s]=n}y.debug>=2}return[s,n]},flushTransformCache:function(e){var t="",i=r(e);if((f||y.State.isAndroid&&!y.State.isChrome)&&i&&i.isSVG){var n=function(t){return parseFloat(w.getPropertyValue(e,t))},a={translate:[n("translateX"),n("translateY")],skewX:[n("skewX")],skewY:[n("skewY")],scale:1!==n("scale")?[n("scale"),n("scale")]:[n("scaleX"),n("scaleY")],rotate:[n("rotateZ"),0,0]};$.each(r(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),a[e]&&(t+=e+"("+a[e].join(" ")+") ",delete a[e])})}else{var o,s;$.each(r(e).transformCache,function(i){return o=r(e).transformCache[i],"transformPerspective"===i?(s=o,!0):(9===f&&"rotateZ"===i&&(i="rotate"),void(t+=i+o+" "))}),s&&(t="perspective"+s+" "+t)}w.setPropertyValue(e,"transform",t)}};w.Hooks.register(),w.Normalizations.register(),y.hook=function(e,t,i){var a;return e=o(e),$.each(e,function(e,o){if(r(o)===n&&y.init(o),i===n)a===n&&(a=y.CSS.getPropertyValue(o,t));else{var s=y.CSS.setPropertyValue(o,t,i);"transform"===s[0]&&y.CSS.flushTransformCache(o),a=s}}),a};var S=function(){function e(){return l?I.promise||null:d}function a(e,a){function o(o){var p,f;if(l.begin&&0===k)try{l.begin.call(h,h)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===L){var v,b,S,T=/^x$/i.test(l.axis)?"Left":"Top",P=parseFloat(l.offset)||0;l.container?g.isWrapped(l.container)||g.isNode(l.container)?(l.container=l.container[0]||l.container,v=l.container["scroll"+T],S=v+$(e).position()[T.toLowerCase()]+P):l.container=null:(v=y.State.scrollAnchor[y.State["scrollProperty"+T]],b=y.State.scrollAnchor[y.State["scrollProperty"+("Left"===T?"Top":"Left")]],S=$(e).offset()[T.toLowerCase()]+P),d={scroll:{rootPropertyValue:!1,startValue:v,currentValue:v,endValue:S,unitType:"",easing:l.easing,scrollData:{container:l.container,direction:T,alternateValue:b}},element:e},y.debug}else if("reverse"===L){if(p=r(e),!p)return;if(!p.tweensContainer)return void $.dequeue(e,l.queue);"none"===p.opts.display&&(p.opts.display="auto"),"hidden"===p.opts.visibility&&(p.opts.visibility="visible"),p.opts.loop=!1,p.opts.begin=null,p.opts.complete=null,x.easing||delete l.easing,x.duration||delete l.duration,l=$.extend({},p.opts,l),f=$.extend(!0,{},p?p.tweensContainer:null);for(var A in f)if("element"!==A){var M=f[A].startValue;f[A].startValue=f[A].currentValue=f[A].endValue,f[A].endValue=M,g.isEmptyObject(x)||(f[A].easing=l.easing),y.debug}d=f}else if("start"===L){p=r(e),p&&p.tweensContainer&&p.isAnimating===!0&&(f=p.tweensContainer);var F=function(t,i){var o,s,r;return g.isArray(t)?(o=t[0],!g.isArray(t[1])&&/^[\d-]/.test(t[1])||g.isFunction(t[1])||w.RegEx.isHex.test(t[1])?r=t[1]:(g.isString(t[1])&&!w.RegEx.isHex.test(t[1])||g.isArray(t[1]))&&(s=i?t[1]:c(t[1],l.duration),t[2]!==n&&(r=t[2]))):o=t,i||(s=s||l.easing),g.isFunction(o)&&(o=o.call(e,a,C)),g.isFunction(r)&&(r=r.call(e,a,C)),[o||0,s,r]};$.each(m,function(e,t){if(RegExp("^"+w.Lists.colors.join("$|^")+"$").test(w.Names.camelCase(e))){var i=F(t,!0),a=i[0],o=i[1],s=i[2];if(w.RegEx.isHex.test(a)){for(var r=["Red","Green","Blue"],l=w.Values.hexToRgb(a),d=s?w.Values.hexToRgb(s):n,c=0;c<r.length;c++){var u=[l[c]];o&&u.push(o),d!==n&&u.push(d[c]),m[w.Names.camelCase(e)+r[c]]=u}delete m[e]}}});for(var V in m){var N=F(m[V]),E=N[0],D=N[1],G=N[2];V=w.Names.camelCase(V);var B=w.Hooks.getRoot(V),H=!1;if(p&&p.isSVG||"tween"===B||w.Names.prefixCheck(B)[1]!==!1||w.Normalizations.registered[B]!==n){(l.display!==n&&null!==l.display&&"none"!==l.display||l.visibility!==n&&"hidden"!==l.visibility)&&/opacity|filter/.test(V)&&!G&&0!==E&&(G=0),l._cacheValues&&f&&f[V]?(G===n&&(G=f[V].endValue+f[V].unitType),H=p.rootPropertyValueCache[B]):w.Hooks.registered[V]?G===n?(H=w.getPropertyValue(e,B),G=w.getPropertyValue(e,V,H)):H=w.Hooks.templates[B][1]:G===n&&(G=w.getPropertyValue(e,V));var z,Y,j,R=!1,_=function(e,t){var i,n;return n=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return i=e,""}),i||(i=w.Values.getUnitType(e)),[n,i]};z=_(V,G),G=z[0],j=z[1],z=_(V,E),E=z[0].replace(/^([+-\/*])=/,function(e,t){return R=t,""}),Y=z[1],G=parseFloat(G)||0,E=parseFloat(E)||0,"%"===Y&&(/^(fontSize|lineHeight)$/.test(V)?(E/=100,Y="em"):/^scale/.test(V)?(E/=100,Y=""):/(Red|Green|Blue)$/i.test(V)&&(E=E/100*255,Y=""));var W=function(){var n={myParent:e.parentNode||i.body,position:w.getPropertyValue(e,"position"),fontSize:w.getPropertyValue(e,"fontSize")},a=n.position===q.lastPosition&&n.myParent===q.lastParent,o=n.fontSize===q.lastFontSize;q.lastParent=n.myParent,q.lastPosition=n.position,q.lastFontSize=n.fontSize;var s=100,r={};if(o&&a)r.emToPx=q.lastEmToPx,r.percentToPxWidth=q.lastPercentToPxWidth,r.percentToPxHeight=q.lastPercentToPxHeight;else{var l=p&&p.isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div");y.init(l),n.myParent.appendChild(l),$.each(["overflow","overflowX","overflowY"],function(e,t){y.CSS.setPropertyValue(l,t,"hidden")}),y.CSS.setPropertyValue(l,"position",n.position),y.CSS.setPropertyValue(l,"fontSize",n.fontSize),y.CSS.setPropertyValue(l,"boxSizing","content-box"),$.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){y.CSS.setPropertyValue(l,t,s+"%")}),y.CSS.setPropertyValue(l,"paddingLeft",s+"em"),r.percentToPxWidth=q.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(l,"width",null,!0))||1)/s,r.percentToPxHeight=q.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(l,"height",null,!0))||1)/s,r.emToPx=q.lastEmToPx=(parseFloat(w.getPropertyValue(l,"paddingLeft"))||1)/s,n.myParent.removeChild(l)}return null===q.remToPx&&(q.remToPx=parseFloat(w.getPropertyValue(i.body,"fontSize"))||16),null===q.vwToPx&&(q.vwToPx=parseFloat(t.innerWidth)/100,q.vhToPx=parseFloat(t.innerHeight)/100),r.remToPx=q.remToPx,r.vwToPx=q.vwToPx,r.vhToPx=q.vhToPx,y.debug>=1,r};if(/[\/*]/.test(R))Y=j;else if(j!==Y&&0!==G)if(0===E)Y=j;else{s=s||W();var U=/margin|padding|left|right|width|text|word|letter/i.test(V)||/X$/.test(V)||"x"===V?"x":"y";switch(j){case"%":G*="x"===U?s.percentToPxWidth:s.percentToPxHeight;break;case"px":break;default:G*=s[j+"ToPx"]}switch(Y){case"%":G*=1/("x"===U?s.percentToPxWidth:s.percentToPxHeight);break;case"px":break;default:G*=1/s[Y+"ToPx"]}}switch(R){case"+":E=G+E;break;case"-":E=G-E;break;case"*":E*=G;break;case"/":E=G/E}d[V]={rootPropertyValue:H,startValue:G,currentValue:G,endValue:E,unitType:Y,easing:D},y.debug}else y.debug}d.element=e}d.element&&(w.Values.addClass(e,"velocity-animating"),O.push(d),p=r(e),p&&(""===l.queue&&(p.tweensContainer=d,p.opts=l),p.isAnimating=!0),k===C-1?(y.State.calls.push([O,h,l,null,I.resolver]),y.State.isTicking===!1&&(y.State.isTicking=!0,u())):k++)}var s,l=$.extend({},y.defaults,x),d={};switch(r(e)===n&&y.init(e),parseFloat(l.delay)&&l.queue!==!1&&$.queue(e,l.queue,function(t){y.velocityQueueEntryFlag=!0,r(e).delayTimer={setTimeout:setTimeout(t,parseFloat(l.delay)),next:t}}),l.duration.toString().toLowerCase()){case"fast":l.duration=200;break;case"normal":l.duration=v;break;case"slow":l.duration=600;break;default:l.duration=parseFloat(l.duration)||1}y.mock!==!1&&(y.mock===!0?l.duration=l.delay=1:(l.duration*=parseFloat(y.mock)||1,l.delay*=parseFloat(y.mock)||1)),l.easing=c(l.easing,l.duration),l.begin&&!g.isFunction(l.begin)&&(l.begin=null),l.progress&&!g.isFunction(l.progress)&&(l.progress=null),l.complete&&!g.isFunction(l.complete)&&(l.complete=null),l.display!==n&&null!==l.display&&(l.display=l.display.toString().toLowerCase(),"auto"===l.display&&(l.display=y.CSS.Values.getDisplayType(e))),l.visibility!==n&&null!==l.visibility&&(l.visibility=l.visibility.toString().toLowerCase()),l.mobileHA=l.mobileHA&&y.State.isMobile&&!y.State.isGingerbread,l.queue===!1?l.delay?setTimeout(o,l.delay):o():$.queue(e,l.queue,function(e,t){return t===!0?(I.promise&&I.resolver(h),!0):(y.velocityQueueEntryFlag=!0,void o(e))}),""!==l.queue&&"fx"!==l.queue||"inprogress"===$.queue(e)[0]||$.dequeue(e)}var s,l,d,f,h,m,x,b=arguments[0]&&(arguments[0].p||$.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||g.isString(arguments[0].properties));if(g.isWrapped(this)?(l=!1,f=0,h=this,d=this):(l=!0,f=1,h=b?arguments[0].elements||arguments[0].e:arguments[0]),h=o(h)){b?(m=arguments[0].properties||arguments[0].p,x=arguments[0].options||arguments[0].o):(m=arguments[f],x=arguments[f+1]);var C=h.length,k=0;if(!/^(stop|finish|finishAll)$/i.test(m)&&!$.isPlainObject(x)){var T=f+1;x={};for(var P=T;P<arguments.length;P++)g.isArray(arguments[P])||!/^(fast|normal|slow)$/i.test(arguments[P])&&!/^\d/.test(arguments[P])?g.isString(arguments[P])||g.isArray(arguments[P])?x.easing=arguments[P]:g.isFunction(arguments[P])&&(x.complete=arguments[P]):x.duration=arguments[P]}var I={promise:null,resolver:null,rejecter:null};l&&y.Promise&&(I.promise=new y.Promise(function(e,t){I.resolver=e,I.rejecter=t}));var L;switch(m){case"scroll":L="scroll";break;case"reverse":L="reverse";break;case"finish":case"finishAll":case"stop":$.each(h,function(e,t){r(t)&&r(t).delayTimer&&(clearTimeout(r(t).delayTimer.setTimeout),r(t).delayTimer.next&&r(t).delayTimer.next(),delete r(t).delayTimer),"finishAll"!==m||x!==!0&&!g.isString(x)||($.each($.queue(t,g.isString(x)?x:""),function(e,t){g.isFunction(t)&&t()}),$.queue(t,g.isString(x)?x:"",[]))});var A=[];return $.each(y.State.calls,function(e,t){t&&$.each(t[1],function(i,a){var o=x===n?"":x;return o!==!0&&t[2].queue!==o&&(x!==n||t[2].queue!==!1)||void $.each(h,function(i,n){if(n===a)if((x===!0||g.isString(x))&&($.each($.queue(n,g.isString(x)?x:""),function(e,t){g.isFunction(t)&&t(null,!0)}),$.queue(n,g.isString(x)?x:"",[])),"stop"===m){var s=r(n);s&&s.tweensContainer&&o!==!1&&$.each(s.tweensContainer,function(e,t){t.endValue=t.currentValue}),A.push(e)}else"finish"!==m&&"finishAll"!==m||(t[2].duration=1);
})})}),"stop"===m&&($.each(A,function(e,t){p(t,!0)}),I.promise&&I.resolver(h)),e();default:if(!$.isPlainObject(m)||g.isEmptyObject(m)){if(g.isString(m)&&y.Redirects[m]){s=$.extend({},x);var M=s.duration,F=s.delay||0;return s.backwards===!0&&(h=$.extend(!0,[],h).reverse()),$.each(h,function(e,t){parseFloat(s.stagger)?s.delay=F+parseFloat(s.stagger)*e:g.isFunction(s.stagger)&&(s.delay=F+s.stagger.call(t,e,C)),s.drag&&(s.duration=parseFloat(M)||(/^(callout|transition)/.test(m)?1e3:v),s.duration=Math.max(s.duration*(s.backwards?1-e/C:(e+1)/C),.75*s.duration,200)),y.Redirects[m].call(t,t,s||{},e,C,h,I.promise?I:n)}),e()}var V="Velocity: First argument ("+m+") was not a property map, a known action, or a registered redirect. Aborting.";return I.promise&&I.rejecter(new Error(V)),e()}L="start"}var q={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},O=[];$.each(h,function(e,t){g.isNode(t)&&a(t,e)}),s=$.extend({},y.defaults,x),s.loop=parseInt(s.loop,10);var N=2*s.loop-1;if(s.loop)for(var E=0;E<N;E++){var D={delay:s.delay,progress:s.progress};E===N-1&&(D.display=s.display,D.visibility=s.visibility,D.complete=s.complete),S(h,"reverse",D)}return e()}};y=$.extend(S,y),y.animate=S;var C=t.requestAnimationFrame||h;return y.State.isMobile||i.hidden===n||i.addEventListener("visibilitychange",function(){i.hidden?(C=function(e){return setTimeout(function(){e(!0)},16)},u()):C=t.requestAnimationFrame||h}),e.Velocity=y,e!==t&&(e.fn.velocity=S,e.fn.velocity.defaults=y.defaults),$.each(["Down","Up"],function(e,t){y.Redirects["slide"+t]=function(e,i,a,o,s,r){var l=$.extend({},i),d=l.begin,c=l.complete,u={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},p={};l.display===n&&(l.display="Down"===t?"inline"===y.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){d&&d.call(s,s);for(var i in u){p[i]=e.style[i];var n=y.CSS.getPropertyValue(e,i);u[i]="Down"===t?[n,0]:[0,n]}p.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in p)e.style[t]=p[t];c&&c.call(s,s),r&&r.resolver(s)},y(e,u,l)}}),$.each(["In","Out"],function(e,t){y.Redirects["fade"+t]=function(e,i,a,o,s,r){var l=$.extend({},i),d=l.complete,c={opacity:"In"===t?1:0};a!==o-1?l.complete=l.begin=null:l.complete=function(){d&&d.call(s,s),r&&r.resolver(s)},l.display===n&&(l.display="In"===t?"auto":"none"),y(this,c,l)}}),y}(o||window.Zepto||window,window,document)})}).call(t,i(1),i(1))},136:function(e,t,i){(function(t,$){var n=i(3),a=i(42),o=function(e,i){var i,o=(e.find('[data-action="buybtn"]'),e.find('[data-node="buyInfo"]')),s=e.find('[data-node="isCross"]'),r=null,l=function(){var n=r;i=i||~~e.find('[data-node="count"]').val();var a='[{"shopId":'+t.shopId+',"kId":"'+(""===t.kid?"":t.kid)+'","skuId":'+$GLOBAL_CONFIG.skuId+',"proNum":'+i+',"source_code":{"sourceCode":"'+t.sourceCode+'"}}]',l='[{"isCross":"'+t.isCross+'"}]';o.val(a),s.val(l),n.parents('[data-node="buynow"]').submit()};e.on("click",'[data-action="buybtn"]',function(){return r=$(this),!r.hasClass("btn-default")&&(a()?void l():(n({onLogin:l}),!1))})};e.exports=o}).call(t,i(4),i(1))},137:function(e,t,i){(function($){var t=i(2),n=i(28),a=i(84),o=i(42),s=!1,r=function(e,i){var r=$(e.parent?e.parent:e.selector),l=e.parent?e.selector:void 0;r.on("click",l,function(){function e(e){t.post(collectUrl,e).done(function(e){200===e.code?(l?$(r).addClass("active").attr("data-collect","collect"):$(r).removeClass("active").attr("data-collect",""),d.call(r,l)):a.init(e.message)}).fail(function(e,t){o()&&a.init("店铺收藏失败")}).always(function(){s=!1})}var r=this,l=!0,d=i||function(){},c={validate:!0,data:{shopId:$GLOBAL_CONFIG.shopId}};return s||(s=!0,""===$(r).attr("data-collect")?(collectUrl=n.get("shopCollect"),l=!0):(collectUrl=n.get("unShopCollect"),l=!1)),e(c),!1})};e.exports=r}).call(t,i(1))},138:function(e,t,i){(function($){var t=i(2),n=i(28),a=function(){},o=function(e,t,i){e.data("collect",t),e.data("count",i)},s={normal:{add:function(e,t,i){e.find("em").addClass("active"),e.find("span").text(i)},reduce:function(e,t,i){e.find("em").removeClass("active"),e.find("span").text(i)}}},r=function(e){return s[e]},l=function(e,i,s){var l=$(e),d=s.onCollect||a,c=s.onUnCollect||a,u=s.onFailed||a,p=s.mode||"normal";l.on("click",i,function(){function e(e){t.post(f,e).done(function(e,t,n){var a=r(p);e&&200===e.code&&e.success?1===~~s?(i.attr("data-isCollect",0),o(i,0,++l),a.add(i,e,l),d.call(i,e,l)):0===~~s&&(i.attr("data-isCollect",1),o(i,1,--l),a.reduce(i,e,l),c.call(i,e,l)):u.call(i)}).fail(function(e,t,n){u.call(i)}).always(function(){i.data("firing",0)})}var i=$(this),a=i.data("firing");if(1!==a){i.data("firing",1);var s=i.attr("data-isCollect"),l=i.data("count"),f=0===~~s?n.get("productUnCollect"):n.get("productCollect"),h={validate:!0,data:{shopId:$GLOBAL_CONFIG.shopId,productId:$GLOBAL_CONFIG.productId},onLogin:e,refresh:!0};return e(h),!1}})};e.exports=l}).call(t,i(1))},139:function(e,t,i){(function($){var t=i(2),n=i(28),a=function(e){function i(e,t){x=!0;for(var i="",n=0,a=e.nodes.length;n<a;n++)i+='<li data-id="'+e.nodes[n].id+'">'+e.nodes[n].name+"</li>";f.hide().eq(t).show().html(i)}function a(){if(m.length>2&&y){for(var e=0,t=m.length;e<t;e++)void 0!==m[e]&&(g[e]=m[e]);var t=g.length;g.splice(m.length,g.length-m.length),m=[]}for(var i="",n="",e=0,t=g.length;e<t;e++)i+='<span data-aid="'+g[e].levelId+'" data-node="addressTop">'+g[e].levelName+"</span>",n+='<a href="javascript:;" class="" data-aid="'+g[e].levelId+'" data-action="setAddressTab"><span data-node="tabName">'+g[e].levelName+'</span><em class="icon icon-down"></em></a>';l.html(i),d=l.find("[data-aid]"),u.children().eq(1).html(n),p=u.find('[data-action="setAddressTab"]'),x=!0,u.hide()}function o(e,i,a){if(window.localStorage){var o,s=JSON.parse(localStorage.getItem("address"+e));null!==s?s.hasOwnProperty("time")&&(o=s.time<+new Date):o=!0,o?t.get(n.get("getAddress")+e,{}).done(function(t){if(200===t.code){i.call(null,t.data);var n={data:t.data,time:+new Date+6048e5};localStorage.removeItem("address"+e),localStorage.setItem("address"+e,JSON.stringify(n))}}).fail(function(e,t){}).always(function(){h&&(h=!1)}):(i.call(null,s.data),h&&(h=!1))}else t.get(n.get("getAddress")+e,{}).done(function(e){200===e.code&&i.call(null,e.data)}).fail(function(e,t){}).always(function(){h&&(h=!1)})}for(var s=$('div[data-node="topGoodInfo"]'),r=s.find('[data-action="setAddress"]'),l=r.find('[data-action="setAddressTopBox"]'),d=l.find('[data-node="addressTop"]'),c=l.find("[data-aid]"),u=s.find('[data-node="setAddressbox"]'),p=u.find('[data-action="setAddressTab"]'),f=u.find('[data-node="setAddressList"]'),h=(s.find('[data-node="iscargo"]'),s.find('[data-node="repert"]'),!1),g=[],m=[],v=c.length-1,x=!0,y=!0,b=0,w=c.length;b<w;b++)g[b]={},g[b].levelId=c.eq(b).attr("data-aid"),g[b].levelName=c.eq(b).text();r.on("click",function(e){e.stopPropagation();if(!h){h=!0,c=l.find("[data-aid]");var t=c.eq(c.length-2).attr("data-aid");o(t,function(e){var t=c.length-1<0?0:c.length-1;p.removeClass("selected-span").eq(t).addClass("selected-span").nextAll().remove(),"none"===u.css("display")&&u.show(),i(e,t)})}}),u.on("click",function(e){e.stopPropagation()}).on("click",'[data-action="setAddressTab"]',function(e){e.stopPropagation(),v=r.find('[data-action="setAddressTab"]').index($(this));var t;"请选择"!==$(this).children().eq(0).text()&&(p.removeClass("selected-span").eq(v).addClass("selected-span"),t=$(this).prev().attr("data-aid")||0,0===v?0===f.eq(v).children().length?o(t,function(e){i(e,v)}):f.hide().eq(v).show():o(t,function(e){i(e,v)}))}).on("click","li",function(e){if(e.stopPropagation(),x){x=!1;var t=$(this).attr("data-id"),n=$(this).text(),s=f.index($(this).parents("ul"));y=0!==s,p.removeClass("selected-span").eq(s).nextAll().remove(),p.eq(s).children().eq(0).text(n),p.eq(s).attr("data-aid",$(this).attr("data-id")),o(t,function(e){p.removeClass("selected-span").eq(s+1).addClass("selected-span"),s!==f.length-1?(i(e,s+1),p.eq(0).parent().append('<a href="javascript:;" data-action="setAddressTab" class="selected-span"><span data-node="tabName">请选择</span><em class="icon icon-down"></em></a>'),p=u.find('[data-action="setAddressTab"]'),m[s]={},m[s].levelId=t,m[s].levelName=n):(m[s]={},m[s].levelId=t,m[s].levelName=n,a(s))})}}).on("click",'[data-action="addressClose"]',function(e){e.stopPropagation(),"none"!==u.css("display")&&(a(),u.hide())}),$(document).on("click",function(e){e.stopPropagation(),"none"!==u.css("display")&&(a(),u.hide())})};e.exports=a}).call(t,i(1))},140:function(e,t,i){(function($,t){var n=(i(131),i(71),$('div[data-node="topGoodInfo"]')),a=n.find('[data-node="topleft"]'),o=n.find('[data-node="firstParams"]'),s=o.eq(0).find("a"),r=o.eq(1).find("a"),l=(n.find('div[data-node="secondContent"]'),n.find('[data-node="repert"]')),d=n.find('[data-node="price"]'),c=n.find('[data-node="iscargo"]'),u=(n.find('[data-active="coupon"]'),n.find('[data-node="sale"]'),n.find('[data-action="addShopCar"]'),n.find('[data-action="buybtn"]')),p=n.find('[data-spin="down"]'),f=n.find('[data-spin="up"]'),u=n.find('[data-action="buybtn"]'),h=n.find('[data-node="leftSmallBox"] li'),g=n.find('[data-node="originPrice"]'),m=a.find('[data-node="leftBigBox"] li'),v=$("#goodsThum"),x=(~~$GLOBAL_CONFIG.default_skuid,function(e){function t(t,n){var a=e[t].second[n].value.stock>20?20:e[t].second[n].value.stock;y(e[t].second[n]),i.spinning.setMax(a),e[t].second[n].value.stock>0?i.spinning.value(1):$('[data-node="count"]').val(1),d=a,parseFloat(e[t].second[n].value.price)>parseFloat(e[t].second[n].value.salePrice)?g.removeClass("hide"):g.addClass("hide")}var i,n=s.index($(".choose-cell-true")),a=0;void 0!==e[0].second;s.on("click",function(){if(!$(this).hasClass("choose-cell-true")){if(n=$(this).parent().find("a").index($(this)),0===r.length){var a=e[n].value.stock>20?20:e[n].value.stock;y(e[n]),i.spinning.setMax(a),e[n].value.stock>0?i.spinning.value(1):$('[data-node="count"]').val(1),d=a}else{var l,c="",u=o.eq(1).find("a").index(o.eq(1).find(".choose-cell-true"));l=e[n].second;for(var p=0,f=l.length;p<f;p++)c+='<a href="javascript:;" class="choose-cell">'+l[p].key+"</a>";o.eq(1).find("div").html(c),u=u>=l.length?0:u,t(n,u),r=o.eq(1).find("a"),r.removeClass("choose-cell-true").eq(u).addClass("choose-cell-true")}s.removeClass("choose-cell-true").eq(n).addClass("choose-cell-true")}}),o.eq(1).on("click","a",function(){$(this).hasClass("choose-cell-true")||(a=$(this).parent().find("a").index($(this)),r.removeClass("choose-cell-true").eq(a).addClass("choose-cell-true"),t(n,a))});var d=~~l.text()>20?20:~~l.text();$("[data-trigger=spinner]").spinner({delay:200,min:1,max:d,rangemin:function(){p.addClass("disabled")},rangemax:function(){f.addClass("disabled")},changed:function(e,t,n){t>1&&p.removeClass("disabled"),1===t&&p.addClass("disabled"),t===d||t>d?f.addClass("disabled"):f.removeClass("disabled"),0===d&&i.spinning.setMax(1)}}),i=$("[data-trigger=spinner]").data("spinner"),$('[data-node="count"]').val(1)}),y=function(e){l.text(e.value.stock),d.text(e.value.salePrice),$('[data-spin="down"]').addClass("disabled"),0===~~e.value.stock?(c.text("无货"),u.addClass("btn-default"),$('[data-spin="up"]').addClass("disabled")):(u.removeClass("btn-default"),c.text("有货"),$('[data-spin="up"]').removeClass("disabled")),$GLOBAL_CONFIG.skuId=e.value.id,parseFloat(e.value.price)>parseFloat(e.value.salePrice)?g.removeClass("hide"):g.addClass("hide"),h.removeClass("active"),m.hide().last().show().find("img").addClass("loading").attr("src",t.imgpath+"/images/public/goods-loading.gif");var i=new Image;i.onload=function(){m.last().find("img").removeClass("loading").attr("src",e.value.images[0])},i.src=e.value.images[0],v.find("img").attr("src",e.value.images[0])};e.exports=x}).call(t,i(1),i(4))},141:function(e,t,i){(function($,t){var n=i(2),a=i(28),o=i(123),s=i(142),r=$('[data-node="discussBox"]'),l=$('[data-action="moreDiscuss"]'),d=$('[data-node="discussTitle"]'),c=1,u=function(e){var i=$GLOBAL_CONFIG.productId;n.get(a.get("getMoreDiscuss"),{data:{itemId:i,pageNum:c}}).done(function(i){if(200===i.code){var n=i.data.itemComments;if(0===n.length)e.html("<span>没有可加载内容</span>"),1===c&&(d.hide(),r.hide(),e.parent().hide());else{e.parent().show();for(var a=0,l=n.length;a<l;a++)n[a].createTime=o.format(new Date(n[a].createTime),"YYYY年MM月DD日"),n[a].replyTime=void 0!==n[a].replyTime&&o.format(new Date(n[a].replyTime),"YYYY年MM月DD日");n.length<10?1!==c?e.html("<span>没有可加载内容</span>").addClass("disabled"):e.hide():(e.html('<span><img src="'+t.imgpath+'/images/circle/small-logo.png">点击加载更多<em class="icon icon-right"></em></span>'),e.removeClass("disabled"),c++),discussList=s({data:n}),r.append(discussList)}}})},p=function(){var e=r.offset().top,i=$(window).scrollTop(),n=!0,a=$(window).height();i+a>e-50?u(l):$(window).on("scroll",function(){i=$(window).scrollTop(),i+a>e-50&&n&&(n=!1,u(l))}),l.on("click",function(){var e=this;$(e).hasClass("disabled")||($(e).addClass("disabled").html('<span><img src="'+t.imgpath+'/images/public/loading.gif">正在加载...</span>'),u($(this)))})};e.exports=p}).call(t,i(1),i(4))},142:function(e,t,i){var n=i(26);e.exports=n("src/js/widget/goodInfo/moreDiscuss",function(e,t){"use strict";var i=this,n=(i.$helpers,i.$each),a=e.data,o=(e.$value,e.$index,i.$escape),s="";return s+=" ",n(a,function(e,t){s+=' <dl data-node="comments" class="clearfix"> <dt><img src=',s+=o(a[t].creater.facePicUrl),s+=' onerror="imgError(this)"/></dt> <dd> <div class="list-name"><a href="javascript:;">',s+=o(a[t].creater.nickname),s+="</a><span>",s+=o(a[t].createTime),s+="</span></div> <p>",s+=o(""===a[t].content?"收到宝贝了，还不错":a[t].content),s+='</p>  <div data-node="imgPreviewList" class="list-img clearfix"> ',n(a[t].images,function(e,t){s+=' <a href="javascript:;"> <img src=',s+=o(e),s+=' alt=""/> </a> '}),s+=" </div> ",a[t].replyContent&&(s+=' <div class="list-name shop-keeper"><a>商家回复</a><span>',s+=o(a[t].replyTime),s+="</span></div> <p>",s+=o(a[t].replyContent),s+="</p> "),s+=" </dd> </dl> "}),new String(s)})},143:function(e,t){var i=[],n={upMoney:function(e,t){return~~e.money<~~t.money?-1:1},upDate:function(e,t){return e.effectiveEndTime<t.effectiveEndTime?-1:1},getRepeatAttr:function(e){for(var t={},n=[],a=0,o=e.length;a<=o;a++){var s=a===e.length?"":e[a].effectiveEndTime;null==t[s]?(t[s]=1,i.push(n),n=[],n.push(e[a])):n.push(e[a])}},init:function(e){i=[];var t=n;t.getRepeatAttr(e.sort(t.upDate));for(var a=i,o=[],s=1;s<a.length;s++){a[s].sort(t.upMoney);for(var r=0;r<a[s].length;r++)o.push(a[s][r])}return o}};e.exports=n.init},144:function(e,t,i){(function($){function t(e,t){var i=new Image;i.onload=function(){var e=i.width,n=i.height;e>n&&e>=v&&(n=n*v/e),i.onload=null,i=null,t(e,n)},i.src=e}function i(){g.on("mouseenter",p,function(){$(this).find(f).removeClass("hide")}),g.on("mouseleave",p,function(){$(this).find(f).addClass("hide")})}function n(e){$(h).insertAfter(e)}function a(e,t,i,a){var s=e.parents(d),r=s.find(p),c=s.siblings(),f=null,h=null;"undefined"==typeof r[0]&&(n(e),r=e.siblings(p)),c.find(u).removeClass(l),f=c.find(p),o(f,"hide"),i=i>v?v:i,h=r.find("img"),h.attr({src:t,width:i}),r.css({height:"auto"}),r.is(":hidden")&&o(r,"show",a)}function o(e,t,i){var n=300;"show"===t?e.css({width:0,height:0}).show().stop().animate({width:740,height:i},n):e.stop().animate({width:0,height:0},n,function(){e.hide()})}function s(){g.on("click",f,function(e){var t=$(this).parents(p);e.preventDefault(),m.removeClass(l),o(t,"hide")})}function r(){g.on("click",u,function(){var e=$(this).find("img").attr("src"),n=$(this).parent();m=$(this),m.addClass(l).siblings().removeClass(l),t(e,function(t,i){a(n,e,t,i)}),i(),s()})}var l="active",d="[data-node=comments]",c="[data-node=imgPreviewList]",u=c+"> a",p="[data-node=bigImgPreviewStage]",f="[data-action=closeImgPreview]",h='<div data-node="bigImgPreviewStage" class="list-img-big"><span><em data-action="closeImgPreview" class="icon-narrow hide"></em><img></span></div>',g=$("[data-node=discussBox]"),m=($(c),null),v=740;e.exports={init:r}}).call(t,i(1))},145:function(e,t,i){(function($,t){function n(){x()&&(c=f({title:"领取优惠券",modal:!0,fixed:!0,content:h({imgUrl:t.imgpath}),className:"pop-box"}),c.show(),A()),k()}var a,o,s,r,l,d,c,u=i(2),p=i(28),f=(i(146),i(22)),h=i(148),g=i(149),m=i(123),v=i(143),x=i(42),y=$('div[data-node="topGoodInfo"]'),b=y.find('[data-active="coupon"]'),w=[],S=[],C=function(e){u.post(p.get("ticketList"),{validate:!0,data:{shopId:$GLOBAL_CONFIG.shopId,isLogin:t.islogin}}).done(function(e){if(e&&e.success&&200===e.code){o.hide(),w=e.data.shopCoupons.coupons,S=void 0!==e.data.myCoupons.coupons?e.data.myCoupons.coupons:[],S=v(S),w=v(w);for(var t=0,i=w.length;t<i;t++)w[t].effectiveStartTime=m.format(new Date(w[t].effectiveStartTime),"YYYY.MM.DD"),w[t].effectiveEndTime=m.format(new Date(w[t].effectiveEndTime),"YYYY.MM.DD").substr(5,10),w[t].money=~~(w[t].money/100),w[t].usageRule.minAmount=~~(w[t].usageRule.minAmount/100);for(var t=0,i=S.length;t<i;t++)S[t].effectiveStartTime=m.format(new Date(S[t].effectiveStartTime),"YYYY.MM.DD"),S[t].effectiveEndTime=m.format(new Date(S[t].effectiveEndTime),"YYYY.MM.DD").substr(5,10),S[t].money=~~(S[t].money/100),S[t].usageRule.minAmount=~~(S[t].usageRule.minAmount/100);P()}else o.show()}).fail(function(){x()&&o.show()}).always(function(){x()&&(a.hide(),isNaN(e)?d.hide().eq(0).show():d.hide().eq(e||0).show())})},k=function(){a=$('[data-node="ticketLoading"]'),o=$('[data-node="ticketFail"]'),s=$('[data-node="ticketNormal"]'),d=$('[data-node="ticketBox"]'),r=d.find('[data-node="ticketList"]'),l=$('[data-node="ticketLose"]'),0===w.length?C():(a.hide(),d.eq(0).show(),P())},T=function(){s.hide(),r.eq(1).html(g({isMy:!0,myTickets:S})),setTimeout(function(){c.reset()},100)},P=function(){w.length>0?r.eq(0).html(g({isMy:!1,ticketList:w})):l.show(),0===S.length?s.show():T(),setTimeout(function(){c.reset()},100)},I=function(){$(document).on("click",'[data-action="getSuccess"]',function(){$(this).hide()}).on("click",'[data-action="ticketTab"]',function(){if(!$(this).hasClass("active")){var e=$('[data-action="ticketTab"]'),t=e.index($(this)),i=$('[data-node="ticketBox"]');i.hide().eq(t).show(),e.removeClass("active").eq(t).addClass("active"),c.reset()}}).on("click",'[data-action="toGetTicket"]',function(){var e=$('[data-action="ticketTab"]'),t=$('[data-node="ticketBox"]');t.hide().eq(0).show(),e.removeClass("active").eq(0).addClass("active")}).on("click",'[data-node="ticketFail"]',function(){a.show(),C($('[data-node="ticketFail"]').index($(this)))})},L=function(e){setTimeout(function(){e.find('[data-action="getSuccess"]').hide()},2e3)},A=function(){var e,i,n,a={};$(document).on("click",'[data-action="getTicket"]',function(){e=$(this).attr("data-id"),i=$(this),"0"===t.islogin?window.location.href=t.passport_domain+"login/index?redirect="+t.current_url:(n=i.parents("li").eq(0),u.post(p.get("getTicket"),{data:{batchSn:e,userId:t.userId}}).done(function(e){e&&200===e.code?(i.next().text("领取成功").show(),a={money:n.find('[data-node="ticketMoney"]').text(),usageRule:{minAmount:n.find('[data-node="ticketMin"]').text()},effectiveEndTime:n.find('[data-node="ticketEnd"]').text(),effectiveStartTime:n.find('[data-node="ticketStart"]').text()},S.push(a),T(),0===~~e.data.userRemainingAvailableQuantity&&(n.addClass("success"),i.text("领取成功").removeAttr("data-action"))):e&&422===e.code&&e.message.indexOf("领取更多了")!==-1?(i.next().text("领取超限").show(),n.addClass("success"),i.text("领取成功").removeAttr("data-action")):i.next().text("领取失败").show(),L(n)}).fail(function(){i.next().text("领取失败").show(),L(n)}))})},M=function(){b.on("click",function(){n()}),I()};e.exports={init:M}}).call(t,i(1),i(4))},146:function(e,t,i){(function($){var t=i(147),n=i(123),a=function(e,i){for(var a=$('div[data-node="topGoodInfo"]'),o=a.find('[data-node="redlist"]'),s=0,r=e.length;s<r;s++)e[s].redPackBegin=n.format(new Date(e[s].redPackBegin),"YYYY.MM.DD"),e[s].redPackEnd=n.format(new Date(e[s].redPackEnd),"YYYY.MM.DD");o[0].innerHTML=t({redList:e}),i()};e.exports=a}).call(t,i(1))},147:function(e,t,i){var n=i(26);e.exports=n("src/js/widget/goodInfo/redList",function(e,t){"use strict";var i=this,n=(i.$helpers,e.redList),a=i.$each,o=(e.$value,e.$index,i.$escape),s="";return n.length>0&&(s+=" ",a(n,function(e,t){s+=' <li> <div class="ticket-mn">￥<strong>',s+=o(n[t].money),s+='</strong></div> <div class="ticket-tip"> <p>满',s+=o(n[t].baseMoney),s+="元可用</p><span>",s+=o(n[t].redPackBegin),s+="-",s+=o(n[t].redPackEnd),s+='</span> </div><a href="javascript:;" class="btn-ticket" data-redId=',s+=o(n[t].id),s+=' data-action="getRed">领取</a> </li> '}),s+=" "),new String(s)})},148:function(e,t,i){var n=i(26);e.exports=n("src/js/page/goodInfo/ticketDialog",function(e,t){"use strict";var i=this,n=(i.$helpers,i.$escape),a=e.imgUrl,o="";return o+='<div class="tab-quan clearfix"> <a href="javascript:;" class="active" data-action="ticketTab">未领取</a> <a href="javascript:;" data-action="ticketTab">已领取</a> </div> <div class="tab-list"> <div data-node="ticketLoading" class="tab-loading" > <img src="',o+=n(a),o+='/images/public/loading.gif" alt=""> </div> <div data-node="ticketBox" style="display:none;"> <div class="tab-message" data-node="ticketFail">数据加载失败，点击重新加载</div> <ul class="clearfix" data-node="ticketList"></ul> <div class="tab-message" data-node="ticketLose" >优惠券已失效</div> </div> <div data-node="ticketBox" style="display:none;"> <div class="tab-message" data-node="ticketFail">数据加载失败，点击重新加载</div> <div class="tab-message" data-node="ticketNormal">您还没有优惠券，点击去<a href="javascript:;" data-action="toGetTicket">领取</a>吧！</div> <ul class="clearfix" data-node="ticketList"></ul> </div> </div>',new String(o)})},149:function(e,t,i){var n=i(26);e.exports=n("src/js/page/goodInfo/ticketList",function(e,t){"use strict";var i=this,n=(i.$helpers,e.isMy),a=i.$each,o=e.myTickets,s=(e.$value,e.$index,i.$escape),r=e.ticketList,l="";return l+=" ",n?(l+=" ",a(o,function(e,t){l+=' <li class=" bg-pink success"> <em class="icon-quan">券</em> <p>￥<span>',l+=s(o[t].money),l+="</span></p> <p>满<strong>",l+=s(o[t].usageRule.minAmount),l+='</strong>元可用 限该店铺</p> <div class="quan-time">有效期：',l+=s(o[t].effectiveStartTime),l+="－",l+=s(o[t].effectiveEndTime),l+='</div> <a href="javascript:;" >领取成功</a> </li> '}),l+=" "):(l+=" ",a(r,function(e,t){l+=' <li class=" bg-pink"> <em class="icon-quan">券</em> <p>￥<span data-node="ticketMoney">',l+=s(r[t].money),l+='</span></p> <p>满<strong data-node="ticketMin">',l+=s(r[t].usageRule.minAmount),l+='</strong>元可用 限该店铺</p> <div class="quan-time">有效期：<span data-node="ticketStart">',l+=s(r[t].effectiveStartTime),l+='</span>－<span data-node="ticketEnd">',l+=s(r[t].effectiveEndTime),l+='</span></div> <a href="javascript:;" data-id=',l+=s(r[t].batchSn),l+=' data-action="getTicket">点击领取<em class="icon">&#xea57;</em></a> <div class="small-mask" data-action="getSuccess">领取成功</div> </li> '}),l+=" "),new String(l)})},150:function(e,t,i){(function($,t){var n=i(151),a=i(2),o=i(28),s=$('[data-node="shopChoose"]'),r=function(){a.get(o.get("shopChoose"),{data:{itemId:$GLOBAL_CONFIG.productId,shopId:$GLOBAL_CONFIG.shopId}}).done(function(e){e&&e.success&&e.data.items.length>0?s.removeClass("shop-chooseload").removeAttr("style").html(n({shopId:$GLOBAL_CONFIG.shopId,domian:t.mall_domain,data:e.data.items,csid:$GLOBAL_CONFIG.sourceCode})):(s.prev().remove(),s.remove())})},l=function(){var e=s.offset().top,t=$(window).scrollTop(),i=!0,n=$(window).height();t+n>e-50?r():$(window).on("scroll",function(){t=$(window).scrollTop(),t+n>e-50&&i&&(i=!1,r())})};e.exports={init:l}}).call(t,i(1),i(4))},151:function(e,t,i){var n=i(26);e.exports=n("src/js/page/goodInfo/shopChoose",function(e,t){"use strict";var i=this,n=(i.$helpers,i.$each),a=e.data,o=(e.$value,e.$index,i.$escape),s=e.domian,r=e.shopId,l=e.csid,d="";return d+='<ul class="clearfix"> ',n(a,function(e,t){d+=' <li> <a target="_blank" href="',d+=o(s),d+="item/",d+=o(r),d+="-",d+=o(e.itemId),d+=".html?csid=",d+=o(l),d+="\" bp-data=\"{'event_id':'G000P018', 'shop_id': '",d+=o(e.item.shopId),d+="','product_id': '",d+=o(e.itemId),d+='\'}"> <img src="',d+=o(e.item.mainImage),d+='" alt="',d+=o(e.item.name),d+='"> <div class="text">￥<span>',d+=o(e.item.salePrice),d+='</span> <p title="',d+=o(e.item.name),d+='">',d+=o(e.item.name),d+="</p> </div> </a> </li> "}),d+=" </ul>",new String(d)})},152:function(e,t,i){(function($,t){var n=i(153),a=i(2),o=i(28),s=$('[data-node="productChoose"]'),r=function(){a.get(o.get("productChoose"),{data:{itemId:$GLOBAL_CONFIG.productId,shopId:$GLOBAL_CONFIG.shopId}}).done(function(e){e&&e.success&&e.data.items.length>0?(s.removeClass("shop-chooseload").removeAttr("style").html(n({domian:t.mall_domain,data:e.data.items,csid:$GLOBAL_CONFIG.sourceCode})),$('ul[data-node = "lastBanner"]').children().length>5&&$('ul[data-node = "lastBanner"]').bxSlider({slideWidth:1200,minSlides:5,prev:'<a href="javascript:;" class="icon icon-left">&#xe970;</a>',next:'<a href="javascript:;" class="icon icon-right">&#xe98c;</a>',maxSlides:20,moveSlides:5,slideMargin:12,pager:!1})):(s.prev().remove(),s.remove())})},l=function(){var e=s.offset().top,t=$(window).scrollTop(),i=$(window).height(),n=!0;t+i>e-50?r():$(window).on("scroll",function(){t=$(window).scrollTop(),t+i>e-50&&n&&(n=!1,r())})};e.exports={init:l}}).call(t,i(1),i(4))},153:function(e,t,i){var n=i(26);e.exports=n("src/js/page/goodInfo/productChoose",function(e,t){"use strict";var i=this,n=(i.$helpers,i.$each),a=e.data,o=(e.$value,e.$index,i.$escape),s=e.domian,r=e.csid,l="";return l+='<ul class="clearfix" data-node="lastBanner"> ',n(a,function(e,t){l+=' <li> <a target="_blank" href="',l+=o(s),l+="item/",l+=o(e.shopId),l+="-",l+=o(e.id),l+=".html?csid=",l+=o(r),l+='" bp-data=\'{"event_id": "G000P019", "shop_id": "',l+=o(e.shopId),l+='", "product_id": "',l+=o(e.id),l+='"}\'> <img src="',l+=o(e.mainImage),l+='" alt="',l+=o(e.name),l+='"> <div class="text">￥<span>',l+=o(e.salePrice),l+='</span> <p title="',l+=o(e.name),l+='">',l+=o(e.name),l+="</p> </div> </a> </li> "}),l+=" </ul>",new String(l)})},154:function(e,t,i){(function($){var t=i(42),n=i(3),a=function(){$('[data-action="shortcutBanner"]').on("click","a",function(e){var i=$(this);t()||(e.preventDefault(),n({onLogin:function(){window.location.href=i.attr("href")}}))})};e.exports={init:a}}).call(t,i(1))}});