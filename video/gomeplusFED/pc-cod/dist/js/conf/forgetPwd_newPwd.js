webpackJsonp([10],{0:function(e,a,t){(function($,e){var a=t(47),s=t(129),d=t(63),r=t(48),n=t(2),o=t(28),l=t(35),i=t(39);t(41);var c=t(54);c.setPageData("newPwd");var u=$('[data-node="forgetPwdStepThree"]'),f=u.find('[data-node="pwd"]'),v=u.find('[data-node="surePwd"]'),C=u.find("[data-node=rightTip]"),p=u.find("[data-node=sureRightTip]"),m=u.find('[data-node="errorBorderPwd"]'),w=u.find('[data-node="errorBorderSurePwd"]'),h=u.find('[data-node="pwdTip"]'),x=u.find('[data-node="errorPwd"]'),g=u.find('[data-node="errorSurePwd"]'),k=u.find('[data-action="sureBtn"]'),A=u.find("[data-node=publicErr]"),T=u.find("[data-node=publicErrBox]"),q="lg-form-error",z="hide",P="none",b="level-weak",y="level-md",N="level-strong",R=function(){x.text(l.pwd.commonTip).css("color","#f95353"),C.addClass(z),T.addClass(P)},Z=function(){var e=f.val(),a=s(e);return 0===e.length?(m.addClass(q),x.show().text(l.pwd.commonTip).css("color","#f95353"),C.addClass(z),!1):!r.passwordReg(e)||r.checkSpace(e)?(m.addClass(q),x.show().text(l.pwd.commonTip),C.addClass(z),!1):a<27?(m.addClass(q),x.show().text(l.pwd.commonTip),C.addClass(z),!1):(C.removeClass(z),m.removeClass(q),x.hide().text(""),void 0)},S=function(e){var a=f.val(),t=v.val(),n=f.val().length,o=h.find("span");n>20&&f.val(d(f.val(),20));var i=s(a);return m.removeClass(q),i>27&&r.passwordReg(a)&&!r.checkSpace(a)?(h.removeClass(z),x.hide(),i<60?(o.eq(0).addClass(b),o.eq(1).removeClass(y),o.eq(2).removeClass(N)):i>=60&&i<80?(o.eq(0).removeClass(b),o.eq(1).addClass(y),o.eq(2).removeClass(N)):(o.eq(0).removeClass(b),o.eq(1).removeClass(y),o.eq(2).addClass(N)),void(""!==t&&(t!==a?(w.addClass(q),g.text(l.pwdV.err),p.addClass(z)):(w.removeClass(q),g.text(""),p.removeClass(z))))):(x.show().text(l.pwd.commonTip),!1)},V=function(){var e=f.val(),a=v.val();return 0===a.length?(p.addClass(z),!1):m.hasClass(q)?(p.addClass(z),!1):void(e!==a?(w.addClass(q),g.text(l.pwdV.err),p.addClass(z)):(w.removeClass(q),g.text(""),p.removeClass(z)))},B=function(){T.addClass(P);var e=v.val().length;e>20&&v.val(d(v.val(),20))},E=function(){var t=a(f.val()),s=a(v.val()),d=i(t),r={newPassword:d};return T.addClass(P),t||s?t?!m.hasClass(q)&&(x.text(""),m.removeClass(q),s?(g.text(""),w.removeClass(q),p.removeClass(z),void(s!==t?(w.addClass(q),g.text(l.pwdV.err),p.addClass(z)):n.post(o.get("passwordReset"),{data:r}).done(function(a){a.success?(w.removeClass(q),m.removeClass(q),g.text(""),x.text(""),location.href=e.passport_domain+"forgetpwd/step3"):(p.addClass(z),C.addClass(z),T.removeClass(P),A.text(a.message))}).fail(function(){alert("请求错误！")}))):(g.text(l.pwdV.ept),w.addClass(q),p.addClass(z),!1)):(x.text(l.pwd.commonTip),m.addClass(q),C.addClass(z),!1):(x.text(l.pwd.commonTip),m.addClass(q),C.addClass(z),g.text(l.pwdV.ept),w.addClass(q),p.addClass(z),!1)},W=function(){f.placeholder(),v.placeholder(),v.on({keyup:B,blur:V}),f.on({keyup:S,blur:Z,focus:R}),k.on("click",E)};W()}).call(a,t(1),t(4))},46:function(e,a){var t=function(e){return null==e?0:("string"!=typeof e&&(e+=""),e.replace(/[^\x00-\xff]/g,"01").length)};e.exports=t},47:function(e,a){var t=function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")};e.exports=t},48:function(e,a){var t={checkVal:function(e,a){return a.test(e)},isMobileNum:function(e){return/^1[34578][0-9]{9}$/.test(e)},isEmail:function(e){return/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/.test(e)},isCertificate:function(e){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(e)},isCID:function(e){return/^(\d{16}|\d{19})$/.test(e)},isCWord:function(e,a,t){var a=!isNaN(a)&&a>0?a:1,t=!isNaN(t)&&t>0?t:"",s=new RegExp("^[\\u4e00-\\u9fa5]{"+a+","+t+"}$");s.test(e);return s.test(e)},isArray:function(e){return Array.isArray(e)||e instanceof Array},passwordReg:function(e){var a=/^((?=.*?\d)(?=.*?[A-Za-z])|(?=.*?\d)(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，\"\,\:\;；,\.‘’“”：'"\·`【】])|(?=.*?[A-Za-z])(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]))[\dA-Za-z<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]{6,21}$/;return a.test(e)},checkSpace:function(e){var a=/\s+/;return a.test(e)},checkRefCode:function(e){var a=/^[0-9a-zA-Z]{8}$/;return a.test(e)},checkNickName:function(e){var a=/^([\u4e00-\u9fa5]|[0-9a-zA-Z_-])+$/;return a.test(e)},isMsgCode:function(e){var a=/^\d{6}$/;return a.test(e)}};e.exports=t},63:function(e,a){function t(e,a){return e.length>a?e.substr(0,a):e}e.exports=t},129:function(e,a,t){function s(e){var a=0,t=d(e);return e?(a+=t<=6?5:t>=11?25:10,a+=e.match(/[a-z]/i)?e.match(/[a-z]/)&&e.match(/[A-Z]/)?20:10:0,a+=e.match(/[0-9]/)?e.match(/[0-9]/g).length>=3?20:10:0,a+=e.match(/\W/)?e.match(/\W/g).length>1?25:10:0,a+=e.match(/[0-9]/)&&e.match(/[a-z]/i)?e.match(/\W/)?e.match(/[a-z]/)&&e.match(/[A-Z]/)?5:3:2:0):0}var d=t(46);e.exports=s}});