webpackJsonp([21],{0:function(t,e,a){(function($,t){var e=(a(41),a(2)),i=a(28),n=a(47),s=(a(52),a(36)),d=a(35),o=a(39);a(194),a(195),a(196),a(197);a(198);var r=a(54);r.setPageData("register");var c=$("[data-node=lg-form]"),l=c.find("[data-node='phone_number']"),p=c.find("[data-node='input_phone_number']"),u=c.find("[data-node='tip_phone_number']"),f=c.find("[data-node='input_msg_test']"),m=c.find("[data-node='tip_msg_test']"),v=c.find("[data-node=tip_msg_test]"),h=c.find("[data-node='password']"),g=c.find("[data-node='input_password']"),b=c.find("[data-node='tip_pass']"),_=c.find("[data-node='password_confirm']"),C=c.find("[data-node='input_password_confirm']"),y=c.find("[data-node='code_input']"),w=(c.find("[data-node='code_skip']"),c.find("[data-node='code_complete']"),c.find("[data-node=code_span]"),c.find("[data-node=code_allright]"),c.find("[data-node=complete]"));$("[data-node=input_phone_number],[data-node=input_msg_test],[data-node=input_password],[data-node=input_password_confirm],[data-node=code_input]").placeholder(),w.css("background","#CCC"),$.fn.extend({tipVisible:function(t){var e=t||!1;"SPAN"==this[0].nodeName?e?$(this).html(e).css({visibility:"visible",color:"#F95353"}):$(this).css({visibility:"visible",color:"#F95353"}):$(this).css("visibility","visible")},tipHide:function(){$(this).css("visibility","hidden")}});var k=function(){if(""==n(p.val()))return function(){l.addClass("lg-form-error").attr("data-verification","1"),u.tipVisible(d.tel.ept)}();var a=l.attr("data-verification"),r=h.attr("data-pass"),c=_.attr("data-passconfirm");if(0==a){if(0==a&&""==n(f.val()))return v.tipVisible(d.msgCode.tipEpt);if(0==a&&6==!f.val().length)return v.tipVisible(d.msgCode.tipErr);if(""==n(g.val())&&0==a)return b.tipVisible();if(""==n(C.val()))return $("[data-node='tip_password_confirm']").tipVisible(d.pwdV.ept);if(y.attr("data-userid")===!1)return s("推荐码错误");if(0==a&&0==r&&0==c&&$("[data-node='check_agreement']").hasClass("lg-radio-true")&&(""==y.attr("data-userid")||0!=y.attr("data-userid"))){var m={mobile:p.val(),password:o(g.val()),verifyCode:f.val()};0==y.attr("data-code")&&y.attr("data-userId")&&(m.membershipRefereeCode=y.val()),e.post(i.get("registSubmit"),{data:m}).done(function(e,a,i){e.success?location.href=t.passport_domain+"regist/indexnickname":"881006"==e.code||"100010"==e.code?v.tipVisible(d.msgCode.tipWrong):"881007"==e.code?(b.html(e.message).show(),$("[data-node=password_allright]").tipHide()):422==e.code?v.tipVisible(d.msgCode.tipWrong):s(e.message)}).fail(function(t,e,a){s("数据请求失败 请稍后尝试")})}}},V=function(){var t=l.attr("data-verification"),a=$("[data-node='tip_msg_test']"),n=$("[data-node='get_verifyCode']");if("0"==t){if(n.html()!=d.msgCode.btnDefault)return void a.tipVisible(d.msgCode.tipDisabled);var o={mobile:$("[data-node = 'phone_number'] input[type = 'text']").val()};e.post(i.get("getVerificationCode"),{data:o}).done(function(t,e,i){if(t.success){var s=60;n.css("background","#DDD").html(s+d.msgCode.btnAfterSend),m.html(d.msgCode.tipSend).css({visibility:"visible",color:"#F95353"});var o=setInterval(function(){1==s?(clearInterval(o),m.css("visibility","hidden"),n.html(d.msgCode.btnDefault),a.tipHide()):(s--,n.html(s+d.msgCode.btnAfterSend))},1030)}else"该手机号已被注册"==t.message?u.tipVisible(d.tel.errBack):"发送次数超过限制"==t.message?a.tipVisible(d.msgCode.tipLimitEdit):"验证码错误"==t.message?a.tipVisible(d.msgCode.tipWrong):a.tipVisible(t.message),$("[data-node=phone_number_allright]").tipHide()}).fail(function(t,e,a){s("数据请求失败 请稍后尝试")})}else""==p.val()?u.tipVisible(d.tel.ept):u.tipVisible(d.tel.err),l.addClass("lg-form-error")};f.on("textchange",function(){$("[data-node='tip_msg_test']").tipHide()}),$("[data-node='get_verifyCode']").on("click",V),$("[data-node=input_msg_test]").on("textchange",function(){var t=/^[0-9]*$/;($(this).val().length<6||!t.test($(this).val()))&&(0==$(this).val().length?$("[data-node=tip_msg_test]").tipVisible(d.msgCode.tipEpt):$("[data-node=tip_msg_test]").tipVisible(d.msgCode.tipErr))}),w.unbind("input").on("click",k)}).call(e,a(1),a(4))},46:function(t,e){var a=function(t){return null==t?0:("string"!=typeof t&&(t+=""),t.replace(/[^\x00-\xff]/g,"01").length)};t.exports=a},47:function(t,e){var a=function(t){return t.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")};t.exports=a},48:function(t,e){var a={checkVal:function(t,e){return e.test(t)},isMobileNum:function(t){return/^1[34578][0-9]{9}$/.test(t)},isEmail:function(t){return/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/.test(t)},isCertificate:function(t){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(t)},isCID:function(t){return/^(\d{16}|\d{19})$/.test(t)},isCWord:function(t,e,a){var e=!isNaN(e)&&e>0?e:1,a=!isNaN(a)&&a>0?a:"",i=new RegExp("^[\\u4e00-\\u9fa5]{"+e+","+a+"}$");i.test(t);return i.test(t)},isArray:function(t){return Array.isArray(t)||t instanceof Array},passwordReg:function(t){var e=/^((?=.*?\d)(?=.*?[A-Za-z])|(?=.*?\d)(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，\"\,\:\;；,\.‘’“”：'"\·`【】])|(?=.*?[A-Za-z])(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]))[\dA-Za-z<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]{6,21}$/;return e.test(t)},checkSpace:function(t){var e=/\s+/;return e.test(t)},checkRefCode:function(t){var e=/^[0-9a-zA-Z]{8}$/;return e.test(t)},checkNickName:function(t){var e=/^([\u4e00-\u9fa5]|[0-9a-zA-Z_-])+$/;return e.test(t)},isMsgCode:function(t){var e=/^\d{6}$/;return e.test(t)}};t.exports=a},52:function(t,e,a){(function($){var t=document.createElement("input"),e="oninput"in t&&(!("documentMode"in document)||document.documentMode>9),a=function(t){return"INPUT"===t.nodeName&&("text"===t.type||"password"===t.type)},i=null,n=null,s=null,d={get:function(){return s.get.call(this)},set:function(t){n=t,s.set.call(this,t)}},o=function(t){i=t,n=t.value,s=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(i,"value",d),i.attachEvent("onpropertychange",c)},r=function(){i&&(delete i.value,i.detachEvent("onpropertychange",c),i=null,n=null,s=null)},c=function(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==n&&(n=e,$(i).trigger("textchange"))}};e?$(document).on("input",function(t){"TEXTAREA"!==t.target.nodeName&&$(t.target).trigger("textchange")}):$(document).on("focusin",function(t){a(t.target)&&(r(),o(t.target))}).on("focusout",function(){r()}).on("selectionchange keyup keydown",function(){i&&i.value!==n&&(n=i.value,$(i).trigger("textchange"))})}).call(e,a(1))},129:function(t,e,a){function i(t){var e=0,a=n(t);return t?(e+=a<=6?5:a>=11?25:10,e+=t.match(/[a-z]/i)?t.match(/[a-z]/)&&t.match(/[A-Z]/)?20:10:0,e+=t.match(/[0-9]/)?t.match(/[0-9]/g).length>=3?20:10:0,e+=t.match(/\W/)?t.match(/\W/g).length>1?25:10:0,e+=t.match(/[0-9]/)&&t.match(/[a-z]/i)?t.match(/\W/)?t.match(/[a-z]/)&&t.match(/[A-Z]/)?5:3:2:0):0}var n=a(46);t.exports=i},194:function(t,e,a){(function($){var t=a(47),e=a(35),i=function(){var a=/^1[3|4|5|7|8][0-9]\d{8,8}$/g,i=function(t){$("[data-node='phone_number']").addClass("lg-form-error").attr("data-verification","1"),$("[data-node='tip_phone_number']").html(t).css("visibility","visible")},n=this.value;return""==t(n)?i(e.tel.ept):a.test(n)?($("[data-node='phone_number']").removeClass("lg-form-error").attr("data-verification","0"),$("[data-node='tip_phone_number']").css("visibility","hidden"),$("[data-node='phone_number_allright']").css("visibility","visible"),void 0):i(e.tel.err)};$("[data-node='phone_number'] input[type = 'text']").on({blur:i,focus:function(){$("[data-node='phone_number']").removeClass("lg-form-error"),$("[data-node='phone_number_allright']").css("visibility","hidden"),$("[data-node='tip_phone_number']").css("visibility","hidden")}})}).call(e,a(1))},195:function(t,e,a){(function($){var t=a(47),e=a(48),i=a(129),n=(a(52),a(35)),s=$("[data-node='password']"),d=$("[data-node='input_password']"),o=$("[data-node=password_allright]"),r=$("[data-node=input_password_confirm]"),c=$("[data-node=password_confirm_allright]"),l=$("[data-node=password_confirm]"),p=$("[data-node=tip_password_confirm]"),u=$("[data-node='tip_pass']");$.fn.extend({visible:function(){$(this).css("visibility","visible")},hidden:function(){$(this).css("visibility","hidden")}});var f={onfocus:function(){u.css({visibility:"visible",color:"#F95353"})},input:function(){var a=t(d.val()),f=r.val();""!=a?($("[data-node='pass_level']").css("display","block"),i(a)<60?($("[data-node='level_strong'],[data-node='level_md']").css("background-color","#CCC"),$("[data-node='level_weak']").css("background-color","#e60012"),i(a)<=27||!e.passwordReg(a)||a.length<6?(u.html(n.pwd.commonTip).show(),s.attr("data-pass","1")):(u.html(n.pwd.commonTip).hide(),s.attr("data-pass","0"))):i(a)>=60&&i(a)<80?e.checkSpace(d.val())||($("[data-node='level_weak'],[data-node = 'level_strong']").css("background-color","#CCC"),$("[data-node='level_md']").css("background-color","#f39800"),s.attr("data-pass","0")):i(a)>=80&&(e.checkSpace(d.val())||($("[data-node='level_weak'],[data-node = 'level_md']").css("background-color","#CCC"),$("[data-node='level_strong']").css("background-color","#22ac38"),s.attr("data-pass","0"))),a.length>=6&&a.length<=20&&e.passwordReg(a)?i(a)>27&&!e.checkSpace(d.val())?(o.visible(),s.attr("data-pass","0")):e.checkSpace(d.val())&&(o.hidden(),s.attr("data-pass","1"),u.html(n.pwd.commonTip).show()):(o.hidden(),s.attr("data-pass","1")),f==a||0!=l.attr("data-passconfirm")||e.checkSpace(d.val())?f==a&&1==l.attr("data-passconfirm")?("visible"==o.css("visibility")&&(l.attr("data-passconfirm",0),c.visible()),p.hidden()):f!=a&&1==l.attr("data-passconfirm")&&e.checkSpace(d.val())?(c.hidden(),p.hidden()):c.hidden():(l.attr("data-passconfirm",1),c.hidden(),p.visible())):(e.checkSpace(d.val())&&(u.html(n.pwd.commonTip).show(),f==d.val()&&p.hidden()),$("[data-node='pass_level']").css("display","none"),u.html(n.pwd.commonTip).show(),s.attr("data-pass","1"))}};d.on({focus:f.onfocus,textchange:f.input})}).call(e,a(1))},196:function(t,e,a){(function($){var t=(a(52),a(48)),e=a(35),i=$("[data-node='input_password_confirm']"),n=$("[data-node='tip_password_confirm']"),s=$("[data-node=password_allright]"),d=$("[data-node='input_password']").val(),o=$("[data-node='password_confirm']"),r=$("[data-node=password_confirm_allright]"),c={onfocus:function(){1==o.attr("data-passConfirm")&&""==i.val()&&(n.html(e.pwdV.ept).css({color:"#F95353",visibility:"visible"}),r.css("visibility","hidden"))},onblur:function(){var t=this.value;d=$("[data-node='input_password']").val(),""==t?(n.css("visibility","hidden"),o.attr("data-passConfirm","1"),r.css("visibility","hidden")):d==t?"visible"==s.css("visibility")?(n.css("visibility","hidden"),o.attr("data-passConfirm","0"),r.css("visibility","visible")):n.hidden():(n.html(e.pwdV.err).css("visibility","visible"),o.attr("data-passConfirm","1"),r.css("visibility","hidden"))},oninput:function(){var a=this.value,i=$("[data-node='input_password']").val();""==a?(n.html(e.pwdV.ept),o.attr("data-passConfirm","1"),o.attr("data-passConfirm","1")):i==a?"visible"==s.css("visibility")?(n.css("visibility","hidden"),o.attr("data-passConfirm","0"),r.css("visibility","visible")):n.hidden():(""==a?(n.html(e.pwdV.ept),n.css("visibility","visible")):t.checkSpace(i)||(n.html(e.pwdV.err),n.css("visibility","visible")),r.css("visibility","hidden"),o.attr("data-passConfirm","1"))}};i.on({focus:c.onfocus,blur:c.onblur,textchange:c.oninput})}).call(e,a(1))},197:function(t,e,a){(function($){var t=function(){$("[data-node='mask']").css("display","block")},e=function(){$("[data-node=check_agreement]").toggleClass("lg-radio-true"),$("[data-node=check_agreement]").hasClass("lg-radio-true")?$("[data-node=complete]").css("background","#e71246"):$("[data-node=complete]").css("background","#CCC")};$("[data-node=agreement]").on("click",t),$("[data-node=check_agreement]").on("click",e),$("[data-node=pc-btnh45]").on("click",function(){$("[data-node=mask]").css("display","none"),$("[data-node=check_agreement]").addClass("lg-radio-true"),$("[data-node=complete]").css("background","#e71246")}),$("[data-node=close_mask]").on("click",function(){$("[data-node=mask]").css("display","none"),$("[data-node=check_agreement]").removeClass("lg-radio-true"),$("[data-node=complete]").css("background","#CCC")})}).call(e,a(1))},198:function(t,e,a){(function($){var e=a(2),i=a(28),n=a(47),s=$("[data-node=lg-form]"),d=s.find("[data-node='code_input']"),o=(s.find("[data-node='code_skip']"),s.find("[data-node='code_complete']"),s.find("[data-node=code_span]")),r=s.find("[data-node=code_allright]"),c=a(35),l={onfocus:function(){o.css("visibility","hidden"),r.css("visibility","hidden")},onblur:function(){var t=d.val();""!=n(d.val())?e.post(i.get("checkRecommendationCode"),{data:{referralCode:t}}).done(function(t,e,a){t.success?(d.attr({"data-code":"0","data-userId":t.data.userId}),r.css("visibility","visible")):(d.attr({"data-code":"1","data-userId":"false"}),o.html(c.refCode.err).css({visibility:"visible",color:"#F95353"}),r.css("visibility","hidden"))}).fail(function(t,e,a){alert("数据请求失败 请稍后尝试")}):(d.attr({"data-userId":""}),d.val().length>0&&o.html(c.refCode.err).css({visibility:"visible",color:"#F95353"}))},oninput:function(){var t=d.val();""!=n(d.val())?d.attr({"data-userId":t}):d.attr({"data-userId":""})}},p=function(){d.on({focus:l.onfocus,blur:l.onblur,input:l.oninput})};t.exports=p()}).call(e,a(1))}});