webpackJsonp([12],{"0DIO":function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){l.default.post("/collectdelete.json",{data:{ids:t},success:function(t){e&&e(t)},error:function(){(0,a.default)("网络有问题，请稍后再试")}})}Object.defineProperty(e,"__esModule",{value:!0});var r=n("3o3C"),l=o(r),s=n("9Y5R"),a=o(s);e.default=i},"2roW":function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e){!function(){var e=function(t){var e,n;(t=t||document.querySelector(t))&&t.addEventListener("touchstart",function(o){e=o.touches[0].pageY,n=t.scrollTop,n<=0&&(t.scrollTop=1),n+t.offsetHeight>=t.scrollHeight&&(t.scrollTop=t.scrollHeight-t.offsetHeight-1)},!1)};"undefined"!=typeof window&&void 0===t?window.ScrollFix=e:t.exports=e}()},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e){if(o(this,t),!e||e===window)return null;if(!(e instanceof HTMLElement))throw new Error("parameter 1 must be a HTMLElement instance!");this.win=e;var n=e.querySelector(".localScrollFix-fixDom");n?this.fixDom=n:this.createFixDom(),this.isArrived=!1,this.update()}return i(t,[{key:"createFixDom",value:function(){this.win.insertAdjacentHTML("beforeend",'<div class="localScrollFix-fixDom" style="margin: 0; padding: 0"></div>'),this.fixDom=this.win.querySelector(".localScrollFix-fixDom")}},{key:"removeFixDom",value:function(){this.win.removeChild(this.fixDom),this.fixDom=null}},{key:"arrived",value:function(){this.isArrived=!0,this.removeFixDom()}},{key:"update",value:function(){if(!this.isArrived){var t=this.computerFixDomPaddingTop();t>=0?this.fixDom.style.paddingTop=t+3+"px":this.arrived()}}},{key:"computerFixDomPaddingTop",value:function(){var t=this.fixDom,e=this.win,n=t.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom,i=window.getComputedStyle(e,null),r=i.paddingBottom,l=i.borderBottomWidth;return o-parseFloat(r)-parseFloat(l)-n}}]),t}();e.default=r,window.LocalScrollFix=r}])})},function(t,e,n){"use strict";var o=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n};e.a=o},function(t,e,n){"use strict";e.a=function(t,e,n){var o,i,r,l,s=0;n||(n={});var a=function(){s=!1===n.leading?0:Date.now(),o=null,l=t.apply(i,r),o||(i=r=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return i=this,r=arguments,c<=0||c>e?(o&&(clearTimeout(o),o=null),s=u,l=t.apply(i,r),o||(i=r=null)):o||!1===n.trailing||(o=setTimeout(a,c)),l};return u.cancel=function(){clearTimeout(o),s=0,o=i=r=null},u}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){throw new Error("2 arguments required, but only "+t+" present.")}function r(){return/iphone/i.test(window.navigator.userAgent)}function l(t){return'<div style="text-align: center;font-size: 14px;line-height: 50px;">'+t+"</div>"}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),a=n(2),u=n(1),c=n.n(u),d=n(0),f=n.n(d),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(0),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i(1),l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o(this,t),!(e instanceof HTMLElement))throw new Error("parameter 1 must be a HTMLElement instance!");if("function"!=typeof r)throw new Error("parameter 2 must be a function!");this.container=e,this.loadMoreFn=r,this._options=n.i(a.a)({},t.defaults,l),this.isLock=this._options.isInitLock,this.hasMore=!0,this.win=this._options.window,this.windowHeight=window.innerHeight,this.createBottomDom(),this.fixLocalScroll(),this.scrollListener=this.scrollListener.bind(this),this.resizeListener=this.resizeListener.bind(this),this.scrollListenerWrapThrottle=n.i(s.a)(this.scrollListener,50),this.resizeListenerWrapThrottle=n.i(s.a)(this.resizeListener,50),this.attachScrollListener()}return h(t,[{key:"fixLocalScroll",value:function(){this.win!==window&&r()?(this._options.useLocalScrollFix&&(this.localScrollFix=new c.a(this.win)),this._options.useScrollFix&&new f.a(this.win)):(this._options.useLocalScrollFix=!1,this._options.useScrollFix=!1)}},{key:"createBottomDom",value:function(){this.container.insertAdjacentHTML("beforeend",'<div class="scrollload-bottom">'+this._options.loadingHtml+"</div>"),this.bottomDom=this.container.querySelector(".scrollload-bottom")}},{key:"showNoDataDom",value:function(){this.bottomDom.innerHTML=this._options.noDataHtml}},{key:"showLoadingDom",value:function(){this.bottomDom.innerHTML=this._options.loadingHtml}},{key:"showExceptionDom",value:function(){this.bottomDom.innerHTML=this._options.exceptionHtml}},{key:"scrollListener",value:function(){this.isLock||this.isBottom()&&(this.isLock=!0,this.loadMoreFn.call(this,this))}},{key:"isBottom",value:function(){var t=this.win,e=this.bottomDom,n=this.windowHeight,o=e.getBoundingClientRect().top,i=void 0;if(t===window)i=n;else{var r=t.getBoundingClientRect(),l=r.height,s=r.top;i=l,o-=s}return o-i<=this._options.threshold}},{key:"resizeListener",value:function(){this.win===window&&(this.windowHeight=window.innerHeight),this.scrollListener()}},{key:"attachScrollListener",value:function(){this.win.addEventListener("scroll",this.scrollListenerWrapThrottle),this.win.addEventListener("resize",this.resizeListenerWrapThrottle),this.scrollListener()}},{key:"detachScrollListener",value:function(){this.win.removeEventListener("scroll",this.scrollListenerWrapThrottle),this.win.removeEventListener("resize",this.resizeListenerWrapThrottle)}},{key:"lock",value:function(){this.isLock=!0}},{key:"unLock",value:function(){this.isLock=!1,this.hasMore&&this.scrollListener(),this._options.useLocalScrollFix&&this.localScrollFix.update()}},{key:"noData",value:function(){this.lock(),this.hasMore=!1,this.showNoDataDom(),this._options.useLocalScrollFix&&!this.localScrollFix.isArrived&&this.localScrollFix.arrived(),this.detachScrollListener()}},{key:"refreshData",value:function(){this.container.querySelector(".scrollload-bottom")?this.showLoadingDom():this.createBottomDom(),this.isLock=!1,this.hasMore=!0,this._options.useLocalScrollFix&&(this.localScrollFix=new c.a(this.win)),this.attachScrollListener()}},{key:"throwException",value:function(){this.showExceptionDom()}},{key:"solveException",value:function(){this.hasMore?(this.showLoadingDom(),this.unLock()):this.showNoDataDom()}},{key:"setOptions",value:function(t){n.i(a.a)(this._options,t)}},{key:"getOptions",value:function(){return this._options}}],[{key:"setGlobalOptions",value:function(e){n.i(a.a)(t.defaults,e)}}]),t}();p.defaults={isInitLock:!1,threshold:10,window:window,useLocalScrollFix:!1,useScrollFix:!1,loadingHtml:l("加载中..."),noDataHtml:l("没有更多数据了"),exceptionHtml:l("出现异常")},e.default=p,window.Scrollload=p}])})},"3o3C":function(t,e,n){"use strict";(function(e){var o=n("w87c"),i=function(t,n){var i={url:o.page.domain+"api"+t,type:n.type,dataType:"json",timeout:3e4};return e.extend(!0,i,n),e.ajax(i)},r={};["get","post"].forEach(function(t){r[t]=function(e,n){return n=n||{},n.type=t.toUpperCase(),i(e,n)}}),t.exports=r}).call(e,n("Dg8Y"))},"4ajQ":function(t,e,n){var o=n("Wdy1");o(o.S+o.F*!n("qs+f"),"Object",{defineProperty:n("GCs6").f})},"9Y5R":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),n("G3eO");var o,i,r,l=function(){},s={delay:2e3,class:"pub-toast",position:{left:"center",top:"center"},onShow:l,onHide:l},a=function(e,n){if(!e)throw Error("msg is required!");var l=t.extend({},s,n||{}),a=function(){clearTimeout(o),o=null,i.hide()};i?o&&a():i=t("<div>").css({position:"fixed"}).appendTo(document.body),i.removeClass(r).addClass(l.class).html(e).show();var u=i.width(),c=i.height(),d=window.innerWidth,f=window.innerHeight,h=l.position,p=h.left,v=h.top;"center"===p&&(p=(d-u)/2+"px"),"center"===v&&(v=(f-c)/2+"px"),i.css({left:p,top:v}),function(){r=l.class,l.onShow(i),o=setTimeout(function(){a(),l.onHide(i)},l.delay)}()};e.default=a}).call(e,n("Dg8Y"))},AKpA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{1:'<i class="live"></i>直播',2:"未开始",3:"回看"}[t]}},C4MV:function(t,e,n){t.exports={default:n("rKx+"),__esModule:!0}},FJ4y:function(t,e,n){"use strict";function o(t,e){return"string"!=typeof t&&(t=(0,r.default)(t)),e.substring(0,e.length-t.length)+t}Object.defineProperty(e,"__esModule",{value:!0});var i=n("mvHQ"),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=o},G3eO:function(t,e){},MRU9:function(t,e){},O7yE:function(t,e,n){"use strict";(function(t){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("Zrlr"),r=o(i),l=n("wxAW"),s=o(l),a=function(){function e(n){var o=this;(0,r.default)(this,e),this.options=n||{},this.minHeight=this.options.minHeight||window.screen.height/2;t("body").append('<div class="back-top" style="display: none;opacity: 0;" id="back-top"><em class="icon-19"></em></div>'),this.ele=t("#back-top"),this.ele.on("click",function(){o._scrollToTop(500)}),setTimeout(function(){o.ele.css({opacity:1})},0),this.debounceFunc=this._debounce(this._controlButton.bind(this)),t(window).on("scroll",this.debounceFunc),t(window).on("load",this.debounceFunc)}return(0,s.default)(e,[{key:"_controlButton",value:function(){t(window).scrollTop()>this.minHeight?this.ele.show():this.ele.hide()}},{key:"hide",value:function(){this.ele.hide()}},{key:"show",value:function(){this._controlButton()}},{key:"_scrollToTop",value:function(t){var e=window.scrollY,n=Math.PI/Math.floor(t/15),o=e/2,i=0,r=void 0,l=setInterval(function(){0!=window.scrollY?(i+=1,r=o-Math.floor(o*Math.cos(i*n)),window.scrollTo(0,e-r)):clearInterval(l)},15)}},{key:"_debounce",value:function(t,e,n){var o=void 0;return function(){function i(){o=null,n||t.apply(r,l)}var r=this,l=arguments,s=n&&!o;clearTimeout(o),o=setTimeout(i,e),s&&t.apply(r,l)}}}]),e}();e.default=a}).call(e,n("Dg8Y"))},RK5D:function(t,e,n){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function o(e){if(!_)return!1;r.default.get("/collectList.json",{data:{cursor:g,size:y,order:"desc"},success:function(n){g=n.data.cursor,n.data.collect_data||(n.data.collect_data=[]);var o=n.data.collect_data,i=x.find("a.item").length,r=n.code;if(200001==r)return location.href=$CONFIG.loginUrl,!1;if(200!=r)return e.throwException(),(0,d.default)(n.message),!1;o.length<y&&(i<y&&(e._options.noDataHtml=""),e.noData(),_=!1);var l=(0,h.default)(o);x.find('[data-node="listContent"]').append(t(l)),e.unLock()},error:function(t){e.throwException(),(0,d.default)("网络请求异常")}})}n("MRU9"),n("1+C1");var i=n("3o3C"),r=e(i),l=n("2roW"),s=e(l),a=n("O7yE"),u=e(a),c=n("9Y5R"),d=e(c),f=n("W6Ci"),h=e(f),p=n("U6gM"),v=e(p),m=n("0DIO"),w=e(m);(0,v.default)();var g=$CONFIG.cursor,y=10,_=$CONFIG.loadMore,x=t('[data-node="mainList"]');if(!t('[data-node="empty"]').length){var b=new s.default(x[0],function(t){_?o(t):(t._options.noDataHtml="",t.noData())},{isInitLock:!1,loadingHtml:'<div class="top-line no-more"><p>加载中...</p></div>',noDataHtml:'<div class="top-line no-more"><span class="line-left"></span><p>没有更多了</p><span class="line-right"></span></div>',exceptionHtml:'<div class="top-line no-more" data-node="errorNode"><p>出错啦，点我重试</p></div>'});x.on("click",'[data-node="errorNode"]',function(){b.solveException()}),x.on("click",'[data-action="delOffline"]',function(e){var n=t(this).parents('[data-node="item"]'),o=n.data("id");return(0,w.default)(o,function(t){200!=t.code?(0,d.default)(t.message):(0,d.default)("删除成功",{onHide:function(){location.reload()}})}),!1}),new u.default}}).call(e,n("Dg8Y"))},U6gM:function(t,e,n){"use strict";(function(t){function n(){t('[data-node="header"]').find('[data-action="back"]').on("click",function(){return history.length<1?location.href="/user/index.html":history.back(),!1})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}).call(e,n("Dg8Y"))},W6Ci:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t){for(var e="",n=void 0,o=void 0,i=void 0,r=void 0,s=0,u=t.length;s<u;s++){r=t[s].collect_id,n=t[s].video_info,o=parseInt(n.video_type),i="sv".charAt(o);var d="";0==o?(t[s].flag=(0,a.default)(n.live_status),d="live-flag"):(t[s].flag=(0,l.default)(n.length),d="item-flag"),e+='<a data-node="item" data-id="'+r+'" class="item" href="/'+i+"/"+t[s].video_id+'.html">\n\t\t\t<div class="item-img">\n\t\t\t\t<img src="'+n.image+'">\n\t\t\t\t<div class="'+d+'">'+t[s].flag+'</div>\n\t\t\t</div>\n\t\t\t<div class="item-info">\n\t\t\t\t<h2>'+n.title+"</h2>",0==o&&(e+="<p>"+(0,c.default)(1e3*n.start_time,"yyyy-MM-dd hh:mm")+"</p>"),0!=n.status&&(e+='<div class="over">\n\t\t\t\t\t\t<span class="offline">已下线</span>\n\t\t\t\t\t\t<em data-action="delOffline" class="del icon-27"></em>\n\t\t\t\t\t</div>'),e+="</div></a>"}return e}Object.defineProperty(e,"__esModule",{value:!0});var r=n("ZOV9"),l=o(r),s=n("AKpA"),a=o(s),u=n("h/5q"),c=o(u);e.default=i},ZOV9:function(t,e,n){"use strict";function o(t){var e=(0,r.default)(t),n=parseInt(e.day),o=parseInt(e.hour);return n>0?e.day+":"+e.hour+":"+e.min+":"+e.sec:o>0?e.hour+":"+e.min+":"+e.sec:e.min+":"+e.sec}Object.defineProperty(e,"__esModule",{value:!0});var i=n("iadN"),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=o},Zbun:function(t,e,n){var o=n("iANj"),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},Zrlr:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},"h/5q":function(t,e,n){"use strict";function o(t,e){var n=new Date(t),o={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in o)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},iadN:function(t,e,n){"use strict";function o(t){var e=0,n=0,o=0,i=0,l={},s=Math.floor;return t>0&&(e=s(t/1e3),e>=60&&(n=s(e/60),e%=60),n>=60&&(o=s(n/60),n%=60),o>=24&&(i=s(o/24),o%=24)),l.day=(0,r.default)(i,"00"),l.hour=(0,r.default)(o,"00"),l.min=(0,r.default)(n,"00"),l.sec=(0,r.default)(e,"00"),l}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=n("FJ4y"),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},mvHQ:function(t,e,n){t.exports={default:n("Zbun"),__esModule:!0}},"rKx+":function(t,e,n){n("4ajQ");var o=n("iANj").Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},wxAW:function(t,e,n){"use strict";e.__esModule=!0;var o=n("C4MV"),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i.default)(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()}},["RK5D"]);