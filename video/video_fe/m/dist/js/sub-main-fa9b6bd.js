webpackJsonp([7],{"0B8D":function(t,e,n){"use strict";function o(){var t=window.localStorage;if(!t)return!0;try{return t.setItem("test","1"),t.removeItem("test"),!1}catch(t){return!0}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},"1E00":function(t,e,n){"use strict";(function(t){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("Zrlr"),a=o(i),r=n("wxAW"),l=o(r),s=n("9Y5R"),u=o(s),c=n("lq7/"),f=o(c),d=function(){function e(t){(0,a.default)(this,e),this.parameter=t,this._init(t)}return(0,l.default)(e,[{key:"_init",value:function(e){var n=t('[data-node="shareMask"]');n.on("click","em",function(){n.hide()}),t(e.selector+"").on("click",function(){f.default?n.show():(0,u.default)("请使用浏览器自带分享功能",{delay:2500,position:{left:"center",top:"51%"}})})}}]),e}();e.default=d}).call(e,n("Dg8Y"))},"2TA9":function(t,e,n){"use strict";var o=n("h/5q"),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t,e){var n="";t=1e3*("string"==typeof t?parseInt(t):t);var o,a=new Date(t).getTime(),r=(new Date).getTime(),l=r-a,s=e||30;return l<6e4?n="刚刚发布":l>=6e4&l<36e5?(o=Math.floor(l/6e4),n=o+"分钟前"):l>=36e5&l<864e5?(o=Math.floor(l/36e5),n=o+"小时前"):l>=864e5&l<864e5*s?(o=Math.floor(l/864e5),n=o+"天前"):n=(0,i.default)(t,"yyyy-MM-dd"),n};t.exports=a},"2roW":function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e){!function(){var e=function(t){var e,n;(t=t||document.querySelector(t))&&t.addEventListener("touchstart",function(o){e=o.touches[0].pageY,n=t.scrollTop,n<=0&&(t.scrollTop=1),n+t.offsetHeight>=t.scrollHeight&&(t.scrollTop=t.scrollHeight-t.offsetHeight-1)},!1)};"undefined"!=typeof window&&void 0===t?window.ScrollFix=e:t.exports=e}()},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e){if(o(this,t),!e||e===window)return null;if(!(e instanceof HTMLElement))throw new Error("parameter 1 must be a HTMLElement instance!");this.win=e;var n=e.querySelector(".localScrollFix-fixDom");n?this.fixDom=n:this.createFixDom(),this.isArrived=!1,this.update()}return i(t,[{key:"createFixDom",value:function(){this.win.insertAdjacentHTML("beforeend",'<div class="localScrollFix-fixDom" style="margin: 0; padding: 0"></div>'),this.fixDom=this.win.querySelector(".localScrollFix-fixDom")}},{key:"removeFixDom",value:function(){this.win.removeChild(this.fixDom),this.fixDom=null}},{key:"arrived",value:function(){this.isArrived=!0,this.removeFixDom()}},{key:"update",value:function(){if(!this.isArrived){var t=this.computerFixDomPaddingTop();t>=0?this.fixDom.style.paddingTop=t+3+"px":this.arrived()}}},{key:"computerFixDomPaddingTop",value:function(){var t=this.fixDom,e=this.win,n=t.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom,i=window.getComputedStyle(e,null),a=i.paddingBottom,r=i.borderBottomWidth;return o-parseFloat(a)-parseFloat(r)-n}}]),t}();e.default=a,window.LocalScrollFix=a}])})},function(t,e,n){"use strict";var o=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n};e.a=o},function(t,e,n){"use strict";e.a=function(t,e,n){var o,i,a,r,l=0;n||(n={});var s=function(){l=!1===n.leading?0:Date.now(),o=null,r=t.apply(i,a),o||(i=a=null)},u=function(){var u=Date.now();l||!1!==n.leading||(l=u);var c=e-(u-l);return i=this,a=arguments,c<=0||c>e?(o&&(clearTimeout(o),o=null),l=u,r=t.apply(i,a),o||(i=a=null)):o||!1===n.trailing||(o=setTimeout(s,c)),r};return u.cancel=function(){clearTimeout(o),l=0,o=i=a=null},u}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){throw new Error("2 arguments required, but only "+t+" present.")}function a(){return/iphone/i.test(window.navigator.userAgent)}function r(t){return'<div style="text-align: center;font-size: 14px;line-height: 50px;">'+t+"</div>"}Object.defineProperty(e,"__esModule",{value:!0});var l=n(3),s=n(2),u=n(1),c=n.n(u),f=n(0),d=n.n(f),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(0),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i(1),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o(this,t),!(e instanceof HTMLElement))throw new Error("parameter 1 must be a HTMLElement instance!");if("function"!=typeof a)throw new Error("parameter 2 must be a function!");this.container=e,this.loadMoreFn=a,this._options=n.i(s.a)({},t.defaults,r),this.isLock=this._options.isInitLock,this.hasMore=!0,this.win=this._options.window,this.windowHeight=window.innerHeight,this.createBottomDom(),this.fixLocalScroll(),this.scrollListener=this.scrollListener.bind(this),this.resizeListener=this.resizeListener.bind(this),this.scrollListenerWrapThrottle=n.i(l.a)(this.scrollListener,50),this.resizeListenerWrapThrottle=n.i(l.a)(this.resizeListener,50),this.attachScrollListener()}return h(t,[{key:"fixLocalScroll",value:function(){this.win!==window&&a()?(this._options.useLocalScrollFix&&(this.localScrollFix=new c.a(this.win)),this._options.useScrollFix&&new d.a(this.win)):(this._options.useLocalScrollFix=!1,this._options.useScrollFix=!1)}},{key:"createBottomDom",value:function(){this.container.insertAdjacentHTML("beforeend",'<div class="scrollload-bottom">'+this._options.loadingHtml+"</div>"),this.bottomDom=this.container.querySelector(".scrollload-bottom")}},{key:"showNoDataDom",value:function(){this.bottomDom.innerHTML=this._options.noDataHtml}},{key:"showLoadingDom",value:function(){this.bottomDom.innerHTML=this._options.loadingHtml}},{key:"showExceptionDom",value:function(){this.bottomDom.innerHTML=this._options.exceptionHtml}},{key:"scrollListener",value:function(){this.isLock||this.isBottom()&&(this.isLock=!0,this.loadMoreFn.call(this,this))}},{key:"isBottom",value:function(){var t=this.win,e=this.bottomDom,n=this.windowHeight,o=e.getBoundingClientRect().top,i=void 0;if(t===window)i=n;else{var a=t.getBoundingClientRect(),r=a.height,l=a.top;i=r,o-=l}return o-i<=this._options.threshold}},{key:"resizeListener",value:function(){this.win===window&&(this.windowHeight=window.innerHeight),this.scrollListener()}},{key:"attachScrollListener",value:function(){this.win.addEventListener("scroll",this.scrollListenerWrapThrottle),this.win.addEventListener("resize",this.resizeListenerWrapThrottle),this.scrollListener()}},{key:"detachScrollListener",value:function(){this.win.removeEventListener("scroll",this.scrollListenerWrapThrottle),this.win.removeEventListener("resize",this.resizeListenerWrapThrottle)}},{key:"lock",value:function(){this.isLock=!0}},{key:"unLock",value:function(){this.isLock=!1,this.hasMore&&this.scrollListener(),this._options.useLocalScrollFix&&this.localScrollFix.update()}},{key:"noData",value:function(){this.lock(),this.hasMore=!1,this.showNoDataDom(),this._options.useLocalScrollFix&&!this.localScrollFix.isArrived&&this.localScrollFix.arrived(),this.detachScrollListener()}},{key:"refreshData",value:function(){this.container.querySelector(".scrollload-bottom")?this.showLoadingDom():this.createBottomDom(),this.isLock=!1,this.hasMore=!0,this._options.useLocalScrollFix&&(this.localScrollFix=new c.a(this.win)),this.attachScrollListener()}},{key:"throwException",value:function(){this.showExceptionDom()}},{key:"solveException",value:function(){this.hasMore?(this.showLoadingDom(),this.unLock()):this.showNoDataDom()}},{key:"setOptions",value:function(t){n.i(s.a)(this._options,t)}},{key:"getOptions",value:function(){return this._options}}],[{key:"setGlobalOptions",value:function(e){n.i(s.a)(t.defaults,e)}}]),t}();p.defaults={isInitLock:!1,threshold:10,window:window,useLocalScrollFix:!1,useScrollFix:!1,loadingHtml:r("加载中..."),noDataHtml:r("没有更多数据了"),exceptionHtml:r("出现异常")},e.default=p,window.Scrollload=p}])})},"3o3C":function(t,e,n){"use strict";(function(e){var o=n("w87c"),i=function(t,n){var i={url:o.page.domain+"api"+t,type:n.type,dataType:"json",timeout:3e4};return e.extend(!0,i,n),e.ajax(i)},a={};["get","post"].forEach(function(t){a[t]=function(e,n){return n=n||{},n.type=t.toUpperCase(),i(e,n)}}),t.exports=a}).call(e,n("Dg8Y"))},"4ajQ":function(t,e,n){var o=n("Wdy1");o(o.S+o.F*!n("qs+f"),"Object",{defineProperty:n("GCs6").f})},"9Y5R":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),n("G3eO");var o,i,a,r=function(){},l={delay:2e3,class:"pub-toast",position:{left:"center",top:"center"},onShow:r,onHide:r},s=function(e,n){if(!e)throw Error("msg is required!");var r=t.extend({},l,n||{}),s=function(){clearTimeout(o),o=null,i.hide()};i?o&&s():i=t("<div>").css({position:"fixed"}).appendTo(document.body),i.removeClass(a).addClass(r.class).html(e).show();var u=i.width(),c=i.height(),f=window.innerWidth,d=window.innerHeight,h=r.position,p=h.left,v=h.top;"center"===p&&(p=(f-u)/2+"px"),"center"===v&&(v=(d-c)/2+"px"),i.css({left:p,top:v}),function(){a=r.class,r.onShow(i),o=setTimeout(function(){s(),r.onHide(i)},r.delay)}()};e.default=s}).call(e,n("Dg8Y"))},AFOY:function(t,e,n){n("CZee");var o=n("iANj").Object;t.exports=function(t,e){return o.create(t,e)}},AKpA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{1:'<i class="live"></i>直播',2:"未开始",3:"回看"}[t]}},BovB:function(t,e,n){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}n("vnnY"),n("1+C1");var o=n("3o3C"),i=e(o),a=n("9Y5R"),r=e(a),l=n("1E00"),s=e(l),u=n("t+PN"),c=e(u),f=n("dTI5"),d=e(f),h=n("sg5g"),p=e(h),v=n("2roW"),m=e(v),y=n("O7yE"),_=e(y),g=n("lTV0"),w=e(g),b=n("ZOV9"),x=e(b),M=n("W3xz"),k=e(M),S=n("2TA9");e(S);new _.default;var O=(t(".main-attention"),t(".main-desc"),t(".content-list")),D=t('[data-node="fanscount"]'),F=function(t){for(var e="",n=0,o=t.length;n<o;n++){var i=t[n];i.flag=0==i.video_type?"直播":(0,x.default)(i.length);new Date(parseInt(i.update_time+"000"));i.update_time=i.update_time,e+=(0,w.default)(i)}return e},j=1==$CONFIG.loadMore,L=$CONFIG.publishId,T=2;new m.default(O[0],function(e){var n=function(){e.throwException(),(0,r.default)("网络请求异常")};j?i.default.get("/publisherHome.json?publish_id="+L+"&page="+T+"&size=10&integration=simple").done(function(o){if(o&&200===o.code){var i=o.data.video;if(i.length){var a=F(i);t(e.bottomDom).before(a),i.length<10&&(j=!1),e.unLock(),T+=1}else j=!1,e.noData()}else n()}).fail(function(){n()}):e.noData()},{isInitLock:!1,loadingHtml:'<div class="top-line no-more"><p>加载中...</p></div>',noDataHtml:'<div class="top-line no-more"><span class="line-left"></span><p>没有更多了</p><span class="line-right"></span></div>',exceptionHtml:'<div class="top-line no-more" data-node="errorNode"><p>出错啦请重试</p></div>'}),new c.default({delegate:"body"}),new d.default({delegate:"body"}),new p.default({delegate:"body",afterDoSuccess:function(t){var e=t.$el,n=t.res.data.total;e.html('<span class="subscription">已订阅</span>').addClass("active").attr("data-status",1),D.text((0,k.default)(n)),(0,r.default)("订阅成功")},afterUndoSuccess:function(t){var e=t.$el,n=t.res.data.total;e.html('<span class="no-subscription"><em class="icon-18"></em> 订阅</span>').removeClass("active").attr("data-status",0),D.text((0,k.default)(n)),(0,r.default)("已取消订阅")}}),new s.default({selector:".main-share",config:$CONFIG||{}}),t(".main-back").click(function(){history.go(-1)})}).call(e,n("Dg8Y"))},BzqH:function(t,e,n){n("nclR"),t.exports=n("iANj").Object.setPrototypeOf},C4MV:function(t,e,n){t.exports={default:n("rKx+"),__esModule:!0}},CZee:function(t,e,n){var o=n("Wdy1");o(o.S,"Object",{create:n("NZ8V")})},Eif7:function(t,e,n){n("JyN8"),t.exports=n("iANj").Object.assign},FJ4y:function(t,e,n){"use strict";function o(t,e){return"string"!=typeof t&&(t=(0,a.default)(t)),e.substring(0,e.length-t.length)+t}Object.defineProperty(e,"__esModule",{value:!0});var i=n("mvHQ"),a=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=o},G3eO:function(t,e){},JyN8:function(t,e,n){var o=n("Wdy1");o(o.S+o.F,"Object",{assign:n("xVc6")})},NMac:function(t,e,n){var o=n("8ANE"),i=n("FKWp"),a=function(t,e){if(i(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n("3fMt")(Function.call,n("rjjF").f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:a}},O7yE:function(t,e,n){"use strict";(function(t){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("Zrlr"),a=o(i),r=n("wxAW"),l=o(r),s=function(){function e(n){var o=this;(0,a.default)(this,e),this.options=n||{},this.minHeight=this.options.minHeight||window.screen.height/2;t("body").append('<div class="back-top" style="display: none;opacity: 0;" id="back-top"><em class="icon-19"></em></div>'),this.ele=t("#back-top"),this.ele.on("click",function(){o._scrollToTop(500)}),setTimeout(function(){o.ele.css({opacity:1})},0),this.debounceFunc=this._debounce(this._controlButton.bind(this)),t(window).on("scroll",this.debounceFunc),t(window).on("load",this.debounceFunc)}return(0,l.default)(e,[{key:"_controlButton",value:function(){t(window).scrollTop()>this.minHeight?this.ele.show():this.ele.hide()}},{key:"hide",value:function(){this.ele.hide()}},{key:"show",value:function(){this._controlButton()}},{key:"_scrollToTop",value:function(t){var e=window.scrollY,n=Math.PI/Math.floor(t/15),o=e/2,i=0,a=void 0,r=setInterval(function(){0!=window.scrollY?(i+=1,a=o-Math.floor(o*Math.cos(i*n)),window.scrollTo(0,e-a)):clearInterval(r)},15)}},{key:"_debounce",value:function(t,e,n){var o=void 0;return function(){function i(){o=null,n||t.apply(a,r)}var a=this,r=arguments,l=n&&!o;clearTimeout(o),o=setTimeout(i,e),l&&t.apply(a,r)}}}]),e}();e.default=s}).call(e,n("Dg8Y"))},OvRC:function(t,e,n){t.exports={default:n("AFOY"),__esModule:!0}},Pf15:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n("kiBT"),a=o(i),r=n("OvRC"),l=o(r),s=n("pFYg"),u=o(s);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,u.default)(e)));t.prototype=(0,l.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(a.default?(0,a.default)(t,e):t.__proto__=e)}},W3xz:function(t,e,n){"use strict";function o(t){var e=parseInt(t);return e<1e4?e:e>=1e4&&e<1e8?parseFloat((e/1e4).toFixed(1))+"万":e>=1e8&&e<Number.MAX_VALUE?parseFloat((e/1e8).toFixed(1))+"亿":"无限"}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},ZOV9:function(t,e,n){"use strict";function o(t){var e=(0,a.default)(t),n=parseInt(e.day),o=parseInt(e.hour);return n>0?e.day+":"+e.hour+":"+e.min+":"+e.sec:o>0?e.hour+":"+e.min+":"+e.sec:e.min+":"+e.sec}Object.defineProperty(e,"__esModule",{value:!0});var i=n("iadN"),a=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=o},Zbun:function(t,e,n){var o=n("iANj"),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},Zrlr:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},dTI5:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("woOf"),a=o(i),r=n("Zx67"),l=o(r),s=n("Zrlr"),u=o(s),c=n("wxAW"),f=o(c),d=n("zwoO"),h=o(d),p=n("Pf15"),v=o(p),m=n("9Y5R"),y=o(m),_=n("iXF+"),g=o(_),w=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(this,e);var n={api:"/collectSet.json",selector:"[data-action=collect]",action:"collect"};return(0,h.default)(this,(e.__proto__||(0,l.default)(e)).call(this,(0,a.default)(n,t)))}return(0,v.default)(e,t),(0,f.default)(e,[{key:"_defaultDoSuccess",value:function(t){var e=t.res,n=t.$el,o=null;n.length&&(o=n.find('[data-node="count"]'),n.addClass("active"),n.data("status",1),o.text(this.formatNumber(e.data.total/1))),(0,y.default)("收藏成功")}},{key:"_defaultUndoSuccess",value:function(t){var e=t.res,n=t.$el,o=null;n.length&&(o=n.find('[data-node="count"]'),n.removeClass("active"),n.data("status",0),o.text(this.formatNumber(e.data.total/1))),(0,y.default)("已取消收藏")}}]),e}(g.default);e.default=w},"h/5q":function(t,e,n){"use strict";function o(t,e){var n=new Date(t),o={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in o)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},i2M5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("w87c"),i=function(){o.loginFlag||(location.href=o.page.loginUrl)};e.default=i},"iXF+":function(t,e,n){"use strict";(function(t){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("mvHQ"),a=o(i),r=n("Zx67"),l=o(r),s=n("Zrlr"),u=o(s),c=n("wxAW"),f=o(c),d=n("zwoO"),h=o(d),p=n("Pf15"),v=o(p),m=n("9Y5R"),y=o(m),_=n("3o3C"),g=o(_),w=n("njmC"),b=o(w),x=n("W3xz"),M=o(x),k=n("0B8D"),S=o(k),O=n("i2M5"),D=o(O),F=n("w87c"),j=function(){},L=function(t){(0,y.default)(t.res.message)},T={},E=function(e){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(this,n);var e=(0,h.default)(this,(n.__proto__||(0,l.default)(n)).call(this));return e.api=t.api,e.selector=t.selector,e.action=t.action,e.delegate=t.delegate||"body",e.beforeRequest=t.beforeRequest||j,e.afterRequest=t.afterRequest||j,e.afterDoSuccess=t.afterDoSuccess||null,e.afterUndoSuccess=t.afterUndoSuccess||null,e.afterDoFail=t.afterDoFail||L,e.afterUndoFail=t.afterUndoFail||L,e.formatNumber=M.default,e.localStorageKey="gmv_m_action",e._bindEvent(),e._init(),e._checkBeforeLogin(),e}return(0,v.default)(n,e),(0,f.default)(n,[{key:"_defaultDoSuccess",value:function(){}},{key:"_defaultUndoSuccess",value:function(){}},{key:"_bindEvent",value:function(){var t=this;this.on("doSuccess",function(e){"function"==typeof t.afterDoSuccess?t.afterDoSuccess(e):t._defaultDoSuccess(e)}),this.on("doFail",function(e){t.afterDoFail(e)}),this.on("undoSuccess",function(e){"function"==typeof t.afterUndoSuccess?t.afterUndoSuccess(e):t._defaultUndoSuccess(e)}),this.on("undoFail",function(e){t.afterUndoFail(e)})}},{key:"_init",value:function(){function e(e){var i=t(this),r=i.data(o+"id"),l=i.data("status");switch(l){case"true":l=1;break;case"false":l=0;break;default:l^=0}var s=o+r;return 1!=T[s]&&(F.loginFlag?(T[s]=1,n.request(n.getReqData({id:r,status:l})),!1):((0,S.default)()||localStorage.setItem(n.localStorageKey,(0,a.default)({action:o,id:r,status:l})),(0,D.default)(),!1))}var n=this,o=this.action;t(this.delegate).on("click",this.selector,e)}},{key:"_checkBeforeLogin",value:function(){if((0,S.default)())return!1;var t=this,e=localStorage.getItem(this.localStorageKey),n=null,o=null;F.loginFlag&&e&&(o=JSON.parse(e),o.action==this.action&&(n={id:o.id,status:o.status},t.request(t.getReqData(n)))),localStorage.removeItem(this.localStorageKey)}},{key:"getReqData",value:function(t){var e=1^t.status;return{id:t.id,actionType:e,formData:{id:t.id,type:e}}}},{key:"request",value:function(e){var n=this,o=n.action,i=e.id,r=e.actionType;if(!1===n.beforeRequest(e))return!1;g.default.post(this.api,{data:e.formData,success:function(e){var l="[data-"+n.action+'id="'+i+'"]',s=t(l),u=e.code,c={id:i,res:e,$el:s,$delegate:t(n.delegate)},f=["undoSuccess","doSuccess"],d=["undoFail","doFail"];if(200001==u)return(0,S.default)()||localStorage.setItem(n.localStorageKey,(0,a.default)({action:o,id:i,status:1^r})),location.href=F.page.loginUrl,!1;200==u||400008==u?n.emit(f[r],c):n.emit(d[r],c)},error:function(){(0,y.default)("网络请求失败，请稍后重试")},complete:function(){delete T[o+i],n.afterRequest(e)}})}}]),n}(b.default);e.default=E}).call(e,n("Dg8Y"))},iadN:function(t,e,n){"use strict";function o(t){var e=0,n=0,o=0,i=0,r={},l=Math.floor;return t>0&&(e=l(t/1e3),e>=60&&(n=l(e/60),e%=60),n>=60&&(o=l(n/60),n%=60),o>=24&&(i=l(o/24),o%=24)),r.day=(0,a.default)(i,"00"),r.hour=(0,a.default)(o,"00"),r.min=(0,a.default)(n,"00"),r.sec=(0,a.default)(e,"00"),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=n("FJ4y"),a=function(t){return t&&t.__esModule?t:{default:t}}(i)},kiBT:function(t,e,n){t.exports={default:n("BzqH"),__esModule:!0}},lTV0:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t){var e="sv".charAt(parseInt(t.video_type)),n="",o="",i="",a="";return"4"==t.live_status?(n=t.length,i="hide",a=t.update_time):(o=(0,c.default)(t.live_status),n=(0,l.default)(1e3*parseInt(t.start_time),"yyyy-MM-dd hh:mm"),a=""),'<div class="list-item">\n\t\t\t<a href="/'+e+"/"+t.id+'.html">\n\t\t\t\t<div class="item-img">\n\t\t\t\t\t<img onerror="javascript:this.style.display=\'none\';" src="'+t.image+'" title="'+t.title+'">\n\t\t\t\t\t <div class="live-flag '+i+'">\n\t\t\t\t\t\t'+o+'\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="item-flag ">'+n+'</span>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<h2 class="item-title">'+t.title+'</h2>\n\t\t\t\t<div class="item-icon clearfix">\n\t\t\t\t\t<div class="fl '+(t.is_collect?"active":"")+'" data-action="collect" data-collectid="'+t.id+'" data-status="'+t.is_collect+'">\n\t\t\t\t\t\t<em class="icon-7"></em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fl '+(t.is_praise?"active":"")+'" data-action="like" data-likeid="'+t.id+'" data-status="'+t.is_praise+'">\n\t\t\t\t\t\t<em class="icon-3"></em>\n\t\t\t\t\t\t<span data-node="count">'+t.praise_num+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fr">\n\t\t\t\t\t\t'+a+"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</div>"}Object.defineProperty(e,"__esModule",{value:!0});var a=n("2TA9"),r=(o(a),n("h/5q")),l=o(r),s=n("ZOV9"),u=(o(s),n("AKpA")),c=o(u);e.default=i},"lq7/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},mvHQ:function(t,e,n){t.exports={default:n("Zbun"),__esModule:!0}},nclR:function(t,e,n){var o=n("Wdy1");o(o.S,"Object",{setPrototypeOf:n("NMac").set})},njmC:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("Zrlr"),a=o(i),r=n("wxAW"),l=o(r),s=function(){function t(){(0,a.default)(this,t),this.cache={}}return(0,l.default)(t,[{key:"on",value:function(t,e){(this.cache[t]||(this.cache[t]=[])).push(e)}},{key:"once",value:function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}this.on(t,n)}},{key:"off",value:function(t){this.cache[t]=null}},{key:"emit",value:function(t){var e=this,n=[].concat(Array.prototype.slice.call(arguments));n.shift();var o=this.cache[t];o&&o.length>0&&o.forEach(function(t){t.apply(e,n)})}}]),t}();e.default=s},"rKx+":function(t,e,n){n("4ajQ");var o=n("iANj").Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},sg5g:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("woOf"),a=o(i),r=n("Zx67"),l=o(r),s=n("Zrlr"),u=o(s),c=n("wxAW"),f=o(c),d=n("zwoO"),h=o(d),p=n("Pf15"),v=o(p),m=n("9Y5R"),y=o(m),_=n("iXF+"),g=o(_),w=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(this,e);var n={api:"/publisherSet.json",selector:"[data-action=subscribe]",action:"subscribe"};return(0,h.default)(this,(e.__proto__||(0,l.default)(e)).call(this,(0,a.default)(n,t)))}return(0,v.default)(e,t),(0,f.default)(e,[{key:"_defaultDoSuccess",value:function(t){var e=t.res,n=t.$el,o=null;n.length&&(o=n.find('[data-node="count"]'),n.addClass("active"),n.data("status",1),o.text(this.formatNumber(e.data.total/1))),(0,y.default)("订阅成功")}},{key:"_defaultUndoSuccess",value:function(t){var e=t.res,n=t.$el,o=null;n.length&&(o=n.find('[data-node="count"]'),n.removeClass("active"),n.data("status",0),o.text(this.formatNumber(e.data.total/1))),(0,y.default)("已取消订阅")}}]),e}(g.default);e.default=w},"t+PN":function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("woOf"),a=o(i),r=n("Zx67"),l=o(r),s=n("Zrlr"),u=o(s),c=n("wxAW"),f=o(c),d=n("zwoO"),h=o(d),p=n("Pf15"),v=o(p),m=n("9Y5R"),y=o(m),_=n("iXF+"),g=o(_),w=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(this,e);var n={api:"/praise.json",selector:"[data-action=like]",action:"like"};return(0,h.default)(this,(e.__proto__||(0,l.default)(e)).call(this,(0,a.default)(n,t)))}return(0,v.default)(e,t),(0,f.default)(e,[{key:"_defaultDoSuccess",value:function(t){var e=t.res,n=t.$el,o=null;n.length&&(o=n.find('[data-node="count"]'),n.addClass("active"),n.data("status",1),o.text(this.formatNumber(e.data.total/1))),(0,y.default)("点赞成功")}},{key:"_defaultUndoSuccess",value:function(t){var e=t.res,n=t.$el,o=null;n.length&&(o=n.find('[data-node="count"]'),n.removeClass("active"),n.data("status",0),o.text(this.formatNumber(e.data.total/1))),(0,y.default)("已取消点赞")}}]),e}(g.default);e.default=w},vnnY:function(t,e){},woOf:function(t,e,n){t.exports={default:n("Eif7"),__esModule:!0}},wxAW:function(t,e,n){"use strict";e.__esModule=!0;var o=n("C4MV"),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i.default)(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()},xVc6:function(t,e,n){"use strict";var o=n("pEGt"),i=n("THEY"),a=n("bSeU"),r=n("wXdB"),l=n("wiaE"),s=Object.assign;t.exports=!s||n("zyKz")(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=o})?function(t,e){for(var n=r(t),s=arguments.length,u=1,c=i.f,f=a.f;s>u;)for(var d,h=l(arguments[u++]),p=c?o(h).concat(c(h)):o(h),v=p.length,m=0;v>m;)f.call(h,d=p[m++])&&(n[d]=h[d]);return n}:s},zwoO:function(t,e,n){"use strict";e.__esModule=!0;var o=n("pFYg"),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}}},["BovB"]);