webpackJsonp([11],{FJ4y:function(t,e,a){"use strict";function n(t,e){return"string"!=typeof t&&(t=(0,i.default)(t)),e.substring(0,e.length-t.length)+t}Object.defineProperty(e,"__esModule",{value:!0});var l=a("mvHQ"),i=function(t){return t&&t.__esModule?t:{default:t}}(l);e.default=n},HY96:function(t,e,a){"use strict";a("QtMn")},MRU9:function(t,e){},O7yE:function(t,e,a){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a("Zrlr"),i=n(l),u=a("wxAW"),o=n(u),s=a("ioS7"),r=function(){function e(a){var n=this;(0,i.default)(this,e),this.options=a||{},this.minHeight=this.options.minHeight||window.screen.height/2;t("body").append('<div class="back-top" title="返回顶部" style="display: block;opacity: 0;" id="back-top"><em class="icon-19"></em></div>'),t("#back-top").on("click",function(){n.scrollToTop(500)}),setTimeout(function(){t("#back-top").css({opacity:1})},0);var l=(0,s.throttle)(this.controlButton.bind(this),100);t(window).on("scroll",l),t(window).on("load",l)}return(0,o.default)(e,[{key:"controlButton",value:function(){t(window).scrollTop()>this.minHeight?t("#back-top").show():t("#back-top").hide()}},{key:"scrollToTop",value:function(t){var e=window.pageYOffset,a=Math.PI/Math.floor(t/15),n=e/2,l=0,i=void 0,u=setInterval(function(){0!=window.pageYOffset?(l+=1,i=n-n*Math.cos(l*a),window.scrollTo(0,e-i)):clearInterval(u)},15)}}]),e}();e.default=r}).call(e,a("7t+N"))},QtMn:function(t,e){},RK5D:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var l=a("Zx67"),i=n(l),u=a("Zrlr"),o=n(u),s=a("wxAW"),r=n(s),c=a("zwoO"),d=n(c),f=a("Pf15"),h=n(f);a("MRU9"),a("bXnB"),a("HY96");var m=a("3o3C"),v=n(m),p=a("U7vG"),_=n(p),g=a("O27J"),y=n(g),k=a("Vf7L"),b=n(k),E=a("O7yE"),w=n(E),M=a("lTQM"),D=n(M),T=a("w87c"),N="?"+T.apiParams.inParams,O=function(t){function e(t){(0,o.default)(this,e);var a=(0,d.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return a.handleDel=function(t){t.stopPropagation(),t.preventDefault();var e=a.props.data;a.props.onDel(e.collect_id,e)},a}return(0,h.default)(e,t),(0,r.default)(e,[{key:"render",value:function(){var t=this.props.data||{},e=t.video_info||{},a=e.publisher||{},n="/v/"+e.id+".html",l=(0,b.default)(e.title,35),i=null;return 1==e.video_type?i=_.default.createElement("span",{className:"time"},(0,D.default)(e.length)):n="/s/"+e.id+".html",_.default.createElement("li",null,_.default.createElement("div",{className:"img"},_.default.createElement("a",{href:n,target:"_blank"},_.default.createElement("img",{src:e.image}),_.default.createElement("em",{className:"icon-13",onClick:this.handleDel}),i,2!=e.online?_.default.createElement("span",{className:"offline"},"已下线"):null)),_.default.createElement("a",{href:n,target:"_blank",className:"list-title"},l),_.default.createElement("div",{className:"num"},_.default.createElement("a",{href:"/sub/"+a.id+".html",target:"_blank",className:"list-name"},_.default.createElement("img",{src:a.icon}),_.default.createElement("span",null,a.name))))}}]),e}(_.default.Component),C=function(t){function e(t){(0,o.default)(this,e);var a=(0,d.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return a.handleDel=function(t,e){-1===a.delList.indexOf(t)&&a.delCollect(t)},a.delList=[],a}return(0,h.default)(e,t),(0,r.default)(e,[{key:"delCollect",value:function(t){var e=this,a=function(){var a=e.delList,n=a.indexOf(t);-1!=n&&a.splice(n,1)};v.default.get("v1/video/deleteCollect"+N,{domain:"domain-sault",data:{ids:t}}).then(function(n){n&&200===n.code?e.props.onDel(t):a()}).catch(function(){a()})}},{key:"render",value:function(){var t=this;return _.default.createElement("ul",{className:"clearfix list-card"},this.props.list.map(function(e){return _.default.createElement(O,{data:e,key:e.collect_id,onDel:t.handleDel})}))}}]),e}(_.default.Component),P=function(t){function e(t){(0,o.default)(this,e);var a=(0,d.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return a.handleClick=function(t){t.preventDefault();var e=a.state.status;"finished"!==e&&"loading"!==e&&a.load()},a.handelDel=function(t){for(var e=a.state.list,n=(a.state.status,0),l=e.length;n<l;n++)if(e[n].collect_id===t){e.splice(n,1);break}a.setState({list:e})},a.state={list:[],status:"loading"},a.data={size:12},a.url="v1/video/collectList"+N,a}return(0,h.default)(e,t),(0,r.default)(e,[{key:"componentDidMount",value:function(){this.load(),new w.default}},{key:"load",value:function(){var t=this;this.setState({status:"loading"},function(){v.default.get(this.url,{domain:"domain-sault",data:this.data}).then(function(e){var a="done",n=t.state.list;if(e&&200===e.code){var l=e.data||{},i=l.total,u=l.collect_data||[];l.cursor&&(t.data.cursor=l.cursor),n=n.concat(u),n.length===i&&(a="finished")}else a="fail";t.setState({status:a,list:n})}).catch(function(){t.setState({status:"fail"})})})}},{key:"_getText",value:function(){var t="点击加载更多",e=this.state.status;return"loading"===e?t="加载中...":"finished"===e&&(t="没有更多数据了"),t}},{key:"render",value:function(){var t=null,e=this.state.list,a=this.state.status,n=null;return e.length?(t=_.default.createElement(C,{list:e,onDel:this.handelDel}),"finished"!==a&&(n=_.default.createElement("div",{className:"exchange"},_.default.createElement("a",{href:"#",onClick:this.handleClick},this._getText())))):"loading"!==a&&(t=_.default.createElement("div",{className:"no-data col"},_.default.createElement("p",null,"您还没有收藏过任何内容哦"))),_.default.createElement("div",{className:"list"},t,n)}}]),e}(_.default.Component);y.default.render(_.default.createElement(P,null),document.getElementById("list-container"))},Vf7L:function(t,e,a){"use strict";function n(t,e){var a=t;return t.length>e&&(a=t.substr(0,e)+"..."),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},iadN:function(t,e,a){"use strict";function n(t){var e=0,a=0,n=0,l=0,u={},o=Math.floor;return t>0&&(e=o(t/1e3),e>=60&&(a=o(e/60),e%=60),a>=60&&(n=o(a/60),a%=60),n>=24&&(l=o(n/24),n%=24)),u.day=(0,i.default)(l,"00"),u.hour=(0,i.default)(n,"00"),u.min=(0,i.default)(a,"00"),u.sec=(0,i.default)(e,"00"),u}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var l=a("FJ4y"),i=function(t){return t&&t.__esModule?t:{default:t}}(l)},ioS7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.debounce=function(t,e,a){var n=void 0;return function(){function l(){n=null,a||t.apply(i,u)}var i=this,u=arguments,o=a&&!n;clearTimeout(n),n=setTimeout(l,e),o&&t.apply(i,u)}},e.throttle=function(t,e){var a=void 0,n=void 0,l=0;return function(){function i(){l=Date.now(),a=null,t.apply(u,o)}n=Date.now()-l,a&&clearTimeout(a);var u=this,o=arguments;n>e?i():a=setTimeout(i,e-n)}}},lTQM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,l.default)(t);return"00"!==e.day?e.day+":"+e.hour+":"+e.min+":"+e.sec:"00"!==e.hour?e.hour+":"+e.min+":"+e.sec:e.min+":"+e.sec};var n=a("iadN"),l=function(t){return t&&t.__esModule?t:{default:t}}(n)}},["RK5D"]);