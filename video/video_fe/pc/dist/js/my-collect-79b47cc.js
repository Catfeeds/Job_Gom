webpackJsonp([11],{FJ4y:function(t,e,n){"use strict";function a(t,e){return"string"!=typeof t&&(t=(0,i.default)(t)),e.substring(0,e.length-t.length)+t}Object.defineProperty(e,"__esModule",{value:!0});var l=n("mvHQ"),i=function(t){return t&&t.__esModule?t:{default:t}}(l);e.default=a},HY96:function(t,e,n){"use strict";n("QtMn")},MRU9:function(t,e){},O7yE:function(t,e,n){"use strict";(function(t){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=n("Zrlr"),i=a(l),u=n("wxAW"),o=a(u),s=n("ioS7"),r=function(){function e(n){var a=this;(0,i.default)(this,e),this.options=n||{},this.minHeight=this.options.minHeight||window.screen.height/2;t("body").append('<div class="back-top" title="返回顶部" style="display: block;opacity: 0;" id="back-top"><em class="icon-19"></em></div>'),t("#back-top").on("click",function(){a.scrollToTop(500)}),setTimeout(function(){t("#back-top").css({opacity:1})},0);var l=(0,s.throttle)(this.controlButton.bind(this),100);t(window).on("scroll",l),t(window).on("load",l)}return(0,o.default)(e,[{key:"controlButton",value:function(){t(window).scrollTop()>this.minHeight?t("#back-top").show():t("#back-top").hide()}},{key:"scrollToTop",value:function(t){var e=window.pageYOffset,n=Math.PI/Math.floor(t/15),a=e/2,l=0,i=void 0,u=setInterval(function(){0!=window.pageYOffset?(l+=1,i=a-a*Math.cos(l*n),window.scrollTo(0,e-i)):clearInterval(u)},15)}}]),e}();e.default=r}).call(e,n("7t+N"))},QtMn:function(t,e){},RK5D:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var l=n("Zx67"),i=a(l),u=n("Zrlr"),o=a(u),s=n("wxAW"),r=a(s),c=n("zwoO"),d=a(c),f=n("Pf15"),h=a(f);n("MRU9"),n("bXnB"),n("HY96");var m=n("3o3C"),v=a(m),p=n("U7vG"),_=a(p),g=n("O27J"),y=a(g),k=n("Vf7L"),b=a(k),E=n("O7yE"),w=a(E),M=n("lTQM"),D=a(M),T=n("w87c"),N="?"+T.apiParams.inParams,O=function(t){function e(t){(0,o.default)(this,e);var n=(0,d.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.handleDel=function(t){t.stopPropagation(),t.preventDefault();var e=n.props.data;n.props.onDel(e.collect_id,e)},n}return(0,h.default)(e,t),(0,r.default)(e,[{key:"render",value:function(){var t=this.props.data||{},e=t.video_info||{},n=e.publisher||{},a="/v/"+e.id+".html",l=(0,b.default)(e.title,35),i=null;return 1==e.video_type?i=_.default.createElement("span",{className:"time"},(0,D.default)(e.length)):a="/s/"+e.id+".html",_.default.createElement("li",null,_.default.createElement("div",{className:"img"},_.default.createElement("a",{href:a,target:"_blank"},_.default.createElement("img",{src:e.image}),_.default.createElement("em",{className:"icon-13",onClick:this.handleDel}),i,2!=e.online?_.default.createElement("span",{className:"offline"},"已下线"):null)),_.default.createElement("a",{href:a,target:"_blank",className:"list-title"},l),_.default.createElement("div",{className:"num"},_.default.createElement("a",{href:"/sub/"+n.id+".html",target:"_blank",className:"list-name"},_.default.createElement("img",{src:n.icon}),_.default.createElement("span",null,n.name))))}}]),e}(_.default.Component),P=function(t){function e(t){(0,o.default)(this,e);var n=(0,d.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.handleDel=function(t,e){-1===n.delList.indexOf(t)&&n.delCollect(t)},n.delList=[],n}return(0,h.default)(e,t),(0,r.default)(e,[{key:"delCollect",value:function(t){var e=this,n=function(){var n=e.delList,a=n.indexOf(t);-1!=a&&n.splice(a,1)};v.default.get("/v1/collect/delete"+N,{domain:"domain-user",data:{ids:t}}).then(function(a){a&&200===a.code?e.props.onDel(t):n()}).catch(function(){n()})}},{key:"render",value:function(){var t=this;return _.default.createElement("ul",{className:"clearfix list-card"},this.props.list.map(function(e){return _.default.createElement(O,{data:e,key:e.collect_id,onDel:t.handleDel})}))}}]),e}(_.default.Component),C=function(t){function e(t){(0,o.default)(this,e);var n=(0,d.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.handleClick=function(t){t.preventDefault();var e=n.state.status;"finished"!==e&&"loading"!==e&&n.load()},n.handelDel=function(t){for(var e=n.state.list,a=(n.state.status,0),l=e.length;a<l;a++)if(e[a].collect_id===t){e.splice(a,1);break}n.setState({list:e})},n.state={list:[],status:"loading"},n.data={size:12},n.url="/v1/collect/list"+N,n}return(0,h.default)(e,t),(0,r.default)(e,[{key:"componentDidMount",value:function(){this.load(),new w.default}},{key:"load",value:function(){var t=this;this.setState({status:"loading"},function(){v.default.get(this.url,{domain:"domain-user",data:this.data}).then(function(e){var n="done",a=t.state.list;if(e&&200===e.code){var l=e.data||{},i=l.total,u=l.collect_data||[];l.cursor&&(t.data.cursor=l.cursor),a=a.concat(u),a.length===i&&(n="finished")}else n="fail";t.setState({status:n,list:a})}).catch(function(){t.setState({status:"fail"})})})}},{key:"_getText",value:function(){var t="点击加载更多",e=this.state.status;return"loading"===e?t="加载中...":"finished"===e&&(t="没有更多数据了"),t}},{key:"render",value:function(){var t=null,e=this.state.list,n=this.state.status,a=null;return e.length?(t=_.default.createElement(P,{list:e,onDel:this.handelDel}),"finished"!==n&&(a=_.default.createElement("div",{className:"exchange"},_.default.createElement("a",{href:"#",onClick:this.handleClick},this._getText())))):"loading"!==n&&(t=_.default.createElement("div",{className:"no-data col"},_.default.createElement("p",null,"您还没有收藏过任何内容哦"))),_.default.createElement("div",{className:"list"},t,a)}}]),e}(_.default.Component);y.default.render(_.default.createElement(C,null),document.getElementById("list-container"))},Vf7L:function(t,e,n){"use strict";function a(t,e){var n=t;return t.length>e&&(n=t.substr(0,e)+"..."),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},iadN:function(t,e,n){"use strict";function a(t){var e=0,n=0,a=0,l=0,u={},o=Math.floor;return t>0&&(e=o(t/1e3),e>=60&&(n=o(e/60),e%=60),n>=60&&(a=o(n/60),n%=60),a>=24&&(l=o(a/24),a%=24)),u.day=(0,i.default)(l,"00"),u.hour=(0,i.default)(a,"00"),u.min=(0,i.default)(n,"00"),u.sec=(0,i.default)(e,"00"),u}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var l=n("FJ4y"),i=function(t){return t&&t.__esModule?t:{default:t}}(l)},ioS7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.debounce=function(t,e,n){var a=void 0;return function(){function l(){a=null,n||t.apply(i,u)}var i=this,u=arguments,o=n&&!a;clearTimeout(a),a=setTimeout(l,e),o&&t.apply(i,u)}},e.throttle=function(t,e){var n=void 0,a=void 0,l=0;return function(){function i(){l=Date.now(),n=null,t.apply(u,o)}a=Date.now()-l,n&&clearTimeout(n);var u=this,o=arguments;a>e?i():n=setTimeout(i,e-a)}}},lTQM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,l.default)(t);return"00"!==e.day?e.day+":"+e.hour+":"+e.min+":"+e.sec:"00"!==e.hour?e.hour+":"+e.min+":"+e.sec:e.min+":"+e.sec};var a=n("iadN"),l=function(t){return t&&t.__esModule?t:{default:t}}(a)}},["RK5D"]);