webpackJsonp([48],{"222":function(t,exports,n){"use strict";setTimeout(function(){n(223).init(),n(224).init()},30)},"223":function(t,exports,n){"use strict";(function($,i){var a=n(5),e=n(2),s=n(8),o=n(15);t.exports={"init":function(){function t(t){f?window.open($GLOBAL_CONFIG.meidian_domain+"admin","_blank"):o(function(){location.reload()})}function n(t){var n=!1,i=!1;u=c.eq(0).children().eq(t).find("li"),u.find('[data-node="single_btn"]').each(function(t,n){l.push($(n).attr("data-status"))}),n=l.some(function(t){return 0==t}),i=l.every(function(t){return 1==t}),n?m.addClass("on"):m.removeClass("on"),i&&m.removeClass("on"),l=[],n=!1,i=!1}var d=0,r=$('[data-node="recommend-box"]'),c=r.find(".recommend_list_box ul"),l=[],u=c.eq(0).children().eq(d).find("li"),f=parseInt($GLOBAL_CONFIG.islogin);$('[data-node="kt-meidian"]').off("click").on("click",function(){t({"refresh":!1})}),$('[data-node="ranking-box"]').off("click").on("click",'[data-node="kt-meidian-refresh"]',function(){t({"refresh":!0})});var m=$('[data-node="sj_btn"]');m.off("click").on("click",function(){$(this);if($(this).hasClass("on"))return f?function(){var t=u.find('[data-node="single_btn"]');$(this).text("正在上架中...");var n=[];t.each(function(){if(0==$(this).attr("data-status")){$(this).text("上架中...");var t=$(this).attr("data-itemid"),i=$(this).attr("data-skuid"),a=$(this).attr("data-identification"),e={"itemId":t,"skuId":i,"identification":a};n.push(e)}}),e.post(a.get("itemBatchMangeInShop"),{"data":{"shopId":i.shopId,"items":n}}).done(function(n){n&&713001===n.code?(s.init(n.msg),t.text("上架")):(m.removeClass("on"),t.text("已上架").addClass("already_sj").removeClass("sj").attr("data-status",1)),m.text("一键上架")})}():o(function(){location.reload()}),!1}),$('[data-node="recommend-box"]').on("click",'[data-node="single_btn"]',function(){var t=$(this);f?function(){0==t.attr("data-status")?t.text("上架中..."):1==t.attr("data-status")&&t.text("下架中..."),e.get(a.get("soldInOut"),{"data":{"shopId":$GLOBAL_CONFIG.shopId||0,"status":t.attr("data-status"),"itemId":t.attr("data-itemId"),"skuId":t.attr("data-skuId"),"identification":t.attr("data-identification")}}).then(function(i){i&&i.success?713001==i.code?window.open($GLOBAL_CONFIG.meidian_domain+"admin","_blank"):0==t.attr("data-status")?(t.text("已上架").attr("data-status",1).removeClass("sj").addClass("already_sj"),m.removeClass("on"),n(d)):1==t.attr("data-status")&&(t.text("上架").attr("data-status",0).removeClass("already_sj").addClass("sj"),n(d)):(0==t.attr("data-status")?t.text("上架"):1==t.attr("data-status")&&t.text("已上架"),s.init(i.message))},function(){s.init("数据获取失败，请重试！")})}():o(function(){location.reload()})}),function(){function t(){a++,a==r&&(a=1,s.css("left","0px")),i()}function n(){l=setInterval(function(){t()},5e3)}function i(){if(s.stop().animate({"left":"-"+a*d+"px"}),a==r-1)return void c.find("li").removeClass("on").eq(0).addClass("on");c.find("li").removeClass("on").eq(a).addClass("on")}var a=0,e=$('[data-node="banner"]'),s=e.find("ul"),o=s.find("li"),d=o.eq(0).width(),r=o.length,c=e.find("ol"),l=null;if(!(o.length>=2))return void c.hide();s.append(o.eq(0).clone()),o=s.find("li"),r=o.length,s.width(o.length*d),e.hover(function(){clearInterval(l)},function(){n()}),c.on("click","li",function(){a=$(this).index(),i()}),c.on("mouseover","li",function(t){return a=$(this).index(),i(),!1}),n(),e.find("img").on("error",function(){$(this).attr("src",$GLOBAL_CONFIG.pcimgpath+"/images/meidian/loop-default.png")})}(),function(){function t(t){n(t),c.eq(0).attr("data-index",t),c.stop().animate({"left":"-"+t*s+"px"}),o.find("li").removeClass("on").eq(t).addClass("on")}var i=r.find(".turn_left"),a=r.find(".turn_right"),e=c.eq(0).children().length,s=$(c.eq(0).children().eq(0)).width(),o=r.find("ol");o.on("click","li",function(){d=$(this).index(),t(d)}),o.on("mouseover","li",function(){return d=$(this).index(),t(d),!1}),i.on("click",function(){d--,-1==d&&(d=e-1),t(d)}),a.on("click",function(){d++,d==e&&(d=0),t(d)})}(),n(0),$(".shopest_list li > a > img").on("error",function(){$(this).attr("src",$GLOBAL_CONFIG.pcimgpath+"/images/meidian/zuimei-default.png")}),window.mdImgError=function(t,n){var i={"zm":"zuimei-default.png","loop":"loop-default.png"},a=i[n];a=a||i.loop,t.onerror="",t.src=$GLOBAL_CONFIG.pcimgpath+"/images/meidian/"+a+"?v="+$GLOBAL_CONFIG.versionData}}}}).call(exports,n(0),n(1))},"224":function(t,exports,n){"use strict";(function($){function i(t){var n=t;return null==n?0:("string"!=typeof n&&(n+=""),n=n.replace(/[^\x00-\xff]/g,"01"),n.length>=5?t.substring(0,5)+"...":t)}var a=(n(5),n(2));t.exports={"init":function(){a.get("/ajax/Mshop/shopRankingList").then(function(t){if(t){var n=t.pkList[0],a=t.pkList[1],e="",s=$('[data-node="ranking-box"]'),o="",d="",r=$GLOBAL_CONFIG.meidian_domain,c="";t.topList.forEach(function(t){var n=r+"shop-"+t.id+".html",a=t.level?$GLOBAL_CONFIG.pcimgpath+"/images/user/level/level"+t.level+".png":"",s=a?'<img src="'+a+'">':"";t.userName?e+='<li><a target="_blank" href="'+n+'"><em>'+t.ranking+'</em><img onerror="imgError(this, \'h\')" src="'+t.icon+'"><span title="'+t.name+'"><u>'+i(t.name)+"</u>"+s+"<em>"+t.userName+"<strong>"+t.userOrgName+"</strong></em></span></a></li>":e+='<li><a target="_blank" href="'+n+'"><em>'+t.ranking+'</em><img onerror="imgError(this, \'h\')" src="'+t.icon+'"><span title="'+t.name+'"><u>'+i(t.name)+"</u>"+s+"</span></a></li>"}),c=isNaN(parseInt(a.ranking))?""+a.ranking:"第"+a.ranking+"名",a.id?d+='\t<div class="ranking_pic_right fl" data-id="'+a.id+'" data-userId="'+a.userId+'">\n\t    \t\t\t\t\t\t\t\t<a href="'+r+"shop-"+a.id+'.html" target="_blank">\n\t\t\t\t\t\t               \t\t<div class="number_one my_ranking">\n\t\t\t\t\t\t                  \t\t<div class="hg"></div><img onerror="imgError(this, \'h\')" src="'+a.icon+'"><span>'+c+'</span>\n\t\t\t\t\t\t                \t</div>\n\t\t\t\t\t\t               \t\t<div class="number_one_detail">\n\t\t\t\t\t\t                \t\t<h5>'+a.name+"</h5>\n\t\t\t\t\t\t                \t\t<p>销售额：<span>"+(a.salesAmount/100).toFixed(2)+"</span></p>\n\t\t\t\t\t\t                \t\t<p>订单量：<span>"+a.orderAmount+"</span></p>\n\t\t\t\t\t\t                \t\t<p>返利金额：<span>"+(a.rebateAmount/100).toFixed(2)+"</span></p>\n\t\t\t\t\t\t                \t</div>\n\t\t\t\t\t                \t</a>\n\t\t\t\t\t              \t</div>":d+='\t<div class="ranking_pic_right fl not_login">\n\t\t\t\t\t                \t<div class="number_one">\n\t\t\t\t\t                  \t\t<div class="hg"></div><img onerror="imgError(this, \'h\')" src="../../images/meidian/lun1.png">\n\t\t\t\t\t                \t</div>\n\t\t\t\t\t                \t<div class="number_one_detail">\n\t\t\t\t\t                  \t\t<input type="button" value="开通美店，赚钱咯!" data-node="kt-meidian-refresh">\n\t\t\t\t\t                \t</div>\n\t\t\t\t\t              \t</div>',o+='\t<h1 class="clearfix"><span class="fl">'+t.title+"</span><em>"+t.statisticsDate+'</em></h1>\n\t\t\t\t\t\t\t<div class="ranking_main">\n\t\t\t\t\t\t\t\t<div class="ranking_pic clearfix">\n\t\t\t\t\t              \t<div class="ranking_pic_left fl" data-id="'+n.id+'" data-userId="'+n.userId+'">\n\t\t\t\t\t\t                <a href="'+r+"shop-"+n.id+'.html" target="_blank">\n\t\t\t\t\t\t                \t<div class="number_one">\n\t\t\t\t\t\t                 \t\t<div class="hg"></div><img onerror="imgError(this, \'h\')" src="'+n.icon+'"><span>第'+n.ranking+'名</span>\n\t\t\t\t\t\t                \t</div>\n\t\t\t\t\t\t                \t<div class="number_one_detail">\n\t\t\t\t\t\t                \t\t<h5>'+n.name+"</h5>\n\t\t\t\t\t\t                \t\t<p>销售额：<span>"+(n.salesAmount/100).toFixed(2)+"</span></p>\n\t\t\t\t\t\t                \t\t<p>订单量：<span>"+n.orderAmount+"</span></p>\n\t\t\t\t\t\t                \t\t<p>返利金额：<span>"+(n.rebateAmount/100).toFixed(2)+"</span></p>\n\t\t\t\t\t\t                \t</div>\n\t\t\t\t\t\t                </a>\n\t\t\t\t\t              \t</div>\n\t\t\t\t\t              \t"+d+'\n\t\t\t\t\t            </div>\n\t\t\t\t\t            <div class="ranking_list">\n\t\t\t\t\t              \t<ul class="clearfix">\n\t\t\t\t\t              \t\t'+e+"\n\t\t\t\t\t              \t</ul>\n\t\t\t\t\t            </div>\n\t\t\t\t\t        </div>",s.html(o)}else console.log("数据获取失败，请重试！")},function(){console.log("数据获取失败，请重试！")})}}}).call(exports,n(0))},"8":function(t,exports,n){"use strict";(function($){var n,i,a,e=function(){n.off().on("click",function(){n.hide(),i.hide()}),i.off().on("click",function(){n.hide(),i.hide()})},s=function(t,s){var o={"duration":2e3,"callback":function(){}};$.extend(o,s||{}),clearTimeout(a),n=$('[data-action="publicMask"]'),i=$('[data-action="publicTips"]'),n.length>0?(n.show(),i.show().text(t)):($("body").append('<div data-action="publicMask" class="ordi-toast"></div><div class="ordi-toast-txt" data-action="publicTips">'+t+"</div>"),n=$('[data-action="publicMask"]'),i=$('[data-action="publicTips"]'),e()),i.css("margin",-i[0].offsetHeight/2+"px 0 0 "+-i.width()/2+"px"),a=setTimeout(function(){n.hide(),i.hide(),o.callback()},o.duration)};t.exports={"init":s,"events":e}}).call(exports,n(0))}},[222]);