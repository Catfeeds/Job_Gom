webpackJsonp([3],{"10":function(t,exports,e){"use strict";var i={"tel":{"ept":"请填写11位手机号","err":"手机号格式错误","errBack":"该手机号已被注册"},"msgCode":{"tipGet":"请获取短信验证码","tipEpt":"请输入短信验证码","tipErr":"验证码是6位数字,请重新输入","tipErrEdit":"验证码错误","tipWrong":"验证码有误,请重新输入","checkCodeWrong":"验证码输入错误,请重新输入","send":"验证码已发送，请注意查收","tipSend":"验证码已发送您的手机，10分钟内输入有效","tipDisabled":"验证码再次获取需间隔60s","tipLimitEdit":"获取验证码超限，请稍后再试","btnAfterSend":"秒后重新获取","btnDefault":"获取验证码"},"pwd":{"commonTip":"请输入6-20位英文字母,数字或符号"},"pwdV":{"ept":"请再次输入密码","err":"两次输入的密码不一致"},"nickName":{"eptName":"请输入昵称！","commonTip":"昵称只能输入2-20位字符、字母、数字、-、_","existName":"此昵称太受欢迎了，已经有人抢了~","sucSub":"资料修改成功！","errLine":"网络超时!","wrongName":"此昵称含有敏感词,请重新输入"},"birthTip":{"tip":"生日不能重复设置"},"refCode":{"err":"推荐码错误"},"imgCode":{"ept":"请输入验证码","err":"验证码输入错误，请重新输入"},"login":{"errCode":"请输入验证码","errNum":"请输入账号","errPwd":"请输入密码","agreement":"请同意协议并勾选"},"createCircle":{"typeEmpty":"请选择圈子分类","nameEmpty":"圈子名称不能为空","upperLimit":"抱歉，您创建的圈子已经达到上限，暂不能创建！"},"circle":{"login":"登录成功！","unJoin":"需要先加入该圈子才能发布话题","cannotJoin":"抱歉！该圈子不允许发布话题!","review":"加入圈子审核中，请耐心等待!","joinSuccess":"恭喜您已经加入圈子！","joinSuccessPublic":"恭喜您已经加入圈子，快来发布话题吧！","cannotJoinCircle":"抱歉！该圈子不允许任何人加入！","exit":"您已经退出该圈子！","dissolved":"抱歉！该圈子已被解散"},"qrCodeTip":{"loseEffTip":"二维码已失效","loseEffBtn":"点击刷新","failGetTip":"二维码生成失败","failGetBtn":"重新生成"},"masterApply":{"nameLength":"姓名要2-20个字符","nameType":"姓名仅限汉字和字母","isIdCard":"请填写18位有效身份证号","type":"请选择达人类别","summary":"请输入自我介绍，2-100个字符"},"upload":{"noUpload":"请上传图片","uploadError":"请上传小于2M的图片，支持格式jpg、jpeg、png、gif！","uploadFaild":"上传失败,请重新上传","uploadError_Master":"请上传小于2M的图片，支持格式jpg、jpeg、png、gif!","Q_EXCEED_NUM_LIMIT":"请上传小于2M的图片，支持格式jpg、jpeg、png、gif！","Q_EXCEED_SIZE_LIMIT":"总文件大小超出限制","Q_TYPE_DENIED":"文件类型错误","F_EXCEED_SIZE":"请上传jpg、png格式且小于2M的图片！","excess":"文件个数超出限制"},"errLine":{"tip":"网络错误,请稍后再试！"}};t.exports=i},"11":function(t,exports,e){"use strict";(function($){var i=e(6),n=function(){},a=function(t,e){var a={"fixed":!0,"modal":!0,"content":'<p class="del-pop-p">'+t+"</p>","className":"pop-box","okCls":"pc-btn pc-btnh35 circle-pop-btn","ok":n,"cancel":n,"btnWrapCls":"two-buttons"};$.extend(!0,a,e);var s=i(a);return s.show(),s};t.exports=a}).call(exports,e(0))},"12":function(t,exports,e){(function(i){var n,a,s;!function(r,o){var c={},l=function(t,e){var i,n,a;if("string"==typeof t)return h(t);for(i=[],n=t.length,a=0;a<n;a++)i.push(h(t[a]));return e.apply(null,i)},d=function(t,e,i){2===arguments.length&&(i=e,e=null),l(e||[],function(){u(t,i,arguments)})},u=function(t,e,n){var a,s={"exports":e};"function"==typeof e&&(n.length||(n=[l,s.exports,s,i]),void 0!==(a=e.apply(null,n))&&(s.exports=a)),c[t]=s.exports},h=function(t){var e=c[t]||r[t];if(!e)throw new Error("`"+t+"` is undefined");return e},p=function(t){var e,i,n,a,s,r;r=function(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)};for(e in c)if(i=t,c.hasOwnProperty(e)){for(n=e.split("/"),s=r(n.pop());a=r(n.shift());)i[a]=i[a]||{},i=i[a];i[s]=c[e]}return t},f=function(t){return r.__dollar=t,p(o(r,d,l,i))};"object"==typeof t&&"object"==typeof t.exports?t.exports=f():(a=[e(0)],n=f,void 0!==(s="function"==typeof n?n.apply(exports,a):n)&&(t.exports=s))}(window,function(t,e,require,i){return e("dollar-third",[],function(){var $=t.__dollar||t.jQuery||t.Zepto||i;if(!$)throw new Error("jQuery or Zepto not found!");return $}),e("dollar",["dollar-third"],function(t){return t}),e("promise-third",["dollar"],function($){return{"Deferred":$.Deferred,"when":$.when,"isPromise":function(t){return t&&"function"==typeof t.then}}}),e("promise",["promise-third"],function(t){return t}),e("base",["dollar","promise"],function($,e){function i(t,e){return function(){return t.apply(e,arguments)}}function n(t){var e;return Object.create?Object.create(t):(e=function(){},e.prototype=t,new e)}var a=function(){},s=Function.call;return{"version":"0.1.5","$":$,"Deferred":e.Deferred,"isPromise":e.isPromise,"when":e.when,"browser":function(t){var e={},i=t.match(/WebKit\/([\d.]+)/),n=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),a=t.match(/MSIE\s([\d\.]+)/)||t.match(/(?:trident)(?:.*rv:([\w.]+))?/i),s=t.match(/Firefox\/([\d.]+)/),r=t.match(/Safari\/([\d.]+)/),o=t.match(/OPR\/([\d.]+)/);return i&&(e.webkit=parseFloat(i[1])),n&&(e.chrome=parseFloat(n[1])),a&&(e.ie=parseFloat(a[1])),s&&(e.firefox=parseFloat(s[1])),r&&(e.safari=parseFloat(r[1])),o&&(e.opera=parseFloat(o[1])),e}(navigator.userAgent),"os":function(t){var e={},i=t.match(/(?:Android);?[\s\/]+([\d.]+)?/),n=t.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return i&&(e.android=parseFloat(i[1])),n&&(e.ios=parseFloat(n[1].replace(/_/g,"."))),e}(navigator.userAgent),"inherits":function(t,e,i){var a;return"function"==typeof e?(a=e,e=null):a=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},$.extend(!0,a,t,i||{}),a.__super__=t.prototype,a.prototype=n(t.prototype),e&&$.extend(!0,a.prototype,e),a},"noop":a,"bindFn":i,"log":function(){return t.console?i(console.log,console):a}(),"nextTick":function(){return function(t){setTimeout(t,1)}}(),"slice":function(t){return function(){return s.apply(t,arguments)}}([].slice),"guid":function(){var t=0;return function(e){for(var i=(+new Date).toString(32),n=0;n<5;n++)i+=Math.floor(65535*Math.random()).toString(32);return(e||"wu_")+i+(t++).toString(32)}}(),"formatSize":function(t,e,i){var n;for(i=i||["B","K","M","G","TB"];(n=i.shift())&&t>1024;)t/=1024;return("B"===n?t:t.toFixed(e||2))+n}}}),e("mediator",["base"],function(t){function e(t,e,i,n){return $.grep(t,function(t){return t&&(!e||t.e===e)&&(!i||t.cb===i||t.cb._cb===i)&&(!n||t.ctx===n)})}function i(t,e,i){$.each((t||"").split(r),function(t,n){i(n,e)})}function n(t,e){for(var i,n=!1,a=-1,s=t.length;++a<s;)if(i=t[a],!1===i.cb.apply(i.ctx2,e)){n=!0;break}return!n}var a,$=t.$,s=[].slice,r=/\s+/;return a={"on":function(t,e,n){var a,s=this;return e?(a=this._events||(this._events=[]),i(t,e,function(t,e){var i={"e":t};i.cb=e,i.ctx=n,i.ctx2=n||s,i.id=a.length,a.push(i)}),this):this},"once":function(t,e,n){var a=this;return e?(i(t,e,function(t,e){var i=function(){return a.off(t,i),e.apply(n||a,arguments)};i._cb=e,a.on(t,i,n)}),a):a},"off":function(t,n,a){var s=this._events;return s?t||n||a?(i(t,n,function(t,i){$.each(e(s,t,i,a),function(){delete s[this.id]})}),this):(this._events=[],this):this},"trigger":function(t){var i,a,r;return this._events&&t?(i=s.call(arguments,1),a=e(this._events,t),r=e(this._events,"all"),n(a,i)&&n(r,arguments)):this}},$.extend({"installTo":function(t){return $.extend(t,a)}},a)}),e("uploader",["base","mediator"],function(t,e){function i(t){this.options=$.extend(!0,{},i.options,t),this._init(this.options)}var $=t.$;return i.options={},e.installTo(i.prototype),$.each({"upload":"start-upload","stop":"stop-upload","getFile":"get-file","getFiles":"get-files","addFile":"add-file","addFiles":"add-file","sort":"sort-files","removeFile":"remove-file","cancelFile":"cancel-file","skipFile":"skip-file","retry":"retry","isInProgress":"is-in-progress","makeThumb":"make-thumb","md5File":"md5-file","getDimension":"get-dimension","addButton":"add-btn","predictRuntimeType":"predict-runtime-type","refresh":"refresh","disable":"disable","enable":"enable","reset":"reset"},function(t,e){i.prototype[t]=function(){return this.request(e,arguments)}}),$.extend(i.prototype,{"state":"pending","_init":function(t){var e=this;e.request("init",t,function(){e.state="ready",e.trigger("ready")})},"option":function(t,e){var i=this.options;if(!(arguments.length>1))return t?i[t]:i;$.isPlainObject(e)&&$.isPlainObject(i[t])?$.extend(i[t],e):i[t]=e},"getStats":function(){var t=this.request("get-stats");return t?{"successNum":t.numOfSuccess,"progressNum":t.numOfProgress,"cancelNum":t.numOfCancel,"invalidNum":t.numOfInvalid,"uploadFailNum":t.numOfUploadFailed,"queueNum":t.numOfQueue,"interruptNum":t.numofInterrupt}:{}},"trigger":function(t){var i=[].slice.call(arguments,1),n=this.options,a="on"+t.substring(0,1).toUpperCase()+t.substring(1);return!(!1===e.trigger.apply(this,arguments)||$.isFunction(n[a])&&!1===n[a].apply(this,i)||$.isFunction(this[a])&&!1===this[a].apply(this,i)||!1===e.trigger.apply(e,[this,t].concat(i)))},"destroy":function(){this.request("destroy",arguments),this.off()},"request":t.noop}),t.create=i.create=function(t){return new i(t)},t.Uploader=i,i}),e("runtime/runtime",["base","mediator"],function(t,e){function i(e){this.options=$.extend({"container":document.body},e),this.uid=t.guid("rt_")}var $=t.$,n={},a=function(t){for(var e in t)if(t.hasOwnProperty(e))return e;return null};return $.extend(i.prototype,{"getContainer":function(){var t,e,i=this.options;return this._container?this._container:(t=$(i.container||document.body),e=$(document.createElement("div")),e.attr("id","rt_"+this.uid),e.css({"position":"absolute","top":"0px","left":"0px","width":"1px","height":"1px","overflow":"hidden"}),t.append(e),t.addClass("webuploader-container"),this._container=e,this._parent=t,e)},"init":t.noop,"exec":t.noop,"destroy":function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),i.orders="html5,flash",i.addRuntime=function(t,e){n[t]=e},i.hasRuntime=function(t){return!!(t?n[t]:a(n))},i.create=function(t,e){var s;if(e=e||i.orders,$.each(e.split(/\s*,\s*/g),function(){if(n[this])return s=this,!1}),!(s=s||a(n)))throw new Error("Runtime Error");return new n[s](t)},e.installTo(i.prototype),i}),e("runtime/client",["base","mediator","runtime/runtime"],function(t,e,i){function n(e,n){var s,r=t.Deferred();this.uid=t.guid("client_"),this.runtimeReady=function(t){return r.done(t)},this.connectRuntime=function(e,o){if(s)throw new Error("already connected!");return r.done(o),"string"==typeof e&&a.get(e)&&(s=a.get(e)),s=s||a.get(null,n),s?(t.$.extend(s.options,e),s.__promise.then(r.resolve),s.__client++):(s=i.create(e,e.runtimeOrder),s.__promise=r.promise(),s.once("ready",r.resolve),s.init(),a.add(s),s.__client=1),n&&(s.__standalone=n),s},this.getRuntime=function(){return s},this.disconnectRuntime=function(){s&&(s.__client--,s.__client<=0&&(a.remove(s),delete s.__promise,s.destroy()),s=null)},this.exec=function(){if(s){var i=t.slice(arguments);return e&&i.unshift(e),s.exec.apply(this,i)}},this.getRuid=function(){return s&&s.uid},this.destroy=function(t){return function(){t&&t.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var a;return a=function(){var t={};return{"add":function(e){t[e.uid]=e},"get":function(e,i){var n;if(e)return t[e];for(n in t)if(!i||!t[n].__standalone)return t[n];return null},"remove":function(e){delete t[e.uid]}}}(),e.installTo(n.prototype),n}),e("lib/dnd",["base","mediator","runtime/client"],function(t,e,i){function n(t){t=this.options=$.extend({},n.options,t),t.container=$(t.container),t.container.length&&i.call(this,"DragAndDrop")}var $=t.$;return n.options={"accept":null,"disableGlobalDnd":!1},t.inherits(i,{"constructor":n,"init":function(){var t=this;t.connectRuntime(t.options,function(){t.exec("init"),t.trigger("ready")})}}),e.installTo(n.prototype),n}),e("widgets/widget",["base","uploader"],function(t,e){function i(t){if(!t)return!1;var e=t.length,i=$.type(t);return!(1!==t.nodeType||!e)||("array"===i||"function"!==i&&"string"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t))}function n(t){this.owner=t,this.options=t.options}var $=t.$,a=e.prototype._init,s=e.prototype.destroy,r={},o=[];return $.extend(n.prototype,{"init":t.noop,"invoke":function(t,e){var i=this.responseMap;return i&&t in i&&i[t]in this&&$.isFunction(this[i[t]])?this[i[t]].apply(this,e):r},"request":function(){return this.owner.request.apply(this.owner,arguments)}}),$.extend(e.prototype,{"_init":function(){var t=this,e=t._widgets=[],i=t.options.disableWidgets||"";return $.each(o,function(n,a){(!i||!~i.indexOf(a._name))&&e.push(new a(t))}),a.apply(t,arguments)},"request":function(e,n,a){var s,o,c,l,d=0,u=this._widgets,h=u&&u.length,p=[],f=[];for(n=i(n)?n:[n];d<h;d++)s=u[d],(o=s.invoke(e,n))!==r&&(t.isPromise(o)?f.push(o):p.push(o));return a||f.length?(c=t.when.apply(t,f),l=c.pipe?"pipe":"then",c[l](function(){var e=t.Deferred(),i=arguments;return 1===i.length&&(i=i[0]),setTimeout(function(){e.resolve(i)},1),e.promise()})[a?l:"done"](a||t.noop)):p[0]},"destroy":function(){s.apply(this,arguments),this._widgets=null}}),e.register=n.register=function(e,i){var a,s={"init":"init","destroy":"destroy","name":"anonymous"};return 1===arguments.length?(i=e,$.each(i,function(t){if("_"===t[0]||"name"===t)return void("name"===t&&(s.name=i.name));s[t.replace(/[A-Z]/g,"-$&").toLowerCase()]=t})):s=$.extend(s,e),i.responseMap=s,a=t.inherits(n,i),a._name=s.name,o.push(a),a},e.unRegister=n.unRegister=function(t){if(t&&"anonymous"!==t)for(var e=o.length;e--;)o[e]._name===t&&o.splice(e,1)},n}),e("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(t,e,i){var $=t.$;return e.options.dnd="",e.register({"name":"dnd","init":function(e){if(e.dnd&&"html5"===this.request("predict-runtime-type")){var n,a=this,s=t.Deferred(),r=$.extend({},{"disableGlobalDnd":e.disableGlobalDnd,"container":e.dnd,"accept":e.accept});return this.dnd=n=new i(r),n.once("ready",s.resolve),n.on("drop",function(t){a.request("add-file",[t])}),n.on("accept",function(t){return a.owner.trigger("dndAccept",t)}),n.init(),s.promise()}},"destroy":function(){this.dnd&&this.dnd.destroy()}})}),e("lib/filepaste",["base","mediator","runtime/client"],function(t,e,i){function n(t){t=this.options=$.extend({},t),t.container=$(t.container||document.body),i.call(this,"FilePaste")}var $=t.$;return t.inherits(i,{"constructor":n,"init":function(){var t=this;t.connectRuntime(t.options,function(){t.exec("init"),t.trigger("ready")})}}),e.installTo(n.prototype),n}),e("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(t,e,i){var $=t.$;return e.register({"name":"paste","init":function(e){if(e.paste&&"html5"===this.request("predict-runtime-type")){var n,a=this,s=t.Deferred(),r=$.extend({},{"container":e.paste,"accept":e.accept});return this.paste=n=new i(r),n.once("ready",s.resolve),n.on("paste",function(t){a.owner.request("add-file",[t])}),n.init(),s.promise()}},"destroy":function(){this.paste&&this.paste.destroy()}})}),e("lib/blob",["base","runtime/client"],function(t,e){function i(t,i){var n=this;n.source=i,n.ruid=t,this.size=i.size||0,!i.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+("jpg"===this.ext?"jpeg":this.ext):this.type=i.type||"application/octet-stream",e.call(n,"Blob"),this.uid=i.uid||this.uid,t&&n.connectRuntime(t)}return t.inherits(e,{"constructor":i,"slice":function(t,e){return this.exec("slice",t,e)},"getSource":function(){return this.source}}),i}),e("lib/file",["base","lib/blob"],function(t,e){function i(t,i){var s;this.name=i.name||"untitled"+n++,s=a.exec(i.name)?RegExp.$1.toLowerCase():"",!s&&i.type&&(s=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(i.type)?RegExp.$1.toLowerCase():"",this.name+="."+s),this.ext=s,this.lastModifiedDate=i.lastModifiedDate||(new Date).toLocaleString(),e.apply(this,arguments)}var n=1,a=/\.([^.]+)$/;return t.inherits(e,i)}),e("lib/filepicker",["base","runtime/client","lib/file"],function(e,i,n){function a(t){if(t=this.options=$.extend({},a.options,t),t.container=$(t.id),!t.container.length)throw new Error("按钮指定错误");t.innerHTML=t.innerHTML||t.label||t.container.html()||"",t.button=$(t.button||document.createElement("div")),t.button.html(t.innerHTML),t.container.html(t.button),i.call(this,"FilePicker",!0)}var $=e.$;return a.options={"button":null,"container":null,"label":null,"innerHTML":null,"multiple":!0,"accept":null,"name":"file"},e.inherits(i,{"constructor":a,"init":function(){var i=this,a=i.options,s=a.button;s.addClass("webuploader-pick"),i.on("all",function(t){var e;switch(t){case"mouseenter":s.addClass("webuploader-pick-hover");break;case"mouseleave":s.removeClass("webuploader-pick-hover");break;case"change":e=i.exec("getFiles"),i.trigger("select",$.map(e,function(t){return t=new n(i.getRuid(),t),t._refer=a.container,t}),a.container)}}),i.connectRuntime(a,function(){i.refresh(),i.exec("init",a),i.trigger("ready")}),this._resizeHandler=e.bindFn(this.refresh,this),$(t).on("resize",this._resizeHandler)},"refresh":function(){var t=this.getRuntime().getContainer(),e=this.options.button,i=e.outerWidth?e.outerWidth():e.width(),n=e.outerHeight?e.outerHeight():e.height(),a=e.offset();i&&n&&t.css({"bottom":"auto","right":"auto","width":i+"px","height":n+"px"}).offset(a)},"enable":function(){this.options.button.removeClass("webuploader-pick-disable"),this.refresh()},"disable":function(){var t=this.options.button;this.getRuntime().getContainer().css({"top":"-99999px"}),t.addClass("webuploader-pick-disable")},"destroy":function(){var e=this.options.button;$(t).off("resize",this._resizeHandler),e.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),a}),e("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(t,e,i){var $=t.$;return $.extend(e.options,{"pick":null,"accept":null}),e.register({"name":"picker","init":function(t){return this.pickers=[],t.pick&&this.addBtn(t.pick)},"refresh":function(){$.each(this.pickers,function(){this.refresh()})},"addBtn":function(e){var n=this,a=n.options,s=a.accept,r=[];if(e)return $.isPlainObject(e)||(e={"id":e}),$(e.id).each(function(){var o,c,l;l=t.Deferred(),o=$.extend({},e,{"accept":$.isPlainObject(s)?[s]:s,"swf":a.swf,"runtimeOrder":a.runtimeOrder,"id":this}),c=new i(o),c.once("ready",l.resolve),c.on("select",function(t){n.owner.request("add-file",[t])}),c.init(),n.pickers.push(c),r.push(l.promise())}),t.when.apply(t,r)},"disable":function(){$.each(this.pickers,function(){this.disable()})},"enable":function(){$.each(this.pickers,function(){this.enable()})},"destroy":function(){$.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),e("lib/image",["base","runtime/client","lib/blob"],function(t,e,i){function n(t){this.options=$.extend({},n.options,t),e.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var $=t.$;return n.options={"quality":90,"crop":!1,"preserveHeaders":!1,"allowMagnify":!1},t.inherits(e,{"constructor":n,"info":function(t){return t?(this._info=t,this):this._info},"meta":function(t){return t?(this._meta=t,this):this._meta},"loadFromBlob":function(t){var e=this,i=t.getRuid();this.connectRuntime(i,function(){e.exec("init",e.options),e.exec("loadFromBlob",t)})},"resize":function(){var e=t.slice(arguments);return this.exec.apply(this,["resize"].concat(e))},"crop":function(){var e=t.slice(arguments);return this.exec.apply(this,["crop"].concat(e))},"getAsDataUrl":function(t){return this.exec("getAsDataUrl",t)},"getAsBlob":function(t){var e=this.exec("getAsBlob",t);return new i(this.getRuid(),e)}}),n}),e("widgets/image",["base","uploader","lib/image","widgets/widget"],function(t,e,i){var n,$=t.$;return n=function(t){var e=0,i=[],n=function(){for(var t;i.length&&e<5242880;)t=i.shift(),e+=t[0],t[1]()};return function(t,a,s){i.push([a,s]),t.once("destroy",function(){e-=a,setTimeout(n,1)}),setTimeout(n,1)}}(),$.extend(e.options,{"thumb":{"width":110,"height":110,"quality":70,"allowMagnify":!0,"crop":!0,"preserveHeaders":!1,"type":"image/jpeg"},"compress":{"width":1600,"height":1600,"quality":90,"allowMagnify":!1,"crop":!1,"preserveHeaders":!0}}),e.register({"name":"image","makeThumb":function(t,e,a,s){var r,o,c=!1;if(t=this.request("get-file",t),!t.type.match(/^image/))return void e(!0);r=$.extend({},this.options.thumb),c=!$.isPlainObject(this.options.thumb),$.isPlainObject(a)&&(r=$.extend(r,a),a=null),a=a||r.width,s=s||r.height,o=new i(r),o.once("load",function(){t._info=t._info||o.info(),t._meta=t._meta||o.meta(),a<=1&&a>0&&(a=t._info.width*a),s<=1&&s>0&&(s=t._info.height*s),c?o.resize(t._info.width,t._info.height):o.resize(a,s)}),o.once("complete",function(){e(!1,o.getAsDataUrl(r.type)),o.destroy()}),o.once("error",function(t){e(t||!0),o.destroy()}),n(o,t.source.size,function(){t._info&&o.info(t._info),t._meta&&o.meta(t._meta),o.loadFromBlob(t.source)})},"beforeSendFile":function(e){var n,a,s=this.options.compress||this.options.resize,r=s&&s.compressSize||0,o=s&&s.noCompressIfLarger||!1;if(e=this.request("get-file",e),s&&~"image/jpeg,image/jpg".indexOf(e.type)&&!(e.size<r)&&!e._compressed)return s=$.extend({},s),a=t.Deferred(),n=new i(s),a.always(function(){n.destroy(),n=null}),n.once("error",a.reject),n.once("load",function(){var t=s.width,i=s.height;e._info=e._info||n.info(),e._meta=e._meta||n.meta(),t<=1&&t>0&&(t=e._info.width*t),i<=1&&i>0&&(i=e._info.height*i),n.resize(t,i)}),n.once("complete",function(){var t,i;try{t=n.getAsBlob(s.type),i=e.size,(!o||t.size<i)&&(e.source=t,e.size=t.size,e.trigger("resize",t.size,i)),e._compressed=!0,a.resolve()}catch(t){a.resolve()}}),e._info&&n.info(e._info),e._meta&&n.meta(e._meta),n.loadFromBlob(e.source),a.promise()}})}),e("file",["base","mediator"],function(t,e){function i(){return a+s++}function n(t){this.name=t.name||"Untitled",this.size=t.size||0,this.type=t.type||"application/octet-stream",this.lastModifiedDate=t.lastModifiedDate||1*new Date,this.id=i(),this.ext=r.exec(this.name)?RegExp.$1:"",this.statusText="",o[this.id]=n.Status.INITED,this.source=t,this.loaded=0,this.on("error",function(t){this.setStatus(n.Status.ERROR,t)})}var $=t.$,a="WU_FILE_",s=0,r=/\.([^.]+)$/,o={};return $.extend(n.prototype,{"setStatus":function(t,e){var i=o[this.id];void 0!==e&&(this.statusText=e),t!==i&&(o[this.id]=t,this.trigger("statuschange",t,i))},"getStatus":function(){return o[this.id]},"getSource":function(){return this.source},"destroy":function(){this.off(),delete o[this.id]}}),e.installTo(n.prototype),n.Status={"INITED":"inited","QUEUED":"queued","PROGRESS":"progress","ERROR":"error","COMPLETE":"complete","CANCELLED":"cancelled","INTERRUPT":"interrupt","INVALID":"invalid"},n}),e("queue",["base","mediator","file"],function(t,e,i){function n(){this.stats={"numOfQueue":0,"numOfSuccess":0,"numOfCancel":0,"numOfProgress":0,"numOfUploadFailed":0,"numOfInvalid":0,"numofDeleted":0,"numofInterrupt":0},this._queue=[],this._map={}}var $=t.$,a=i.Status;return $.extend(n.prototype,{"append":function(t){return this._queue.push(t),this._fileAdded(t),this},"prepend":function(t){return this._queue.unshift(t),this._fileAdded(t),this},"getFile":function(t){return"string"!=typeof t?t:this._map[t]},"fetch":function(t){var e,i,n=this._queue.length;for(t=t||a.QUEUED,e=0;e<n;e++)if(i=this._queue[e],t===i.getStatus())return i;return null},"sort":function(t){"function"==typeof t&&this._queue.sort(t)},"getFiles":function(){for(var t,e=[].slice.call(arguments,0),i=[],n=0,a=this._queue.length;n<a;n++)t=this._queue[n],e.length&&!~$.inArray(t.getStatus(),e)||i.push(t);return i},"removeFile":function(t){this._map[t.id]&&(delete this._map[t.id],t.destroy(),this.stats.numofDeleted++)},"_fileAdded":function(t){var e=this;this._map[t.id]||(this._map[t.id]=t,t.on("statuschange",function(t,i){e._onFileStatusChange(t,i)}))},"_onFileStatusChange":function(t,e){var i=this.stats;switch(e){case a.PROGRESS:i.numOfProgress--;break;case a.QUEUED:i.numOfQueue--;break;case a.ERROR:i.numOfUploadFailed--;break;case a.INVALID:i.numOfInvalid--;break;case a.INTERRUPT:i.numofInterrupt--}switch(t){case a.QUEUED:i.numOfQueue++;break;case a.PROGRESS:i.numOfProgress++;break;case a.ERROR:i.numOfUploadFailed++;break;case a.COMPLETE:i.numOfSuccess++;break;case a.CANCELLED:i.numOfCancel++;break;case a.INVALID:i.numOfInvalid++;break;case a.INTERRUPT:i.numofInterrupt++}}}),e.installTo(n.prototype),n}),e("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(t,e,i,n,a,s){var $=t.$,r=/\.\w+$/,o=n.Status;return e.register({"name":"queue","init":function(e){var n,a,r,o,c,l,d,u=this;if($.isPlainObject(e.accept)&&(e.accept=[e.accept]),e.accept){for(c=[],r=0,a=e.accept.length;r<a;r++)(o=e.accept[r].extensions)&&c.push(o);c.length&&(l="\\."+c.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),u.accept=new RegExp(l,"i")}if(u.queue=new i,u.stats=u.queue.stats,"html5"===this.request("predict-runtime-type"))return n=t.Deferred(),this.placeholder=d=new s("Placeholder"),d.connectRuntime({"runtimeOrder":"html5"},function(){u._ruid=d.getRuid(),n.resolve()}),n.promise()},"_wrapFile":function(t){if(!(t instanceof n)){if(!(t instanceof a)){if(!this._ruid)throw new Error("Can't add external files.");t=new a(this._ruid,t)}t=new n(t)}return t},"acceptFile":function(t){return!(!(!t||!t.size||this.accept&&null!==r.exec(t.name))||!this.accept.test(t.name))},"_addFile":function(t){var e=this;if(t=e._wrapFile(t),e.owner.trigger("beforeFileQueued",t))return e.acceptFile(t)?(e.queue.append(t),e.owner.trigger("fileQueued",t),t):void e.owner.trigger("error","Q_TYPE_DENIED",t)},"getFile":function(t){return this.queue.getFile(t)},"addFile":function(t){var e=this;t.length||(t=[t]),t=$.map(t,function(t){return e._addFile(t)}),e.owner.trigger("filesQueued",t),e.options.auto&&setTimeout(function(){e.request("start-upload")},20)},"getStats":function(){return this.stats},"removeFile":function(t,e){var i=this;t=t.id?t:i.queue.getFile(t),this.request("cancel-file",t),e&&this.queue.removeFile(t)},"getFiles":function(){return this.queue.getFiles.apply(this.queue,arguments)},"fetchFile":function(){return this.queue.fetch.apply(this.queue,arguments)},"retry":function(t,e){var i,n,a,s=this;if(t)return t=t.id?t:s.queue.getFile(t),t.setStatus(o.QUEUED),void(e||s.request("start-upload"));for(i=s.queue.getFiles(o.ERROR),n=0,a=i.length;n<a;n++)t=i[n],t.setStatus(o.QUEUED);s.request("start-upload")},"sortFiles":function(){return this.queue.sort.apply(this.queue,arguments)},"reset":function(){this.owner.trigger("reset"),this.queue=new i,this.stats=this.queue.stats},"destroy":function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),e("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(t,e){return t.support=function(){return e.hasRuntime.apply(e,arguments)},t.register({"name":"runtime","init":function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},"predictRuntimeType":function(){var t,i,n=this.options.runtimeOrder||e.orders,a=this.type;if(!a)for(n=n.split(/\s*,\s*/g),t=0,i=n.length;t<i;t++)if(e.hasRuntime(n[t])){this.type=a=n[t];break}return a}})}),e("lib/transport",["base","runtime/client","mediator"],function(t,e,i){function n(t){var i=this;t=i.options=$.extend(!0,{},n.options,t||{}),e.call(this,"Transport"),this._blob=null,this._formData=t.formData||{},this._headers=t.headers||{},this.on("progress",this._timeout),this.on("load error",function(){i.trigger("progress",1),clearTimeout(i._timer)})}var $=t.$;return n.options={"server":"","method":"POST","withCredentials":!1,"fileVal":"file","timeout":12e4,"formData":{},"headers":{},"sendAsBinary":!1},$.extend(n.prototype,{"appendBlob":function(t,e,i){var n=this,a=n.options;n.getRuid()&&n.disconnectRuntime(),n.connectRuntime(e.ruid,function(){n.exec("init")}),n._blob=e,a.fileVal=t||a.fileVal,a.filename=i||a.filename},"append":function(t,e){"object"==typeof t?$.extend(this._formData,t):this._formData[t]=e},"setRequestHeader":function(t,e){"object"==typeof t?$.extend(this._headers,t):this._headers[t]=e},"send":function(t){this.exec("send",t),this._timeout()},"abort":function(){return clearTimeout(this._timer),this.exec("abort")},"destroy":function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},"getResponse":function(){return this.exec("getResponse")},"getResponseAsJson":function(){return this.exec("getResponseAsJson")},"getStatus":function(){return this.exec("getStatus")},"_timeout":function(){var t=this,e=t.options.timeout;e&&(clearTimeout(t._timer),t._timer=setTimeout(function(){t.abort(),t.trigger("error","timeout")},e))}}),i.installTo(n.prototype),n}),e("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(t,e,i,n){function a(t,e){var i,n,a=[],s=t.source,r=s.size,o=e?Math.ceil(r/e):1,c=0,l=0;for(n={"file":t,"has":function(){return!!a.length},"shift":function(){return a.shift()},"unshift":function(t){a.unshift(t)}};l<o;)i=Math.min(e,r-c),a.push({"file":t,"start":c,"end":e?c+i:r,"total":r,"chunks":o,"chunk":l++,"cuted":n}),c+=i;return t.blocks=a.concat(),t.remaning=a.length,n}var $=t.$,s=t.isPromise,r=i.Status;$.extend(e.options,{"prepareNextFile":!1,"chunked":!1,"chunkSize":5242880,"chunkRetry":2,"threads":3,"formData":{}}),e.register({"name":"upload","init":function(){var e=this.owner,i=this;this.runing=!1,this.progress=!1,e.on("startUpload",function(){i.progress=!0}).on("uploadFinished",function(){i.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=t.bindFn(this._tick,this),e.on("uploadComplete",function(t){t.blocks&&$.each(t.blocks,function(t,e){e.transport&&(e.transport.abort(),e.transport.destroy()),delete e.transport}),delete t.blocks,delete t.remaning})},"reset":function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},"startUpload":function(e){var i=this;if($.each(i.request("get-files",r.INVALID),function(){i.request("remove-file",this)}),e)if(e=e.id?e:i.request("get-file",e),e.getStatus()===r.INTERRUPT)$.each(i.pool,function(t,i){i.file===e&&i.transport&&i.transport.send()}),e.setStatus(r.QUEUED);else{if(e.getStatus()===r.PROGRESS)return;e.setStatus(r.QUEUED)}else $.each(i.request("get-files",[r.INITED]),function(){this.setStatus(r.QUEUED)});if(!i.runing){i.runing=!0;var n=[];$.each(i.pool,function(t,e){var a=e.file;a.getStatus()===r.INTERRUPT&&(n.push(a),i._trigged=!1,e.transport&&e.transport.send())});for(var e;e=n.shift();)e.setStatus(r.PROGRESS);e||$.each(i.request("get-files",r.INTERRUPT),function(){this.setStatus(r.PROGRESS)}),i._trigged=!1,t.nextTick(i.__tick),i.owner.trigger("startUpload")}},"stopUpload":function(e,i){var n=this;if(!0===e&&(i=e,e=null),!1!==n.runing){if(e){if(e=e.id?e:n.request("get-file",e),e.getStatus()!==r.PROGRESS&&e.getStatus()!==r.QUEUED)return;return e.setStatus(r.INTERRUPT),$.each(n.pool,function(t,i){i.file===e&&(i.transport&&i.transport.abort(),n._putback(i),n._popBlock(i))}),t.nextTick(n.__tick)}n.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(r.INTERRUPT),i&&$.each(n.pool,function(t,e){e.transport&&e.transport.abort(),e.file.setStatus(r.INTERRUPT)}),n.owner.trigger("stopUpload")}},"cancelFile":function(t){t=t.id?t:this.request("get-file",t),t.blocks&&$.each(t.blocks,function(t,e){var i=e.transport;i&&(i.abort(),i.destroy(),delete e.transport)}),t.setStatus(r.CANCELLED),this.owner.trigger("fileDequeued",t)},"isInProgress":function(){return!!this.progress},"_getStats":function(){return this.request("get-stats")},"skipFile":function(t,e){t=t.id?t:this.request("get-file",t),t.setStatus(e||r.COMPLETE),t.skipped=!0,t.blocks&&$.each(t.blocks,function(t,e){var i=e.transport;i&&(i.abort(),i.destroy(),delete e.transport)}),this.owner.trigger("uploadSkip",t)},"_tick":function(){var e,i,n=this,a=n.options;if(n._promise)return n._promise.always(n.__tick);n.pool.length<a.threads&&(i=n._nextBlock())?(n._trigged=!1,e=function(e){n._promise=null,e&&e.file&&n._startSend(e),t.nextTick(n.__tick)},n._promise=s(i)?i.always(e):e(i)):n.remaning||n._getStats().numOfQueue||n._getStats().numofInterrupt||(n.runing=!1,n._trigged||t.nextTick(function(){n.owner.trigger("uploadFinished")}),n._trigged=!0)},"_putback":function(t){var e;t.cuted.unshift(t),~(e=this.stack.indexOf(t.cuted))||this.stack.unshift(t.cuted)},"_getStack":function(){for(var t,e=0;t=this.stack[e++];){if(t.has()&&t.file.getStatus()===r.PROGRESS)return t;(!t.has()||t.file.getStatus()!==r.PROGRESS&&t.file.getStatus()!==r.INTERRUPT)&&this.stack.splice(--e,1)}return null},"_nextBlock":function(){var t,e,i,n,r=this,o=r.options;return(t=this._getStack())?(o.prepareNextFile&&!r.pending.length&&r._prepareNextFile(),t.shift()):r.runing?(!r.pending.length&&r._getStats().numOfQueue&&r._prepareNextFile(),e=r.pending.shift(),i=function(e){return e?(t=a(e,o.chunked?o.chunkSize:0),r.stack.push(t),t.shift()):null},s(e)?(n=e.file,e=e[e.pipe?"pipe":"then"](i),e.file=n,e):i(e)):void 0},"_prepareNextFile":function(){var t,e=this,i=e.request("fetch-file"),n=e.pending;i&&(t=e.request("before-send-file",i,function(){return i.getStatus()===r.PROGRESS||i.getStatus()===r.INTERRUPT?i:e._finishFile(i)}),e.owner.trigger("uploadStart",i),i.setStatus(r.PROGRESS),t.file=i,t.done(function(){var e=$.inArray(t,n);~e&&n.splice(e,1,i)}),t.fail(function(t){i.setStatus(r.ERROR,t),e.owner.trigger("uploadError",i,t),e.owner.trigger("uploadComplete",i)}),n.push(t))},"_popBlock":function(t){var e=$.inArray(t,this.pool);this.pool.splice(e,1),t.file.remaning--,this.remaning--},"_startSend":function(e){var i,n=this,a=e.file;if(a.getStatus()!==r.PROGRESS)return void(a.getStatus()===r.INTERRUPT&&n._putback(e));n.pool.push(e),n.remaning++,e.blob=1===e.chunks?a.source:a.source.slice(e.start,e.end),i=n.request("before-send",e,function(){a.getStatus()===r.PROGRESS?n._doSend(e):(n._popBlock(e),t.nextTick(n.__tick))}),i.fail(function(){1===a.remaning?n._finishFile(a).always(function(){e.percentage=1,n._popBlock(e),n.owner.trigger("uploadComplete",a),t.nextTick(n.__tick)}):(e.percentage=1,n.updateFileProgress(a),n._popBlock(e),t.nextTick(n.__tick))})},"_doSend":function(e){var i,a,s=this,o=s.owner,c=s.options,l=e.file,d=new n(c),u=$.extend({},c.formData),h=$.extend({},c.headers);e.transport=d,d.on("destroy",function(){delete e.transport,s._popBlock(e),t.nextTick(s.__tick)}),d.on("progress",function(t){e.percentage=t,s.updateFileProgress(l)}),i=function(t){var i;return a=d.getResponseAsJson()||{},a._raw=d.getResponse(),i=function(e){t=e},o.trigger("uploadAccept",e,a,i)||(t=t||"server"),t},d.on("error",function(t,n){e.retried=e.retried||0,e.chunks>1&&~"http,abort".indexOf(t)&&e.retried<c.chunkRetry?(e.retried++,d.send()):(n||"server"!==t||(t=i(t)),l.setStatus(r.ERROR,t),o.trigger("uploadError",l,t),o.trigger("uploadComplete",l))}),d.on("load",function(){var t;if(t=i())return void d.trigger("error",t,!0);1===l.remaning?s._finishFile(l,a):d.destroy()}),u=$.extend(u,{"id":l.id,"name":l.name,"type":l.type,"lastModifiedDate":l.lastModifiedDate,"size":l.size}),e.chunks>1&&$.extend(u,{"chunks":e.chunks,"chunk":e.chunk}),o.trigger("uploadBeforeSend",e,u,h),d.appendBlob(c.fileVal,e.blob,l.name),d.append(u),d.setRequestHeader(h),d.send()},"_finishFile":function(t,e,i){var n=this.owner;return n.request("after-send-file",arguments,function(){t.setStatus(r.COMPLETE),n.trigger("uploadSuccess",t,e,i)}).fail(function(e){t.getStatus()===r.PROGRESS&&t.setStatus(r.ERROR,e),n.trigger("uploadError",t,e)}).always(function(){n.trigger("uploadComplete",t)})},"updateFileProgress":function(t){var e=0,i=0;t.blocks&&($.each(t.blocks,function(t,e){i+=(e.percentage||0)*(e.end-e.start)}),e=i/t.size,this.owner.trigger("uploadProgress",t,e||0))}})}),e("widgets/validator",["base","uploader","file","widgets/widget"],function(t,e,i){var n,$=t.$,a={};return n={"addValidator":function(t,e){a[t]=e},"removeValidator":function(t){delete a[t]}},e.register({"name":"validator","init":function(){var e=this;t.nextTick(function(){$.each(a,function(){this.call(e.owner)})})}}),n.addValidator("fileNumLimit",function(){var t=this,e=t.options,i=0,n=parseInt(e.fileNumLimit,10),a=!0;n&&(t.on("beforeFileQueued",function(t){return i>=n&&a&&(a=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",n,t),setTimeout(function(){a=!0},1)),!(i>=n)}),t.on("fileQueued",function(){i++}),t.on("fileDequeued",function(){i--}),t.on("reset",function(){i=0}))}),n.addValidator("fileSizeLimit",function(){var t=this,e=t.options,i=0,n=parseInt(e.fileSizeLimit,10),a=!0;n&&(t.on("beforeFileQueued",function(t){var e=i+t.size>n;return e&&a&&(a=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",n,t),setTimeout(function(){a=!0},1)),!e}),t.on("fileQueued",function(t){i+=t.size}),t.on("fileDequeued",function(t){i-=t.size}),t.on("reset",function(){i=0}))}),n.addValidator("fileSingleSizeLimit",function(){var t=this,e=t.options,n=e.fileSingleSizeLimit;n&&t.on("beforeFileQueued",function(t){if(t.size>n)return t.setStatus(i.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",n,t),!1})}),n.addValidator("duplicate",function(){function t(t){for(var e,i=0,n=0,a=t.length;n<a;n++)e=t.charCodeAt(n),i=e+(i<<6)+(i<<16)-i;return i}var e=this,i=e.options,n={};i.duplicate||(e.on("beforeFileQueued",function(e){var i=e.__hash||(e.__hash=t(e.name+e.size+e.lastModifiedDate));if(n[i])return this.trigger("error","F_DUPLICATE",e),!1}),e.on("fileQueued",function(t){var e=t.__hash;e&&(n[e]=!0)}),e.on("fileDequeued",function(t){var e=t.__hash;e&&delete n[e]}),e.on("reset",function(){n={}}))}),n}),e("lib/md5",["runtime/client","mediator"],function(t,e){function i(){t.call(this,"Md5")}return e.installTo(i.prototype),i.prototype.loadFromBlob=function(t){var e=this;e.getRuid()&&e.disconnectRuntime(),e.connectRuntime(t.ruid,function(){e.exec("init"),e.exec("loadFromBlob",t)})},i.prototype.getResult=function(){return this.exec("getResult")},i}),e("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(t,e,i,n){return e.register({"name":"md5","md5File":function(e,a,s){var r=new i,o=t.Deferred(),c=e instanceof n?e:this.request("get-file",e).source;return r.on("progress load",function(t){t=t||{},o.notify(t.total?t.loaded/t.total:1)}),r.on("complete",function(){o.resolve(r.getResult())}),r.on("error",function(t){o.reject(t)}),arguments.length>1&&(a=a||0,s=s||0,a<0&&(a=c.size+a),s<0&&(s=c.size+s),s=Math.min(s,c.size),c=c.slice(a,s)),r.loadFromBlob(c),o.promise()}})}),e("runtime/compbase",[],function(){function t(t,e){this.owner=t,this.options=t.options,this.getRuntime=function(){return e},this.getRuid=function(){return e.uid},this.trigger=function(){return t.trigger.apply(t,arguments)}}return t}),e("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(e,i,n){function a(){var t={},n=this,a=this.destroy;i.apply(n,arguments),n.type=s,n.exec=function(i,a){var s,o=this,c=o.uid,l=e.slice(arguments,2);if(r[i]&&(s=t[c]=t[c]||new r[i](o,n),s[a]))return s[a].apply(s,l)},n.destroy=function(){return a&&a.apply(this,arguments)}}var s="html5",r={};return e.inherits(i,{"constructor":a,"init":function(){var t=this;setTimeout(function(){t.trigger("ready")},1)}}),a.register=function(t,i){return r[t]=e.inherits(n,i)},t.Blob&&t.FileReader&&t.DataView&&i.addRuntime(s,a),a}),e("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(t,e){return t.register("Blob",{"slice":function(t,i){var n=this.owner.source;return n=(n.slice||n.webkitSlice||n.mozSlice).call(n,t,i),new e(this.getRuid(),n)}})}),e("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(t,e,i){var $=t.$,n="webuploader-dnd-";return e.register("DragAndDrop",{"init":function(){var e=this.elem=this.options.container;this.dragEnterHandler=t.bindFn(this._dragEnterHandler,this),this.dragOverHandler=t.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=t.bindFn(this._dragLeaveHandler,this),this.dropHandler=t.bindFn(this._dropHandler,this),this.dndOver=!1,e.on("dragenter",this.dragEnterHandler),e.on("dragover",this.dragOverHandler),e.on("dragleave",this.dragLeaveHandler),e.on("drop",this.dropHandler),this.options.disableGlobalDnd&&($(document).on("dragover",this.dragOverHandler),$(document).on("drop",this.dropHandler))},"_dragEnterHandler":function(t){var e,i=this,a=i._denied||!1;return t=t.originalEvent||t,i.dndOver||(i.dndOver=!0,e=t.dataTransfer.items,e&&e.length&&(i._denied=a=!i.trigger("accept",e)),i.elem.addClass(n+"over"),i.elem[a?"addClass":"removeClass"](n+"denied")),t.dataTransfer.dropEffect=a?"none":"copy",!1},"_dragOverHandler":function(t){var e=this.elem.parent().get(0);return!(e&&!$.contains(e,t.currentTarget))&&(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,t),!1)},"_dragLeaveHandler":function(){var t,e=this;return t=function(){e.dndOver=!1,e.elem.removeClass(n+"over "+n+"denied")},clearTimeout(e._leaveTimer),e._leaveTimer=setTimeout(t,100),!1},"_dropHandler":function(t){var e,a,s=this,r=s.getRuid(),o=s.elem.parent().get(0);if(o&&!$.contains(o,t.currentTarget))return!1;t=t.originalEvent||t,e=t.dataTransfer;try{a=e.getData("text/html")}catch(t){}return a?void 0:(s._getTansferFiles(e,function(t){s.trigger("drop",$.map(t,function(t){return new i(r,t)}))}),s.dndOver=!1,s.elem.removeClass(n+"over"),!1)},"_getTansferFiles":function(e,i){var n,a,s,r,o,c,l,d=[],u=[];for(n=e.items,a=e.files,l=!(!n||!n[0].webkitGetAsEntry),o=0,c=a.length;o<c;o++)s=a[o],r=n&&n[o],l&&r.webkitGetAsEntry().isDirectory?u.push(this._traverseDirectoryTree(r.webkitGetAsEntry(),d)):d.push(s);t.when.apply(t,u).done(function(){d.length&&i(d)})},"_traverseDirectoryTree":function(e,i){var n=t.Deferred(),a=this;return e.isFile?e.file(function(t){i.push(t),n.resolve()}):e.isDirectory&&e.createReader().readEntries(function(e){var s,r=e.length,o=[],c=[];for(s=0;s<r;s++)o.push(a._traverseDirectoryTree(e[s],c));t.when.apply(t,o).then(function(){i.push.apply(i,c),n.resolve()},n.reject)}),n.promise()},"destroy":function(){var t=this.elem;t&&(t.off("dragenter",this.dragEnterHandler),t.off("dragover",this.dragOverHandler),t.off("dragleave",this.dragLeaveHandler),t.off("drop",this.dropHandler),this.options.disableGlobalDnd&&($(document).off("dragover",this.dragOverHandler),$(document).off("drop",this.dropHandler)))}})}),e("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(t,e,i){return e.register("FilePaste",{"init":function(){var e,i,n,a,s=this.options,r=this.elem=s.container,o=".*";if(s.accept){for(e=[],i=0,n=s.accept.length;i<n;i++)(a=s.accept[i].mimeTypes)&&e.push(a);e.length&&(o=e.join(","),o=o.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=o=new RegExp(o,"i"),this.hander=t.bindFn(this._pasteHander,this),r.on("paste",this.hander)},"_pasteHander":function(t){var e,n,a,s,r,o=[],c=this.getRuid();for(t=t.originalEvent||t,e=t.clipboardData.items,s=0,r=e.length;s<r;s++)n=e[s],"file"===n.kind&&(a=n.getAsFile())&&o.push(new i(c,a));o.length&&(t.preventDefault(),t.stopPropagation(),this.trigger("paste",o))},"destroy":function(){this.elem.off("paste",this.hander)}})}),e("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(t,e){var $=t.$;return e.register("FilePicker",{"init":function(){var t,e,i,n,a=this.getRuntime().getContainer(),s=this,r=s.owner,o=s.options,c=this.label=$(document.createElement("label")),l=this.input=$(document.createElement("input"));if(l.attr("type","file"),l.attr("name","file"),l.addClass("webuploader-element-invisible"),c.on("click",function(){l.trigger("click")}),c.css({"opacity":0,"width":"100%","height":"100%","display":"block","cursor":"pointer","background":"#ffffff"}),o.multiple&&l.attr("multiple","multiple"),o.accept&&o.accept.length>0){for(t=[],e=0,i=o.accept.length;e<i;e++)t.push(o.accept[e].mimeTypes);l.attr("accept",t.join(","))}a.append(l),a.append(c),n=function(t){r.trigger(t.type)},l.on("change",function(t){var e,i=arguments.callee;s.files=t.target.files,e=this.cloneNode(!0),e.value=null,this.parentNode.replaceChild(e,this),l.off(),l=$(e).on("change",i).on("mouseenter mouseleave",n),r.trigger("change")}),c.on("mouseenter mouseleave",n)},"getFiles":function(){return this.files},"destroy":function(){this.input.off(),this.label.off()}})}),e("runtime/html5/util",["base"],function(e){var i=t.createObjectURL&&t||t.URL&&URL.revokeObjectURL&&URL||t.webkitURL,n=e.noop,a=n;return i&&(n=function(){return i.createObjectURL.apply(i,arguments)},a=function(){return i.revokeObjectURL.apply(i,arguments)}),{"createObjectURL":n,"revokeObjectURL":a,"dataURL2Blob":function(t){var e,i,n,a,s,r;for(r=t.split(","),e=~r[0].indexOf("base64")?atob(r[1]):decodeURIComponent(r[1]),n=new ArrayBuffer(e.length),i=new Uint8Array(n),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return s=r[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(n,s)},"dataURL2ArrayBuffer":function(t){var e,i,n,a;for(a=t.split(","),e=~a[0].indexOf("base64")?atob(a[1]):decodeURIComponent(a[1]),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i.buffer},"arrayBufferToBlob":function(e,i){var n,a=t.BlobBuilder||t.WebKitBlobBuilder;return a?(n=new a,n.append(e),n.getBlob(i)):new Blob([e],i?{"type":i}:{})},"canvasToDataUrl":function(t,e,i){return t.toDataURL(e,i/100)},"parseMeta":function(t,e){e(!1,{})},"updateImageHead":function(t){return t}}}),e("runtime/html5/imagemeta",["runtime/html5/util"],function(t){var e;return e={"parsers":{"65505":[]},"maxMetaDataSize":262144,"parse":function(t,e){var i=this,n=new FileReader;n.onload=function(){e(!1,i._parse(this.result)),n=n.onload=n.onerror=null},n.onerror=function(t){e(t.message),n=n.onload=n.onerror=null},t=t.slice(0,i.maxMetaDataSize),n.readAsArrayBuffer(t.getSource())},"_parse":function(t,i){if(!(t.byteLength<6)){var n,a,s,r,o=new DataView(t),c=2,l=o.byteLength-4,d=c,u={};if(65496===o.getUint16(0)){for(;c<l&&((n=o.getUint16(c))>=65504&&n<=65519||65534===n)&&(a=o.getUint16(c+2)+2,!(c+a>o.byteLength));){if(s=e.parsers[n],!i&&s)for(r=0;r<s.length;r+=1)s[r].call(e,o,c,a,u);c+=a,d=c}d>6&&(t.slice?u.imageHead=t.slice(2,d):u.imageHead=new Uint8Array(t).subarray(2,d))}return u}},"updateImageHead":function(t,e){var i,n,a,s=this._parse(t,!0);return a=2,s.imageHead&&(a=2+s.imageHead.byteLength),n=t.slice?t.slice(a):new Uint8Array(t).subarray(a),i=new Uint8Array(e.byteLength+2+n.byteLength),i[0]=255,i[1]=216,i.set(new Uint8Array(e),2),i.set(new Uint8Array(n),e.byteLength+2),i.buffer}},t.parseMeta=function(){return e.parse.apply(e,arguments)},t.updateImageHead=function(){return e.updateImageHead.apply(e,arguments)},e}),e("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(t,e){var i={};return i.ExifMap=function(){return this},i.ExifMap.prototype.map={"Orientation":274},i.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},i.exifTagTypes={"1":{"getValue":function(t,e){return t.getUint8(e)},"size":1},"2":{"getValue":function(t,e){return String.fromCharCode(t.getUint8(e))},"size":1,"ascii":!0},"3":{"getValue":function(t,e,i){return t.getUint16(e,i)},"size":2},"4":{"getValue":function(t,e,i){return t.getUint32(e,i)},"size":4},"5":{"getValue":function(t,e,i){return t.getUint32(e,i)/t.getUint32(e+4,i)},"size":8},"9":{"getValue":function(t,e,i){return t.getInt32(e,i)},"size":4},"10":{"getValue":function(t,e,i){return t.getInt32(e,i)/t.getInt32(e+4,i)},"size":8}},i.exifTagTypes[7]=i.exifTagTypes[1],i.getExifValue=function(e,n,a,s,r,o){var c,l,d,u,h,p,f=i.exifTagTypes[s];if(!f)return void t.log("Invalid Exif data: Invalid tag type.");if(c=f.size*r,(l=c>4?n+e.getUint32(a+8,o):a+8)+c>e.byteLength)return void t.log("Invalid Exif data: Invalid data offset.");if(1===r)return f.getValue(e,l,o);for(d=[],u=0;u<r;u+=1)d[u]=f.getValue(e,l+u*f.size,o);if(f.ascii){for(h="",u=0;u<d.length&&"\0"!==(p=d[u]);u+=1)h+=p;return h}return d},i.parseExifTag=function(t,e,n,a,s){var r=t.getUint16(n,a);s.exif[r]=i.getExifValue(t,e,n,t.getUint16(n+2,a),t.getUint32(n+4,a),a)},i.parseExifTags=function(e,i,n,a,s){var r,o,c;if(n+6>e.byteLength)return void t.log("Invalid Exif data: Invalid directory offset.");if(r=e.getUint16(n,a),(o=n+2+12*r)+4>e.byteLength)return void t.log("Invalid Exif data: Invalid directory size.");for(c=0;c<r;c+=1)this.parseExifTag(e,i,n+2+12*c,a,s);return e.getUint32(o,a)},i.parseExifData=function(e,n,a,s){var r,o,c=n+10;if(1165519206===e.getUint32(n+4)){if(c+8>e.byteLength)return void t.log("Invalid Exif data: Invalid segment size.");if(0!==e.getUint16(n+8))return void t.log("Invalid Exif data: Missing byte alignment offset.");switch(e.getUint16(c)){case 18761:r=!0;break;case 19789:r=!1;break;default:return void t.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==e.getUint16(c+2,r))return void t.log("Invalid Exif data: Missing TIFF marker.");o=e.getUint32(c+4,r),s.exif=new i.ExifMap,o=i.parseExifTags(e,c,c+o,r,s)}},e.parsers[65505].push(i.parseExifData),i}),e("runtime/html5/jpegencoder",[],function(require,exports,t){function e(t){function e(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var n=k((e[i]*t+50)/100);n<1?n=1:n>255&&(n=255),I[z[i]]=n}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var r=k((a[s]*t+50)/100);r<1?r=1:r>255&&(r=255),S[z[s]]=r}for(var o=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],c=0,l=0;l<8;l++)for(var d=0;d<8;d++)T[c]=1/(I[z[c]]*o[l]*o[d]*8),C[c]=1/(S[z[c]]*o[l]*o[d]*8),c++}function i(t,e){for(var i=0,n=0,a=new Array,s=1;s<=16;s++){for(var r=1;r<=t[s];r++)a[e[n]]=[],a[e[n]][0]=i,a[e[n]][1]=s,n++,i++;i*=2}return a}function n(){b=i(j,O),y=i(Y,G),x=i(H,X),w=i(W,Q)}function a(){for(var t=1,e=2,i=1;i<=15;i++){for(var n=t;n<e;n++)P[32767+n]=i,E[32767+n]=[],E[32767+n][1]=i,E[32767+n][0]=n;for(var a=-(e-1);a<=-t;a++)P[32767+a]=i,E[32767+a]=[],E[32767+a][1]=i,E[32767+a][0]=e-1+a;t<<=1,e<<=1}}function s(){for(var t=0;t<256;t++)M[t]=19595*t,M[t+256>>0]=38470*t,M[t+512>>0]=7471*t+32768,M[t+768>>0]=-11059*t,M[t+1024>>0]=-21709*t,M[t+1280>>0]=32768*t+8421375,M[t+1536>>0]=-27439*t,M[t+1792>>0]=-5329*t}function r(t){for(var e=t[0],i=t[1]-1;i>=0;)e&1<<i&&(L|=1<<q),i--,--q<0&&(255==L?(o(255),o(0)):o(L),q=7,L=0)}function o(t){U.push(N[t])}function c(t){o(t>>8&255),o(255&t)}function l(t,e){var i,n,a,s,r,o,c,l,d,u=0;for(d=0;d<8;++d){i=t[u],n=t[u+1],a=t[u+2],s=t[u+3],r=t[u+4],o=t[u+5],c=t[u+6],l=t[u+7];var h=i+l,p=i-l,f=n+c,m=n-c,g=a+o,v=a-o,b=s+r,y=s-r,x=h+b,w=h-b,_=f+g,k=f-g;t[u]=x+_,t[u+4]=x-_;var I=.707106781*(k+w);t[u+2]=w+I,t[u+6]=w-I,x=y+v,_=v+m,k=m+p;var S=.382683433*(x-k),T=.5411961*x+S,C=1.306562965*k+S,E=.707106781*_,P=p+E,B=p-E;t[u+5]=B+T,t[u+3]=B-T,t[u+1]=P+C,t[u+7]=P-C,u+=8}for(u=0,d=0;d<8;++d){i=t[u],n=t[u+8],a=t[u+16],s=t[u+24],r=t[u+32],o=t[u+40],c=t[u+48],l=t[u+56];var U=i+l,L=i-l,q=n+c,A=n-c,D=a+o,F=a-o,N=s+r,M=s-r,z=U+N,j=U-N,O=q+D,H=q-D;t[u]=z+O,t[u+32]=z-O;var X=.707106781*(H+j);t[u+16]=j+X,t[u+48]=j-X,z=M+F,O=F+A,H=A+L;var Y=.382683433*(z-H),G=.5411961*z+Y,W=1.306562965*H+Y,Q=.707106781*O,V=L+Q,K=L-Q;t[u+40]=K+G,t[u+24]=K-G,t[u+8]=V+W,t[u+56]=V-W,u++}var J;for(d=0;d<64;++d)J=t[d]*e[d],R[d]=J>0?J+.5|0:J-.5|0;return R}function d(){c(65504),c(16),o(74),o(70),o(73),o(70),o(0),o(1),o(1),o(0),c(1),c(1),o(0),o(0)}function u(t,e){c(65472),c(17),o(8),c(e),c(t),o(3),o(1),o(17),o(0),o(2),o(17),o(1),o(3),o(17),o(1)}function h(){c(65499),c(132),o(0);for(var t=0;t<64;t++)o(I[t]);o(1);for(var e=0;e<64;e++)o(S[e])}function p(){c(65476),c(418),o(0);for(var t=0;t<16;t++)o(j[t+1]);for(var e=0;e<=11;e++)o(O[e]);o(16);for(var i=0;i<16;i++)o(H[i+1]);for(var n=0;n<=161;n++)o(X[n]);o(1);for(var a=0;a<16;a++)o(Y[a+1]);for(var s=0;s<=11;s++)o(G[s]);o(17);for(var r=0;r<16;r++)o(W[r+1]);for(var l=0;l<=161;l++)o(Q[l])}function f(){c(65498),c(12),o(3),o(1),o(0),o(2),o(17),o(3),o(17),o(0),o(63),o(0)}function m(t,e,i,n,a){for(var s,o=a[0],c=a[240],d=l(t,e),u=0;u<64;++u)B[z[u]]=d[u];var h=B[0]-i;i=B[0],0==h?r(n[0]):(s=32767+h,r(n[P[s]]),r(E[s]));for(var p=63;p>0&&0==B[p];p--);if(0==p)return r(o),i;for(var f,m=1;m<=p;){for(var g=m;0==B[m]&&m<=p;++m);var v=m-g;if(v>=16){f=v>>4;for(var b=1;b<=f;++b)r(c);v&=15}s=32767+B[m],r(a[(v<<4)+P[s]]),r(E[s]),m++}return 63!=p&&r(o),i}function g(){for(var t=String.fromCharCode,e=0;e<256;e++)N[e]=t(e)}function v(t){if(t<=0&&(t=1),t>100&&(t=100),_!=t){var i=0;i=t<50?Math.floor(5e3/t):Math.floor(200-2*t),e(i),_=t}}var b,y,x,w,_,k=(Math.round,Math.floor),I=new Array(64),S=new Array(64),T=new Array(64),C=new Array(64),E=new Array(65535),P=new Array(65535),R=new Array(64),B=new Array(64),U=[],L=0,q=7,A=new Array(64),D=new Array(64),F=new Array(64),N=new Array(256),M=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],X=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(t,e){e&&v(e),U=new Array,L=0,q=7,c(65496),d(),h(),u(t.width,t.height),p(),f();var i=0,n=0,a=0;L=0,q=7,this.encode.displayName="_encode_";for(var s,o,l,g,_,k,I,S,E,P=t.data,R=t.width,B=t.height,N=4*R,z=0;z<B;){for(s=0;s<N;){for(_=N*z+s,k=_,I=-1,S=0,E=0;E<64;E++)S=E>>3,I=4*(7&E),k=_+S*N+I,z+S>=B&&(k-=N*(z+1+S-B)),s+I>=N&&(k-=s+I-N+4),o=P[k++],l=P[k++],g=P[k++],A[E]=(M[o]+M[l+256>>0]+M[g+512>>0]>>16)-128,D[E]=(M[o+768>>0]+M[l+1024>>0]+M[g+1280>>0]>>16)-128,F[E]=(M[o+1280>>0]+M[l+1536>>0]+M[g+1792>>0]>>16)-128;i=m(A,T,i,b,x),n=m(D,C,n,y,w),a=m(F,C,a,y,w),s+=32}z+=8}if(q>=0){var j=[];j[1]=q+1,j[0]=(1<<q+1)-1,r(j)}c(65497);var O="data:image/jpeg;base64,"+btoa(U.join(""));return U=[],O},function(){t||(t=50),g(),n(),a(),s(),v(t)}()}return e.encode=function(t,i){return new e(i).encode(t)},e}),e("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(t,e,i){var n,a=t.canvasToDataUrl;t.canvasToDataUrl=function(t,s,r){var o,c,l,d,u;return i.os.android?("image/jpeg"===s&&void 0===n&&(d=a.apply(null,arguments),u=d.split(","),d=~u[0].indexOf("base64")?atob(u[1]):decodeURIComponent(u[1]),d=d.substring(0,2),n=255===d.charCodeAt(0)&&216===d.charCodeAt(1)),"image/jpeg"!==s||n?a.apply(null,arguments):(c=t.width,l=t.height,o=t.getContext("2d"),e.encode(o.getImageData(0,0,c,l),r))):a.apply(null,arguments)}}),e("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(t,e,i){return e.register("Image",{"modified":!1,"init":function(){var t=this,e=new Image;e.onload=function(){t._info={"type":t.type,"width":this.width,"height":this.height},t._metas||"image/jpeg"!==t.type?t.owner.trigger("load"):i.parseMeta(t._blob,function(e,i){t._metas=i,t.owner.trigger("load")})},e.onerror=function(){t.owner.trigger("error")},t._img=e},"loadFromBlob":function(t){var e=this,n=e._img;e._blob=t,e.type=t.type,n.src=i.createObjectURL(t.getSource()),e.owner.once("load",function(){i.revokeObjectURL(n.src)})},"resize":function(t,e){var i=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,i,t,e),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},"crop":function(t,e,i,n,a){var s=this._canvas||(this._canvas=document.createElement("canvas")),r=this.options,o=this._img,c=o.naturalWidth,l=o.naturalHeight,d=this.getOrientation();a=a||1,s.width=i,s.height=n,r.preserveHeaders||this._rotate2Orientaion(s,d),this._renderImageToCanvas(s,o,-t,-e,c*a,l*a),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},"getAsBlob":function(t){var e,n=this._blob,a=this.options;if(t=t||this.type,this.modified||this.type!==t){if(e=this._canvas,"image/jpeg"===t){if(n=i.canvasToDataUrl(e,t,a.quality),a.preserveHeaders&&this._metas&&this._metas.imageHead)return n=i.dataURL2ArrayBuffer(n),n=i.updateImageHead(n,this._metas.imageHead),n=i.arrayBufferToBlob(n,t)}else n=i.canvasToDataUrl(e,t);n=i.dataURL2Blob(n)}return n},"getAsDataUrl":function(t){var e=this.options;return t=t||this.type,"image/jpeg"===t?i.canvasToDataUrl(this._canvas,t,e.quality):this._canvas.toDataURL(t)},"getOrientation":function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},"info":function(t){return t?(this._info=t,this):this._info},"meta":function(t){return t?(this._meta=t,this):this._meta},"destroy":function(){var t=this._canvas;this._img.onload=null,t&&(t.getContext("2d").clearRect(0,0,t.width,t.height),t.width=t.height=0,this._canvas=null),this._img.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D",this._img=this._blob=null},"_resize":function(t,e,i,n){var a,s,r,o,c,l=this.options,d=t.width,u=t.height,h=this.getOrientation();~[5,6,7,8].indexOf(h)&&(i^=n,n^=i,i^=n),a=Math[l.crop?"max":"min"](i/d,n/u),l.allowMagnify||(a=Math.min(1,a)),s=d*a,r=u*a,l.crop?(e.width=i,e.height=n):(e.width=s,e.height=r),o=(e.width-s)/2,c=(e.height-r)/2,l.preserveHeaders||this._rotate2Orientaion(e,h),this._renderImageToCanvas(e,t,o,c,s,r)},"_rotate2Orientaion":function(t,e){var i=t.width,n=t.height,a=t.getContext("2d");switch(e){case 5:case 6:case 7:case 8:t.width=n,t.height=i}switch(e){case 2:a.translate(i,0),a.scale(-1,1);break;case 3:a.translate(i,n),a.rotate(Math.PI);break;case 4:a.translate(0,n),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-n);break;case 7:a.rotate(.5*Math.PI),a.translate(i,-n),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-i,0)}},"_renderImageToCanvas":function(){function e(t,e,i){var n,a,s,r=document.createElement("canvas"),o=r.getContext("2d"),c=0,l=i,d=i;for(r.width=1,r.height=i,o.drawImage(t,0,0),n=o.getImageData(0,0,1,i).data;d>c;)a=n[4*(d-1)+3],0===a?l=d:c=d,d=l+c>>1;return s=d/i,0===s?1:s}function i(t){var e,i,n=t.naturalWidth,a=t.naturalHeight;return n*a>1048576&&(e=document.createElement("canvas"),e.width=e.height=1,i=e.getContext("2d"),i.drawImage(t,1-n,0),0===i.getImageData(0,0,1,1).data[3])}return t.os.ios?t.os.ios>=7?function(t,i,n,a,s,r){var o=i.naturalWidth,c=i.naturalHeight,l=e(i,o,c);return t.getContext("2d").drawImage(i,0,0,o*l,c*l,n,a,s,r)}:function(t,n,a,s,r,o){var c,l,d,u,h,p,f,m=n.naturalWidth,g=n.naturalHeight,v=t.getContext("2d"),b=i(n),y="image/jpeg"===this.type,x=1024,w=0,_=0;for(b&&(m/=2,g/=2),v.save(),c=document.createElement("canvas"),c.width=c.height=x,l=c.getContext("2d"),d=y?e(n,m,g):1,u=Math.ceil(x*r/m),h=Math.ceil(x*o/g/d);w<g;){for(p=0,f=0;p<m;)l.clearRect(0,0,x,x),l.drawImage(n,-p,-w),v.drawImage(c,0,0,x,x,a+f,s+_,u,h),p+=x,f+=u;w+=x,_+=h}v.restore(),c=l=null}:function(e){var i=t.slice(arguments,1),n=e.getContext("2d");n.drawImage.apply(n,i)}}()})}),e("runtime/html5/transport",["base","runtime/html5/runtime"],function(t,e){var i=t.noop,$=t.$;return e.register("Transport",{"init":function(){this._status=0,this._response=null},"send":function(){var e,i,n,a=this.owner,s=this.options,r=this._initAjax(),o=a._blob,c=s.server;s.sendAsBinary?(c+=(/\?/.test(c)?"&":"?")+$.param(a._formData),i=o.getSource()):(e=new FormData,$.each(a._formData,function(t,i){e.append(t,i)}),e.append(s.fileVal,o.getSource(),s.filename||a._formData.name||"")),s.withCredentials&&"withCredentials"in r?(r.open(s.method,c,!0),r.withCredentials=!0):r.open(s.method,c),this._setRequestHeader(r,s.headers),i?(r.overrideMimeType&&r.overrideMimeType("application/octet-stream"),t.os.android?(n=new FileReader,n.onload=function(){r.send(this.result),n=n.onload=null},n.readAsArrayBuffer(i)):r.send(i)):r.send(e)},"getResponse":function(){return this._response},"getResponseAsJson":function(){return this._parseJson(this._response)},"getStatus":function(){return this._status},"abort":function(){var t=this._xhr;t&&(t.upload.onprogress=i,t.onreadystatechange=i,t.abort(),this._xhr=t=null)},"destroy":function(){this.abort()},"_initAjax":function(){var t=this,e=new XMLHttpRequest;return!this.options.withCredentials||"withCredentials"in e||"undefined"==typeof XDomainRequest||(e=new XDomainRequest),e.upload.onprogress=function(e){var i=0;return e.lengthComputable&&(i=e.loaded/e.total),t.trigger("progress",i)},e.onreadystatechange=function(){if(4===e.readyState)return e.upload.onprogress=i,e.onreadystatechange=i,t._xhr=null,t._status=e.status,e.status>=200&&e.status<300?(t._response=e.responseText,t.trigger("load")):e.status>=500&&e.status<600?(t._response=e.responseText,t.trigger("error","server")):t.trigger("error",t._status?"http":"abort")},t._xhr=e,e},"_setRequestHeader":function(t,e){$.each(e,function(e,i){t.setRequestHeader(e,i)})},"_parseJson":function(t){var e;try{e=JSON.parse(t)}catch(t){e={}}return e}})}),e("runtime/html5/md5",["runtime/html5/runtime"],function(t){var e=function(t,e){return t+e&4294967295},i=function(t,i,n,a,s,r){return i=e(e(i,t),e(a,r)),e(i<<s|i>>>32-s,n)},n=function(t,e,n,a,s,r,o){return i(e&n|~e&a,t,e,s,r,o)},a=function(t,e,n,a,s,r,o){return i(e&a|n&~a,t,e,s,r,o)},s=function(t,e,n,a,s,r,o){return i(e^n^a,t,e,s,r,o)},r=function(t,e,n,a,s,r,o){return i(n^(e|~a),t,e,s,r,o)},o=function(t,i){var o=t[0],c=t[1],l=t[2],d=t[3];o=n(o,c,l,d,i[0],7,-680876936),d=n(d,o,c,l,i[1],12,-389564586),l=n(l,d,o,c,i[2],17,606105819),c=n(c,l,d,o,i[3],22,-1044525330),o=n(o,c,l,d,i[4],7,-176418897),d=n(d,o,c,l,i[5],12,1200080426),l=n(l,d,o,c,i[6],17,-1473231341),c=n(c,l,d,o,i[7],22,-45705983),o=n(o,c,l,d,i[8],7,1770035416),d=n(d,o,c,l,i[9],12,-1958414417),l=n(l,d,o,c,i[10],17,-42063),c=n(c,l,d,o,i[11],22,-1990404162),o=n(o,c,l,d,i[12],7,1804603682),d=n(d,o,c,l,i[13],12,-40341101),l=n(l,d,o,c,i[14],17,-1502002290),c=n(c,l,d,o,i[15],22,1236535329),o=a(o,c,l,d,i[1],5,-165796510),d=a(d,o,c,l,i[6],9,-1069501632),l=a(l,d,o,c,i[11],14,643717713),c=a(c,l,d,o,i[0],20,-373897302),o=a(o,c,l,d,i[5],5,-701558691),d=a(d,o,c,l,i[10],9,38016083),l=a(l,d,o,c,i[15],14,-660478335),c=a(c,l,d,o,i[4],20,-405537848),o=a(o,c,l,d,i[9],5,568446438),d=a(d,o,c,l,i[14],9,-1019803690),l=a(l,d,o,c,i[3],14,-187363961),c=a(c,l,d,o,i[8],20,1163531501),o=a(o,c,l,d,i[13],5,-1444681467),d=a(d,o,c,l,i[2],9,-51403784),l=a(l,d,o,c,i[7],14,1735328473),c=a(c,l,d,o,i[12],20,-1926607734),o=s(o,c,l,d,i[5],4,-378558),d=s(d,o,c,l,i[8],11,-2022574463),l=s(l,d,o,c,i[11],16,1839030562),c=s(c,l,d,o,i[14],23,-35309556),o=s(o,c,l,d,i[1],4,-1530992060),d=s(d,o,c,l,i[4],11,1272893353),l=s(l,d,o,c,i[7],16,-155497632),c=s(c,l,d,o,i[10],23,-1094730640),o=s(o,c,l,d,i[13],4,681279174),d=s(d,o,c,l,i[0],11,-358537222),l=s(l,d,o,c,i[3],16,-722521979),c=s(c,l,d,o,i[6],23,76029189),o=s(o,c,l,d,i[9],4,-640364487),d=s(d,o,c,l,i[12],11,-421815835),l=s(l,d,o,c,i[15],16,530742520),c=s(c,l,d,o,i[2],23,-995338651),o=r(o,c,l,d,i[0],6,-198630844),d=r(d,o,c,l,i[7],10,1126891415),l=r(l,d,o,c,i[14],15,-1416354905),c=r(c,l,d,o,i[5],21,-57434055),o=r(o,c,l,d,i[12],6,1700485571),d=r(d,o,c,l,i[3],10,-1894986606),l=r(l,d,o,c,i[10],15,-1051523),c=r(c,l,d,o,i[1],21,-2054922799),o=r(o,c,l,d,i[8],6,1873313359),d=r(d,o,c,l,i[15],10,-30611744),l=r(l,d,o,c,i[6],15,-1560198380),c=r(c,l,d,o,i[13],21,1309151649),o=r(o,c,l,d,i[4],6,-145523070),d=r(d,o,c,l,i[11],10,-1120210379),l=r(l,d,o,c,i[2],15,718787259),c=r(c,l,d,o,i[9],21,-343485551),t[0]=e(o,t[0]),t[1]=e(c,t[1]),t[2]=e(l,t[2]),t[3]=e(d,t[3])},c=function(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i},l=function(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return i},d=function(t){var e,i,n,a,s,r,l=t.length,d=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)o(d,c(t.substring(e-64,e)));for(t=t.substring(e-64),i=t.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)n[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(o(d,n),e=0;e<16;e+=1)n[e]=0;return a=8*l,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),r=parseInt(a[1],16)||0,n[14]=s,n[15]=r,o(d,n),d},u=function(t){var e,i,n,a,s,r,c=t.length,d=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)o(d,l(t.subarray(e-64,e)));for(t=e-64<c?t.subarray(e-64):new Uint8Array(0),i=t.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)n[e>>2]|=t[e]<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(o(d,n),e=0;e<16;e+=1)n[e]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),r=parseInt(a[1],16)||0,n[14]=s,n[15]=r,o(d,n),d},h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],p=function(t){var e,i="";for(e=0;e<4;e+=1)i+=h[t>>8*e+4&15]+h[t>>8*e&15];return i},f=function(t){var e;for(e=0;e<t.length;e+=1)t[e]=p(t[e]);return t.join("")},m=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==function(t){return f(d(t))}("hello")&&(e=function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}),m.prototype.append=function(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),this.appendBinary(t),this},m.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,i=this._buff.length;for(e=64;e<=i;e+=64)o(this._state,c(this._buff.substring(e-64,e)));return this._buff=this._buff.substr(e-64),this},m.prototype.end=function(t){var e,i,n=this._buff,a=n.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<a;e+=1)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(s,a),i=t?this._state:f(this._state),this.reset(),i},m.prototype._finish=function(t,e){var i,n,a,s=e;if(t[s>>2]|=128<<(s%4<<3),s>55)for(o(this._state,t),s=0;s<16;s+=1)t[s]=0;i=8*this._length,i=i.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(i[2],16),a=parseInt(i[1],16)||0,t[14]=n,t[15]=a,o(this._state,t)},m.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},m.hash=function(t,e){/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t)));var i=d(t);return e?i:f(i)},m.hashBinary=function(t,e){var i=d(t);return e?i:f(i)},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(t){var e,i=this._concatArrayBuffer(this._buff,t),n=i.length;for(this._length+=t.byteLength,e=64;e<=n;e+=64)o(this._state,l(i.subarray(e-64,e)));return this._buff=e-64<n?i.subarray(e-64):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(t){var e,i,n=this._buff,a=n.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<a;e+=1)s[e>>2]|=n[e]<<(e%4<<3);return this._finish(s,a),i=t?this._state:f(this._state),this.reset(),i},m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._concatArrayBuffer=function(t,e){var i=t.length,n=new Uint8Array(i+e.byteLength);return n.set(t),n.set(new Uint8Array(e),i),n},m.ArrayBuffer.hash=function(t,e){var i=u(new Uint8Array(t));return e?i:f(i)},t.register("Md5",{"init":function(){},"loadFromBlob":function(t){var e,i,n=t.getSource(),a=Math.ceil(n.size/2097152),s=0,r=this.owner,o=new m.ArrayBuffer,c=this,l=n.mozSlice||n.webkitSlice||n.slice;i=new FileReader,(e=function(){var d,u;d=2097152*s,u=Math.min(d+2097152,n.size),i.onload=function(e){o.append(e.target.result),r.trigger("progress",{"total":t.size,"loaded":u})},i.onloadend=function(){i.onloadend=i.onload=null,++s<a?setTimeout(e,1):setTimeout(function(){r.trigger("load"),c.result=o.end(),e=t=n=o=null,r.trigger("complete")},50)},i.readAsArrayBuffer(l.call(n,d,u))})()},"getResult":function(){return this.result}})}),e("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(e,i,n){function a(){function n(t,e){var i,n,a=t.type||t;i=a.split("::"),n=i[0],a=i[1],"Ready"===a&&n===l.uid?l.trigger("ready"):o[n]&&o[n].trigger(a.toLowerCase(),t,e)}var a={},o={},c=this.destroy,l=this,d=e.guid("webuploader_");i.apply(l,arguments),l.type=s,l.exec=function(t,i){var n,s=this,c=s.uid,d=e.slice(arguments,2);return o[c]=s,r[t]&&(a[c]||(a[c]=new r[t](s,l)),n=a[c],n[i])?n[i].apply(n,d):l.flashExec.apply(s,arguments)},t[d]=function(){var t=arguments;setTimeout(function(){n.apply(null,t)},1)},this.jsreciver=d,this.destroy=function(){return c&&c.apply(this,arguments)},this.flashExec=function(t,i){var n=l.getFlash(),a=e.slice(arguments,2);return n.exec(this.uid,t,i,a)}}var $=e.$,s="flash",r={};return e.inherits(i,{"constructor":a,"init":function(){var t,i=this.getContainer(),n=this.options;i.css({"position":"absolute","top":"-8px","left":"-8px","width":"9px","height":"9px","overflow":"hidden"}),t='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+n.swf+'" ',e.browser.ie&&(t+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),t+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+n.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',i.html(t)},"getFlash":function(){return this._flash?this._flash:(this._flash=$("#"+this.uid).get(0),this._flash)}}),a.register=function(t,i){return i=r[t]=e.inherits(n,$.extend({"flashExec":function(){var t=this.owner;return this.getRuntime().flashExec.apply(t,arguments)}},i))},function(){var t;try{t=navigator.plugins["Shockwave Flash"],t=t.description}catch(e){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){t="0.0"}}return t=t.match(/\d+/g),parseFloat(t[0]+"."+t[1],10)}()>=11.4&&i.addRuntime(s,a),a}),e("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(t,e){var $=t.$;return e.register("FilePicker",{"init":function(t){var e,i,n=$.extend({},t);for(e=n.accept&&n.accept.length,i=0;i<e;i++)n.accept[i].title||(n.accept[i].title="Files");delete n.button,delete n.id,delete n.container,this.flashExec("FilePicker","init",n)},"destroy":function(){this.flashExec("FilePicker","destroy")}})}),e("runtime/flash/image",["runtime/flash/runtime"],function(t){return t.register("Image",{"loadFromBlob":function(t){var e=this.owner;e.info()&&this.flashExec("Image","info",e.info()),e.meta()&&this.flashExec("Image","meta",e.meta()),this.flashExec("Image","loadFromBlob",t.uid)}})}),e("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(e,i,n){var $=e.$;return i.register("Transport",{"init":function(){this._status=0,this._response=null,this._responseJson=null},"send":function(){var t,e=this.owner,i=this.options,n=this._initAjax(),a=e._blob,s=i.server;n.connectRuntime(a.ruid),i.sendAsBinary?(s+=(/\?/.test(s)?"&":"?")+$.param(e._formData),t=a.uid):($.each(e._formData,function(t,e){n.exec("append",t,e)}),n.exec("appendBlob",i.fileVal,a.uid,i.filename||e._formData.name||"")),this._setRequestHeader(n,i.headers),n.exec("send",{"method":i.method,"url":s,"forceURLStream":i.forceURLStream,"mimeType":"application/octet-stream"},t)},"getStatus":function(){return this._status},"getResponse":function(){return this._response||""},"getResponseAsJson":function(){return this._responseJson},"abort":function(){var t=this._xhr;t&&(t.exec("abort"),t.destroy(),this._xhr=t=null)},"destroy":function(){this.abort()},"_initAjax":function(){var e=this,i=new n("XMLHttpRequest");return i.on("uploadprogress progress",function(t){var i=t.loaded/t.total;return i=Math.min(1,Math.max(0,i)),e.trigger("progress",i)}),i.on("load",function(){var n,a=i.exec("getStatus"),s=!1,r="";return i.off(),e._xhr=null,a>=200&&a<300?s=!0:a>=500&&a<600?(s=!0,r="server"):r="http",s&&(e._response=i.exec("getResponse"),e._response=decodeURIComponent(e._response),n=t.JSON&&t.JSON.parse||function(t){try{return new Function("return "+t).call()}catch(t){return{}}},e._responseJson=e._response?n(e._response):{}),i.destroy(),i=null,r?e.trigger("error",r):e.trigger("load")}),i.on("error",function(){i.off(),e._xhr=null,e.trigger("error","http")}),e._xhr=i,i},"_setRequestHeader":function(t,e){$.each(e,function(e,i){t.exec("setRequestHeader",e,i)})}})}),e("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(t,e){return t.register("Blob",{"slice":function(t,i){var n=this.flashExec("Blob","slice",t,i);return new e(n.uid,n)}})}),e("runtime/flash/md5",["runtime/flash/runtime"],function(t){return t.register("Md5",{"init":function(){},"loadFromBlob":function(t){return this.flashExec("Md5","loadFromBlob",t.uid)}})}),e("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(t){return t}),e("widgets/log",["base","uploader","widgets/widget"],function(t,e){function i(t){var e=$.extend({},n,t),i=a.replace(/^(.*)\?/,"$1"+$.param(e));(new Image).src=i}var n,$=t.$,a=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",s=(location.hostname||location.host||"protected").toLowerCase(),r=s&&/baidu/i.exec(s);if(r)return n={"dv":3,"master":"webuploader","online":/test/.exec(s)?0:1,"module":"","product":s,"type":0},e.register({"name":"log","init":function(){var t=this.owner,e=0,n=0;t.on("error",function(t){i({"type":2,"c_error_code":t})}).on("uploadError",function(t,e){i({"type":2,"c_error_code":"UPLOAD_ERROR","c_reason":""+e})}).on("uploadComplete",function(t){e++,n+=t.size}).on("uploadFinished",function(){i({"c_count":e,"c_size":n}),e=n=0}),i({"c_usage":1})}})}),e("webuploader",["preset/all","widgets/log"],function(t){return t}),require("webuploader")})}).call(exports,e(0))},"13":function(t,exports,e){"use strict";(function($){var e=/^https?:/i,i=/^http/i,n=/\.(jpg|jpeg|png)$/,a=/(.+?)-[^\.]+\.(jp(e)?g|png|gif).*/,s=/(.+?\.(jp(e)?g|png|gif)).*/,r=function(t){return t.replace(e,"")},o=function(t){return a.test(t)?t.replace(a,"$1.$2"):t.replace(s,"$1")},c=function(t){return t.replace(n,function(t){return"-600!80"+t})},l=function(t){return-1!=t.indexOf("https")?"https:":"http:"},d=function(t){for(var e=t.find("img").not('[data-node="goodsPic"]'),n=e.length,a=0;a<n;a++){var s=$(e[a]),o=s.attr("_src"),c=s.attr("data-original");if(c)s.attr({"src":r(c),"_src":r(c),"proto":l(c)});else if(!i.test(o)){s.attr("proto");s.attr("_src",o)}}};t.exports={"imgReplace":r,"addShortCut":c,"imgProto":l,"changeSrc":d,"orignalImgReplace":o}}).call(exports,e(0))},"142":function(t,exports,e){"use strict";var i=e(4),n=e(2),a=e(5),s=e(11),r=function(t){s("",{"content":"<p class='del-pop-p'>"+t.content+"</p>","title":"提示","okCls":"two-button two-button-red","cancelCls":"two-button","ok":function(){o(t.id,t.groupid,t.res)},"btnWrapCls":"text-center"})},o=function(t,e,s){n.post(a.get("topicDel"),{"data":{"id":t,"groupId":e}}).done(function(t){!0===t.success?s():i("删除失败！")})};t.exports=r},"145":function(t,exports,e){"use strict";(function(i,$){function n(t){return 1==p&&i.userId==t?i.i_domain+"member/profileHome":i.group_domain+"ta/"+t+".html"}function a(t){function e(t){return parseInt(t)<10?"0"+t:t}var i=new Date(t),n=i.getFullYear(),a=i.getMonth()+1,s=i.getDate(),r=i.getHours(),o=i.getMinutes(),c=i.getSeconds();return n+"-"+e(a)+"-"+e(s)+" "+e(r)+":"+e(o)+":"+e(c)}var s=e(74),r=e(2),o=e(5),c=e(9),l=e(17),d=e(71),u=e(163),h=e(164),p=1==c()?1:0,f=i.product_item_gome,m=i.isExpert,g=$("[data-node='secondCom_Key']"),v=function(t,e,c,v,b){var y=$("[id-node='"+t+"']").children(".topic-lfet").children("[data-node='hidDiv']"),x=$("[data-circlecom='"+t+"']"),w=x.parent(".bjfff"),_=$(w.children("[data-node='loadlist']")),k=$(w.children("[data-node='loading']"));_.css("display","none"),k.css("display","block");var I=$("[data-tid='"+t+"']").attr("data-headface"),S="?page="+e+"&pagesize="+c+"&topicid="+t;r.get(o.get("commentListMd")+S).then(function(r){if(r.success){var o=r.data.topicReplys,w=$("[data-comtopicid='"+t+"']").offset().top;if(o.length>0){k.css("display","block"),_.css("display","block").attr("data-addMorePages",e).attr("data-ListSize",c);for(var S=0;S<o.length;S++){var T=o[S],C=T.subReplyQuantity,E=T.topicSubReplys,P=[],R=null,B=null,U=null;C>v?(U=!0,B="clearfix",R=v):(U=!1,R=parseInt(E.length),B="clearfix bd-bottom");for(var L=n(T.user.id),q=1==p&&i.userId!=T.user.id,A=R>0?"":"hide",D=0;D<R;D++){var F=E[D];if(F){var N=null,M="",z="",j="javascript:;";F.topicSubReplyUser?(N=!0,M=F.topicSubReplyUser.nickname,z=F.topicSubReplyUser.id,j=n(z)):N=!1;var O=F.content;O=s(O);var H="";F.user&&(H=n(F.user.id));var X={"threeUserId":j,"SenUserId":H,"parentCommentId":T.id,"replayToPub":N,"content":O,"replyUserName":F.user.nickname,"replyUserId":F.user.id,"beReplyUserName":M,"beReplyUserId":z,"replyCommentId":F.id};P.push(X)}}var Y=T.content;Y=s(Y);var G=T.pics,W="";if(G.length>0){var Q={"picsSrc":G,"picture":T.pictures,"length":G.length};W=h(Q)}var V="",K="",J="",Z="",tt="",et="",it="";T.item&&(V=T.item.mainImage,et=T.item.name,J=null!==T.item.salePrice?T.item.salePrice:"暂无售价",Z=T.item.id,tt=T.item.id,it=T.item.skuId);var nt="",at="";T.shop&&(nt=T.shop.icon,K=T.shop.name,T.shop.promotionMark&&(at=T.shop.promotionMark.hasCouponPlan),tt=T.shop.id);var st={"showSecComm":A,"imageStr":W,"itemShopNameItem":et,"UserId":L,"dlShowBorder":B,"showMall":U,"userIsExpert":m,"isExpert":T.expertInfo.isExpert,"userPic":T.user.facePicUrl,"username":T.user.nickname,"backTopicId":T.id,"content":l.parseEmoji(Y),"topicType":T.replyType,"topicId":T.topicId,"currUserImg":I,"times":d(a(T.createTime)),"isFirstCom":!1,"secondReply":P,"mall_domain":f,"itemsPic":V,"itemShopName":K,"itemPrice":J,"shopId":Z,"itemShopId":tt,"skuId":it?"-"+it:"","redPackage":at,"shopPic":nt,"showReport":q,"kid":T.kid},rt=u(st);y.find(".red").text(r.data.total),x.append($(rt)),k.css("display","none"),_.css("display","block"),$("img").lazyload({"effect":"fadeIn"}),"0"==p&&g.css("display","none"),o.length<c&&_.css("display","none")}b&&$(window).scrollTop(w)}else k.css("display","none"),1==c&&y.css("display","none")}else _.css("display","none"),k.css("display","none")})};t.exports=v}).call(exports,e(1),e(0))},"163":function(t,exports,e){var i=e(3);t.exports=i("src/js/page/speakDetails/comment/commentList",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$escape),a=t.dlShowBorder,s=t.userSubmit,r=t.UserId,o=t.isExpert,c=t.userPic,l=t.backTopicId,d=t.topicType,u=t.topicId,h=t.showReport,p=t.username,f=t.times,m=i.$string,g=t.content,v=t.itemsPic,b=t.itemShopNameItem,y=t.itemPrice,x=t.rebate,w=t.mall_domain,_=t.shopId,k=t.skuId,I=t.kid,S=t.itemShopId,T=t.imageStr,C=t.showSecComm,E=t.isFirstCom,P=i.$each,R=t.secondReply,B=(t.value,t.i,t.imId),U=t.showMall,L=t.groupId,q=t.replyCommentNum,A=t.currentPage,D=t.pageSize,F=t.userIsExpert,N=t.currUserImg,M="";return M+=' <dl class="',M+=n(a),M+=' " ',s&&(M+=' data-node="userSubmit"'),M+='> <dt> <a href="',M+=n(r),M+='" target="_blank"> ',o&&(M+=' <em class="icon-daren"></em>'),M+=' <img src="',M+=n(c),M+='" onerror="imgError(this, \'g\')"> </a> </dt> <dd data-ddList="',M+=n(l),M+='"> <div class="circle-comments-title" data-topicType=',M+=n(d),M+=" data-htId=",M+=n(l),M+=" data-tid=",M+=n(u),M+='> <p class="comments-replay" data-node="comReplay"> ',h&&(M+=' <a href="javascript:;" class="replay-report" data-action="topic-report" data-type="1">举报</a> <span class="line"></span> '),M+=' <a href="javascript:;" data-node="secondCom_Key" data-comId="',M+=n(l),M+='" data-replayUser=',M+=n(p),M+=' data-publish="1">回复</a> </p> <a href="',M+=n(r),M+='" target="_blank">',M+=n(p),M+="</a> <span>",M+=n(f),M+='</span> </div> <div class="first-comment"> <p class="clearfix">',M+=m(g),M+="</p> ","1"==d&&(M+=' <div class="reply-details merchant"> <div class="reply-picture"> <img src="',M+=n(v),M+='" onerror="imgError(this)"> </div> <div class="reply-contxt"> <p>',M+=n(b),M+='</p> <div class="price"> <p class="price-numb">￥<span>',M+=n(y),M+="</span></p> \x3c!-- ",x>0&&(M+=' <div class="fan fan-s"> <em class="icon-fan-s"></em> <span>最高返',M+=n(x),M+="国美币</span> </div> "),M+=' --\x3e </div> </div> <a href="',M+=n(w),M+=n(_),M+=n(k),M+=".html",I&&(M+="?kid=",M+=n(I)),M+='" target="_blank" class="see-details pc-btn pc-btnw105 pc-btnh40" data-shopId=',M+=n(_),M+=" data-itemShopId=",M+=n(S),M+=' data-node="checkDetailMsg">查看详情</a> </div> '),M+=" ",M+=m(T),M+=' </div> <div class="comments-box ',M+=n(C),M+='"> ',E||(M+=" ",P(R,function(t,e){M+=' <div class="comments-s" data-topicType=',M+=n(d),M+=" data-htId=",M+=n(l),M+=" data-tid=",M+=n(u),M+='> <a href="',M+=n(t.SenUserId),M+='" target="_blank" data-replyUserId=',M+=n(t.replyUserId),M+=">",M+=n(t.replyUserName),M+="</a> ",t.replayToPub&&(M+=" ：<span>回复</span> "),M+=' <a href="',M+=n(t.threeUserId),M+='" target="_blank" data-replyCommentId =',M+=n(t.replyCommentId),M+=">",M+=n(t.beReplyUserName),M+=":</a> <span data-replyCommentId=",M+=n(t.replyCommentId),M+=">",M+=m(t.content),M+='</span> <a href="javascript:;" class="hf-btn fr" data-getTopicId=',M+=n(l),M+=' data-node="secondCom_Key" data-replayUser=',M+=n(t.replyUserName),M+=' data-publish="0" data-comId="',M+=n(t.parentCommentId),M+='" data-replyCommentId =',M+=n(t.replyCommentId),M+=" data-replyUserId=",M+=n(t.replyUserId),M+=" data-imId=",M+=n(B),M+=">回复</a> </div> "}),M+=" "),M+=" </div> </dd> </dl> ",E||(M+=" ",U&&(M+=' <a href="javascript:;" class="comments-more" data-node="showMoreList" data-groupId=',M+=n(L),M+=" data-imId=",M+=n(B),M+=" data-topicType=",M+=n(d),M+=" data-htId=",M+=n(l),M+=" data-tid=",M+=n(u),M+=" data-tootlePages=",M+=n(q),M+=" data-currentPage= ",M+=n(A),M+=" data-pageSize=",M+=n(D),M+=">查看回复...</a> "),M+=" "),M+=' <a class="pack-up" style="display: none" data-node="hideComBox" data-parentTopicIdBtn=',M+=n(l),M+='>收起</a> <div class="text-field-box clearfix secondText margin-width" style="display: none" data-parentTopicId=',M+=n(l),M+='> <div class="topic-user-head"> ',F&&(M+=' <em class="icon-daren"></em>'),M+=' <img src="',M+=n(N),M+='" onerror="imgError(this, \'g\')"> </div> <div class="topic-publish-content"> <textarea placeholder="说点什么吧…" class="textarea-bx secondT"></textarea> <label class="textarea-tips hide" data-node="textareaTips"></label> <div class="publish-face-bx"> <p class="icon-face" data-node="smilies_Face"><em class="icon-emoji"></em> 表情</p> <a href="javascript:;" class="pc-btn pc-btnh30 pc-btnw105" data-node="a_secondComBtn" data-getTopicId=',M+=n(l),M+=">发布</a> </div> </div> </div> ",new String(M)})},"164":function(t,exports,e){var i=e(3);t.exports=i("src/js/page/speakDetails/comment/addImageTpl",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$each),a=t.picsSrc,s=(t.value,t.i,i.$escape),r=t.length,o=t.picture,c="";return c+=' <div class="comments-imglist" > <ul class="clearfix comments-imglist" > ',n(a,function(t,e){c+=" <li data-imgSort=",c+=s(e),c+=' data-node="imgPics"><a href="javascript:;"><img src="',c+=s(t),c+='"></a></li> '}),c+=' </ul> <div class="imglist-big hide" data-node="imgBigPic"> <div class="big-title"> <a href="javascript:;" data-node="imgBigHind"><em class="icon-up"></em>收起</a> <a href="javascript:;" data-node="imgBigSrc" target="_blank"><em class="icon-view-img"></em>查看原图</a> </div> <div class="big-img" data-picLength="',c+=s(r),c+='"> <div class="img-hidden"> ',n(o,function(t,e){c+=' <div class="img-box" data-bigImg=',c+=s(e),c+=' data-node="hideBigPic"><img class="srcError" data-imgsrc = "',c+=s(t.url),c+='"></div> '}),c+=' </div> <em class="icon-left" data-node="imgBigPN" data-page="pre"></em> <em class="icon-right" data-node="imgBigPN" data-page="next"></em> </div> <div class="img-slide"> ',n(o,function(t,e){c+=' <a href="javascript:;" data-node="showImg" data-active="',c+=s(e),c+='" ></a> '}),c+=" </div> </div> </div> ",new String(c)})},"165":function(t,exports,e){var i=e(3);t.exports=i("src/js/page/speakDetails/comment/secondComList",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$escape),a=t.topicType,s=t.backTopicId,r=t.topicId,o=t.SenUserId,c=t.replyUserId,l=t.replyUserName,d=t.replayToPub,u=t.threeUserId,h=t.replyCommentId,p=t.beReplyUserName,f=i.$string,m=t.content,g=t.parentCommentId,v=t.imId,b="";return b+='<div class="comments-s" data-topicType=',b+=n(a),b+=" data-htId=",b+=n(s),b+=" data-tid=",b+=n(r),b+='> <a href="',b+=n(o),b+='" target="_blank" data-replyUserId="',b+=n(c),b+='">',b+=n(l),b+="</a> ",d&&(b+=' ：<span>回复</span> <a href="',b+=n(u),b+='" target="_blank" data-replyCommentId ="',b+=n(h),b+='">',b+=n(p),b+="</a> "),b+=" <span data-replyCommentId=",b+=n(h),b+=">：",b+=f(m),b+='</span> <a href="javascript:;" class="fr" data-node="secondCom_Key" data-getTopicId=',b+=n(s),b+=" data-replayUser=",b+=n(l),b+=' data-publish="0" data-comId="',b+=n(g),b+='" data-replyCommentId="',b+=n(h),b+='" data-imId="',b+=n(v),b+='" data-replyUserId=',b+=n(c),b+=" >回复</a> </div> ",new String(b)})},"166":function(t,exports,e){"use strict";(function(i,$){function n(){if(p.length){var t=new MeixinPlayer,e=p.attr("video-id");t.init(e,"playVideo",m)}else{var n=i.video_arr,a=[n];if(!(n.length>u.length))return!1;a=n.slice(u.length);for(var s=0;s<a.length;s++){var r=a[s],o=r.base.id,t=new MeixinPlayer;t.init(o,"videoContainer_"+o+"_"+r.config.topicId,r.config),u.push(a[s]),h.push(t),t.on("playStart",function(){for(var e=0;e<h.length;e++)h[e]===t||h[e].stopVideo()},t)}}}function a(t){t>=170?$(".scanCode").css({"position":"fixed","top":"0px"}):$(".scanCode").css({"position":"static"})}function s(t){var e=$("[data-conter-ul='"+d+"']"),i=$(e).children("ul"),n=e.offset().top,a=e.height(),s=i.height(),r=a+n-s;t>n&&t<r?i.css({"position":"fixed","top":"6px","left":y+"px","bottom":"auto"}):t>r?i.css({"position":"absolute","top":"auto","left":"0px","bottom":"0px"}):t<n&&i.css({"position":"absolute","top":"0","bottom":"auto","left":"0px"})}var r=e(2),o=e(5),c=e(7),l=e(59);e(64)();var d=(i.islogin,i.topicid),u=[],h=[],p=$("#playVideo"),f={"sim":"dist","pro":"dist","pre":"pre","dev":"pre"},m={"env":f[i.environment]||"dist"},g=function(t){var e="";return $.each(t,function(t,i){e+=","+$(i).attr("data-id")+"|"+$(i).attr("data-skuid")}),e.substr(1)},v=function(t){var e=$('[id-node="'+t+'"]'),i=e.find("strong[data-id]").length,n=g(e.find("strong[data-id]"));0!==i&&r.get(o.get("getIndexData"),{"data":{"type":"product","ids":n}}).done(function(t){!0===t.success&&$.each(t.data,function(t,e){null===e.salePrice&&(e.salePrice="暂无售价"),$('[data-id="'+e.id+'"]').text(e.salePrice),$('[data-id="'+e.id+'"]').parent('[data-node="price"]').removeClass("hide")})})},b=function(){var t=$(".scanCode img"),e=t.attr("data-original");t.attr("src",e)},y=parseInt($(".wrap-box.ovflow-hid").css("margin-left"),10)+20,x=function(){var t=$('[data-node="textareaTips"]');l()&&t.removeClass("hide")},w=function(){n(),x(),b(),c("getAreaId").sub(function(){v(d)});var t=0;$(window).on("scroll",function(){t=$(this).scrollTop(),a(t),s(t)})};t.exports={"init":w,"topFixed":a}}).call(exports,e(1),e(0))},"17":function(t,exports,e){"use strict";(function($){var i,n,a=e(18),s=e(20),r=e(21),o={},c=function(t){for(var e=t.length,i=Math.ceil(e/24),n=[],a=0;a<i;a++){n[a]=[];var s=24*(a+1);s=s>e?e:s;for(var r=24*a;r<s;r++){var c=t[r];n[a].push(c),o[c.name]=c.url}}return{"page":new Array(i),"list":n}},l=function(t,e){u(0),$("[data-node=faceBox]").css({"left":t+"px","top":e+"px"}).show()},d=function(){$("[data-node=faceBox]").hide()},u=function(t){t=t||0,$("[data-action=facePage] > li").eq(t).addClass("active").siblings("li").removeClass("active"),$("[data-node=faceList] > div").eq(t).removeClass("hide").siblings("div").addClass("hide")},h=function(t,e){$("body").on("click","[data-face]",function(a){a.preventDefault(),a.stopPropagation(),i=$(this).data("face"),n=$(this).attr("src"),t({"reg":i,"url":n}),!1!==e&&$("[data-node=faceBox]").hide()})},p=function(t){var e=c(a),i=r(e);$("body").append(i),t()},f=function(){$("body").on("click","[data-node=faceBox]",function(t){t.stopPropagation()}),$(document).on("click",function(){$("[data-node=faceBox]").hide()}),$("[data-node=faceBox]").on("mouseenter","[data-action=facePage] > li",function(){var t=$(this).index();u(t)})},m=function(t){var e=/(\[([\s\S]+?)\])/g;return $.isEmptyObject(o)&&c(a),t.replace(e,function(t,e,i){var n=o[i];if(n)return'<img width="22" height="22" src="'+n+'" />';var a=s[i];return a?'<img width="22" height="22" src="'+a.url+'" />':t})},g=function(){p(f)};t.exports={"init":g,"insert":h,"show":l,"hide":d,"parseEmoji":m}}).call(exports,e(0))},"18":function(t,exports,e){"use strict";(function(e){var i=e.imgpath+"/images/emoji/",n=[{"name":"微笑","url":"weixiao"},{"name":"色","url":"se"},{"name":"亲亲","url":"qinqin"},{"name":"得意","url":"deyi"},{"name":"流泪","url":"liulei"},{"name":"害羞","url":"haixiu"},{"name":"闭嘴","url":"bizui"},{"name":"鼓掌","url":"guzhang"},{"name":"大哭","url":"daku"},{"name":"尴尬","url":"ganga"},{"name":"生气","url":"shengqi"},{"name":"调皮","url":"tiaopi"},{"name":"呲牙","url":"ciya"},{"name":"惊讶","url":"jingya"},{"name":"委屈","url":"weiqu"},{"name":"吐血","url":"tuxue"},{"name":"冷汗","url":"lenghan"},{"name":"抓狂","url":"zhuakuang"},{"name":"难过","url":"nanguo"},{"name":"偷笑","url":"touxiao"},{"name":"白眼","url":"baiyan"},{"name":"不屑","url":"buxie"},{"name":"快哭了","url":"kuaikule"}],a=[{"name":"困","url":"kun"},{"name":"装酷","url":"zhuangku"},{"name":"大笑","url":"daxiao"},{"name":"偷瞄","url":"toumiao"},{"name":"奋斗","url":"fendou"},{"name":"咒骂","url":"zhouma"},{"name":"疑问","url":"yiwen"},{"name":"晕","url":"yun"},{"name":"捶打","url":"chuida"},{"name":"再见","url":"zaijian"},{"name":"抠鼻","url":"koubi"},{"name":"发呆","url":"fadai"},{"name":"坏笑","url":"huaixiao"},{"name":"哈欠","url":"haqian"},{"name":"鄙视","url":"bishi"},{"name":"睡觉","url":"shuijiao"},{"name":"饿","url":"e"},{"name":"阴险","url":"yinxian"},{"name":"难受","url":"nanshou"},{"name":"可怜","url":"kelian"},{"name":"撇嘴","url":"piezui"},{"name":"石化","url":"shihua"},{"name":"泪眼","url":"leiyan"}],s=[{"name":"嘘","url":"xu"},{"name":"哼哼","url":"hengheng"},{"name":"爱慕","url":"aimu"},{"name":"财迷","url":"caimi"},{"name":"耶","url":"ye"},{"name":"思考","url":"sikao"},{"name":"骷髅","url":"kulou"},{"name":"痛哭","url":"tongku"},{"name":"恭喜","url":"gongxi"},{"name":"捂脸","url":"wulian"},{"name":"嘿哈","url":"heiha"},{"name":"机智","url":"jizhi"},{"name":"皱眉","url":"zhoumei"},{"name":"安慰","url":"anwei"},{"name":"飞吻","url":"feiwen"},{"name":"奸笑","url":"jianxiao"},{"name":"猪头","url":"zhutou"},{"name":"玫瑰","url":"meigui"},{"name":"凋谢","url":"diaoxie"},{"name":"爱心","url":"aixin"},{"name":"心碎","url":"xinsui"},{"name":"蛋糕","url":"dangao"},{"name":"喝水","url":"heshui"}],r=[{"name":"西瓜","url":"xigua"},{"name":"咖啡","url":"kafei"},{"name":"啤酒","url":"pijiu"},{"name":"包包","url":"baobao"},{"name":"高跟鞋","url":"gaogenxie"},{"name":"帽子","url":"maozi"},{"name":"口红","url":"kouhong"},{"name":"裙子","url":"qunzi"},{"name":"T恤","url":"txu"},{"name":"裤子","url":"kuzi"},{"name":"眼镜","url":"yanjing"},{"name":"太阳镜","url":"taiyangjing"},{"name":"蜡烛","url":"lazhu"},{"name":"礼物","url":"liwu"},{"name":"红包","url":"hongbao"},{"name":"拥抱","url":"yongbao"},{"name":"太阳","url":"taiyang"},{"name":"月亮","url":"yueliang"},{"name":"便便","url":"bianbian"},{"name":"炸弹","url":"zhadan"},{"name":"菜刀","url":"caidao"},{"name":"握手","url":"woshou"},{"name":"胜利","url":"shengli"}],o=[{"name":"赞","url":"zan"},{"name":"OK","url":"ok"},{"name":"勾引","url":"gouyin"},{"name":"NO","url":"no"},{"name":"打脸","url":"dalian"},{"name":"抱拳","url":"baoquan"},{"name":"乒乓球","url":"pingpangqiu"},{"name":"足球","url":"zuqiu"},{"name":"篮球","url":"lanqiu"}];t.exports=function(t){for(var e=0,n=t.length;e<n;e++){var a=t[e];a.url=i+a.url+".png"}return t}(n.concat(a,s,r,o))}).call(exports,e(1))},"20":function(t,exports,e){"use strict";(function(e){var i=e.imgpath+"/images/emoji/",n=".png",a={"亲":{"name":"亲亲","url":i+"qinqin"+n},"愤怒":{"name":"生气","url":i+"shengqi"+n},"惊恐":{"name":"惊讶","url":i+"jingya"+n},"迷茫":{"name":"委屈","url":i+"weiqu"+n},"伤心":{"name":"难过","url":i+"nanguo"+n},"努力":{"name":"奋斗","url":i+"fendou"+n},"YY":{"name":" 坏笑","url":i+"huaixiao"+n},"恶心":{"name":"难受","url":i+"nanshou"+n}};t.exports=a}).call(exports,e(1))},"21":function(t,exports,e){var i=e(3);t.exports=i("src/js/module/popup/face/face",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$each),a=t.list,s=(t.v,t.i,t.face,t.$index,i.$escape),r=t.page,o="";return o+='<div data-node="faceBox" class="imoj-box" style="position: absolute;z-index: 9999;display:none"> <em class="sanjiao"></em> <div data-node="faceList" class="imoj-list"> ',n(a,function(t,e){o+=' <div class="imoj-content clearfix ',e&&(o+="hide"),o+='"> ',n(t,function(t,e){o+=' <a href="javascript:;"> <img width="22" height="22" data-face="[',o+=s(t.name),o+=']" src="',o+=s(t.url),o+='" alt="',o+=s(t.name),o+='" title="',o+=s(t.name),o+='"> </a> '}),o+=" </div> "}),o+=' </div> <ul data-action="facePage" class="pagination"> ',n(r,function(t,e){o+=" <li ",0==e&&(o+='class="active"'),o+=">",o+=s(e+1),o+="</li> "}),o+=" </ul> </div>",new String(o)})},"22":function(t,exports,e){"use strict";var i=function(t,e){return t?t.replace(e||/[&<">'](?:(amp|lt|ldquo|rdquo|quot|gt|#39|nbsp|#\d+);)?/g,function(t,e){return e?t:{"<":"&lt;","&":"&amp;",'"':"&quot;","“":"&ldquo;","”":"&rdquo;",">":"&gt;","'":"&#39;"}[t]}):""};t.exports=i},"23":function(t,exports,e){"use strict";(function(e){var i={"a":["target","href","title","class","data-node"],"div":["class","style","data-node","unselectable","onselectstart","data-type","data-skuid","data-rec-shoptag","data-identification"],"dl":["class","style","data-node"],"dt":["class","style"],"em":["class","style","data-node"],"h1":["data-node"],"h2":["data-node"],"h3":["data-node"],"h4":["data-node"],"h5":["data-node"],"h6":["data-node"],"img":["src","alt","title","width","height","id","_src","loadingclass","class","data-latex","data-node","data-index","data-type","data-node","data-original","onerror","proto","video-path","video-id","des","len","coverImage"],"p":["class","style","data-node"],"span":["class","style","data-node"],"ul":["class","style","data-node"],"ol":["class","style","data-node"],"li":["class","style","data-node"]},n={"imgLimitNUm":$GLOBAL_CONFIG.imgLimitNUm||20,"goodsLimitNUm":$GLOBAL_CONFIG.goodsLimitNUm||9,"videoLimitNUm":$GLOBAL_CONFIG.videoLimitNUm||1,"initialFrameWidth":788,"initialFrameHeight":400,"zIndex":9,"autoClearinitialContent":!0,"UEDITOR_HOME_URL":e.js_domain,"serverUrl":"","themePath":e.csspath+"/css/module/","whitList":i,"toolbars":[["bold","italic","underline","insertunorderedlist","insertorderedlist","justifyleft","justifycenter","justifyright"]],"iframeCssUrl":e.csspath+"/css/module/iframestyle.css?v="+$GLOBAL_CONFIG.versionData,"pasteplain":!0,"allowDivTransToP":!1,"imageScaleEnabled":!1,"elementPathEnabled":!1,"wordCount":!1,"catchRemoteImageEnable":!0,"enableContextMenu":!1,"imagePopup":!1,"enableAutoSave":!1};t.exports=n}).call(exports,e(1))},"26":function(t,exports,e){"use strict";(function($){var i=e(6),n=function(t){t=t||{};var e={"title":" ","modal":!0,"fixed":!0,"width":350,"content":'<p class="del-pop-p">您最多能添加9个商品哦！</p>',"className":"pop-box","okValue":"确定","okCls":"pc-btn pc-btnh35 circle-pop-btn","ok":function(){},"onshow":function(){$('[i="title"]').hide()}};return $.extend(!0,e,t),i(e)};t.exports={"create":n}}).call(exports,e(0))},"27":function(t,exports,e){var i=e(3);t.exports=i("src/js/module/popup/addGoods/content",function(t,e){"use strict";var i=this,n=(i.$helpers,t.useMeidian),a=i.$escape,s=t.imgSrc,r=t.returnList,o=i.$each,c=(t.$value,t.$index,t.changeNum),l=t.maxlength,d="";return d+=" ",n?(d+=' <div class="ui-dialog-title" data-node="title">添加商品</div> <ul data-node="tab-title-goods" class="tab-title-goods"> <li data-node = "coll" class="active">我的美店</li> <li data-node = "rec">好货推荐</li> </ul> <ul data-node = "tab-body-goods" class="tab-body-goods"> <li data-node="tab-coll"> <p class="no-saving-txt" style="display:none;" data-node="searchNormal">暂无商品</p> <div class="loading" data-node="searchLoading"><img src="',d+=a(s),d+='/images/public/loading.gif" alt=""></div> <p class="failed-txt" style="display:none;" data-node="searchFail">数据获取失败，点击重新加载！</p> <div style="display:',d+=a(0===r.length?"none":""),d+=';" data-node="searchResultBox"> <div class="merchant-list clearfix" > <div class="clearfix" data-node="searchResultList"></div> <div class="more-comments pop-more-com" data-action="moreItem" style="display:none;"> <span><img src="',d+=a(s),d+='/images/public/loading.gif">正在加载...</span> </div> </div> </div> </li> <li data-node="tab-rec" style="display: none;" isClick="0"> <p class="no-saving-txt" style="display:none;" data-node="searchNormal">暂无商品</p> <div class="loading" data-node="searchLoading"><img src="',d+=a(s),d+='/images/public/loading.gif" alt=""></div> <p class="failed-txt" style="display:none;" data-node="searchFail">数据获取失败，点击重新加载！</p> <div style="display:',d+=a(0===r.length?"none":""),d+=';" data-node="searchResultBox"> <div class="merchant-list clearfix" > <div class="clearfix" data-node="searchResultList"></div> <div class="more-comments pop-more-com" data-action="moreItem" style="display:none;"> <span><img src="',d+=a(s),d+='/images/public/loading.gif">正在加载...</span> </div> </div> </div> </li> </ul> <div class="chosed-merchants" data-node="changedBox" style="display:',d+=a(r.length>0?"":"none"),d+='"> <ul class="merchants-list clearfix" data-node="searchChangeList"> ',o(r,function(t,e){d+=' <li data-skuId="',d+=a(t.skuId),d+='" data-pid="',d+=a(t.PId),d+='"> <img src="',d+=a(t.img),d+='" alt="" onerror="imgError(this)"> <a href="javascript:;" data-action="delChanged"> <em class="icon-del-pic"></em> </a> </li> '}),d+=' </ul> </div> <div class="num-pics">您可以添加 <span class="link-hover-red" data-node="searchChangeNum">',d+=a(c),d+='</span>/<span class="deep-gray">',d+=a(l),d+="</span>个商品</div> "):(d+=' <div class="search-box" data-node="addTopBox"> <input type="text" placeholder="搜索商品" data-action="addSearchInput"> <em class="icon-search-sw" data-action="addSearchBtn"></em> </div> <div class="ui-dialog-title" data-node="title">我收藏的商品</div> <p class="no-saving-txt" style="display:none;" data-node="searchNormal">暂无收藏的商品，可以搜索查找！</p> <div class="loading" data-node="searchLoading"><img src="',d+=a(s),d+='/images/public/loading.gif" alt=""></div> <p class="failed-txt" style="display:none;" data-node="searchFail">数据获取失败，点击重新加载！</p> <div style="display:',d+=a(0===r.length?"none":""),d+=';" data-node="searchResultBox"> <div class="merchant-list clearfix" > <div class="clearfix" data-node="searchResultList"></div> <div class="more-comments pop-more-com" data-action="moreItem" style="display:none;"> <span><img src="',d+=a(s),d+='/images/public/loading.gif">正在加载...</span> </div> </div> <div class="chosed-merchants" data-node="changedBox" style="display:',d+=a(r.length>0?"":"none"),d+='"> <ul class="merchants-list clearfix" data-node="searchChangeList"> ',o(r,function(t,e){d+=' <li data-skuId="',d+=a(t.skuId),d+='" data-pid="',d+=a(t.PId),d+='"> <img src="',d+=a(t.img),d+='" alt="" onerror="imgError(this)"> <a href="javascript:;" data-action="delChanged"> <em class="icon-del-pic"></em> </a> </li> '}),d+=' </ul> </div> <div class="num-pics">您可以添加 <span class="link-hover-red" data-node="searchChangeNum">',d+=a(c),d+='</span>/<span class="deep-gray">',d+=a(l),d+="</span>个商品</div> </div> "),new String(d)})},"28":function(t,exports,e){var i=e(3);t.exports=i("src/js/module/popup/addGoods/itemContent",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$each),a=t.itemlist,s=(t.$value,t.$index,i.$escape),r=t.indexof,o=t.changedList,c=t.shopTag,l=i.$string,d="";return n(a,function(t,e){d+=' <dl class="merchant-item clearfix ',d+=s(-1!==r(o,t.skuId)?"chosed-mer-true":""),d+='" data-action="item" data-pId="',d+=s(t.pId),d+='" data-link="',d+=s(t.sUrl),d+='" data-skuId="',d+=s(t.skuId),d+='" ',c>0&&(d+=' data-rec-shoptag="1" data-identification=',d+=s(t.identification),d+=" "),d+=" > <dt><img src=",d+=s(t.mainImage),d+=' alt="11111" onerror="imgError(this)"></dt> <dd> <h4 node-data="itemTitle">',d+=l(t.name),d+='</h4> <span class="itemPrice"><em>￥</em><span node-data="itemPrice">',d+=s(null!==t.salePrice?t.salePrice:"暂无售价"),d+="</span></span> \x3c!-- ",t.rebateMoney>0&&(d+=' <div class="fan fan-s"> <em class="icon-fan-s"></em> <span>最高返',d+=s(t.rebateMoney),d+="国美币</span> </div> "),d+=" --\x3e </dd> </dl> "}),d+=" ",new String(d)})},"3":function(t,exports){!function(){function e(t,e){return(/string|function/.test(typeof e)?c:o)(t,e)}function i(t,e){return"string"!=typeof t&&(e=typeof t,"number"===e?t+="":t="function"===e?i(t.call(t)):""),t}function n(t){return h[t]}function a(t){return i(t).replace(/&(?![\w#]+;)|[<>"']/g,n)}function s(t,e){if(p(t))for(var i=0,n=t.length;n>i;i++)e.call(t,t[i],i,t);else for(i in t)e.call(t,t[i],i)}function r(t,e){var i=/(\/)[^\/]+\1\.\.\1/,n=("./"+t).replace(/[^\/]+$/,""),a=n+e;for(a=a.replace(/\/\.\//g,"/");a.match(i);)a=a.replace(i,"/");return a}function o(t,i){var n=e.get(t)||l({"filename":t,"name":"Render Error","message":"Template not found"});return i?n(i):n}function c(t,e){if("string"==typeof e){var i=e;e=function(){return new u(i)}}var n=d[t]=function(i){try{return new e(i,t)+""}catch(t){return l(t)()}};return n.prototype=e.prototype=f,n.toString=function(){return e+""},n}function l(t){var e="{Template Error}",i=t.stack||"";if(i)i=i.split("\n").slice(0,2).join("\n");else for(var n in t)i+="<"+n+">\n"+t[n]+"\n\n";return function(){return"object"==typeof console&&console.error(e+"\n\n"+i),e}}var d=e.cache={},u=this.String,h={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},p=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},f=e.utils={"$helpers":{},"$include":function(t,e,i){return t=r(i,t),o(t,e)},"$string":i,"$escape":a,"$each":s},m=e.helpers=f.$helpers;e.get=function(t){return d[t.replace(/^\.\//,"")]},e.helper=function(t,e){m[t]=e},t.exports=e}()},"30":function(t,exports,e){(function(t){!function($,t){var e,i=$(t);$.fn.lazyload=function(n){function a(){var t=0;s.each(function(){var e=$(this);if(!r.skip_invisible||e.is(":visible"))if($.abovethetop(this,r)||$.leftofbegin(this,r));else if($.belowthefold(this,r)||$.rightoffold(this,r)){if(++t>r.failure_limit)return!1}else e.trigger("appear")})}var s=this,r={"threshold":0,"failure_limit":0,"event":"scroll","effect":"show","container":t,"data_attribute":"original","skip_invisible":!0,"appear":null,"load":null};return n&&(void 0!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),void 0!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),$.extend(r,n)),e=void 0===r.container||r.container===t?i:$(r.container),0===r.event.indexOf("scroll")&&e.bind(r.event,function(){return a()}),this.each(function(){var t=this,e=$(t);t.loaded=!1,e.one("appear",function(){if(!this.loaded){if(r.appear){var i=s.length;r.appear.call(t,i,r)}$("<img />").bind("load",function(){e.attr("src",e.data(r.data_attribute))[r.effect](r.effect_speed),t.loaded=!0;var i=$.grep(s,function(t){return!t.loaded});if(s=$(i),r.load){var n=s.length;r.load.call(t,n,r)}}).attr("src",e.data(r.data_attribute))}}),0!==r.event.indexOf("scroll")&&e.bind(r.event,function(){t.loaded||e.trigger("appear")})}),i.bind("resize",function(){a()}),a(),this},$.belowthefold=function(n,a){return(void 0===a.container||a.container===t?i.height()+i.scrollTop():e.offset().top+e.height())<=$(n).offset().top-a.threshold},$.rightoffold=function(n,a){return(void 0===a.container||a.container===t?i.width()+i.scrollLeft():e.offset().left+e.width())<=$(n).offset().left-a.threshold},$.abovethetop=function(n,a){return(void 0===a.container||a.container===t?i.scrollTop():e.offset().top)>=$(n).offset().top+a.threshold+$(n).height()},$.leftofbegin=function(n,a){return(void 0===a.container||a.container===t?i.scrollLeft():e.offset().left)>=$(n).offset().left+a.threshold+$(n).width()},$.inviewport=function(t,e){return!($.rightofscreen(t,e)||$.leftofscreen(t,e)||$.belowthefold(t,e)||$.abovethetop(t,e))},$.extend($.expr[":"],{"below-the-fold":function(e){return $.belowthefold(e,{"threshold":0,"container":t})},"above-the-top":function(e){return!$.belowthefold(e,{"threshold":0,"container":t})},"right-of-screen":function(e){return $.rightoffold(e,{"threshold":0,"container":t})},"left-of-screen":function(e){return!$.rightoffold(e,{"threshold":0,"container":t})},"in-viewport":function(e){return!$.inviewport(e,{"threshold":0,"container":t})},"above-the-fold":function(e){return!$.belowthefold(e,{"threshold":0,"container":t})},"right-of-fold":function(e){return $.rightoffold(e,{"threshold":0,"container":t})},"left-of-fold":function(e){return!$.rightoffold(e,{"threshold":0,"container":t})}})}(t,window)}).call(exports,e(0))},"31":function(t,exports,e){"use strict";(function($){var i=e(2),n=e(5),a=e(32),s=e(9),r={"qq":"http://connect.qq.com/widget/shareqq/index.html","wb":"http://v.t.sina.com.cn/share/share.php","qz":"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey"},o={"url":"https://group.gomeplus.com/","title":"国美APP边玩边分享，购物不孤单","pic":"../../images/public/logo.png","summary":"国美APP边玩边分享，购物不孤单"},c=function(t){window.open(t)},l=!1,d=function(){$("body").append('<p data-node="shareBtnBox" class="share-down" style="z-index:21;"><span class="share-box"><span class="icon icon-up-arrow"></span><span class="icon-box"><em data-shareto="weixin" class="iconn-30"></em><em data-shareto="qq" class="iconn-32"></em><em data-shareto="sina" class="iconn-31"></em><em data-shareto="qzone" class="iconn-33"></em></span></span></p>'),l=!0},u=function(t){!l&&d(),$("[data-node=shareBtnBox]").css({"left":t.x,"top":t.y}).show()},h=!1,p=function(){$("body").append('<div class="share-weixin"><div class="wx-mask"></div><div class="wx-main"><div class="wx-code"><span></span><img data-node="shareWeixinCode" alt="分享到微信" /></div><p>打开微信扫一扫，即可分享</p><a href="javascript:;" title="点击关闭" class="wx-close">×</a></div></div>'),h=!0},f=function(t,e){var i=[],n={"url":t.url,"title":t.title,"summary":t.summary,"site":t.site};t.kid&&(n.url=t.url+"?kid="+t.kid);for(var a in n)i.push(a+"="+encodeURIComponent(n[a]||""));return e?i.push("pics="+t.pic):i.push("pic="+t.pic),i.join("&")},m={"weixin":function(t){var e=a(t.url);!h&&p(),$("[data-node=shareWeixinCode]")[0].src=e,$(".share-weixin").show(),$(".wx-close").on("click",function(){$(".share-weixin").hide()})},"qq":function(t){var e=r.qq+"?"+f(t,!0);c(e)},"wb":function(t){var e=r.wb+"?"+f(t);c(e)},"qz":function(t){var e=r.qz+"?"+f(t,!0);c(e)}},g=function(t){var e="0"!==t.isRebate;i.get(n.get("shareGetGoodsKid"),{"validate":e,"data":{"skuId":t.skuId,"itemId":t.itemId,"parentKid":t.parentKid},"async":!1}).done(function(e){if(!0===e.success){var i=e.data.kid,n=t.shareInfo,a=n.url,s=a.indexOf("?");s>0&&(a=a.substring(0,s)),n.url=a+"?onlineUserId="+n.onlineUserId+"&kId="+i,m[t.shareto](n)}else m[t.shareto](t.shareInfo)}).fail(function(){e?s()&&m[t.shareto](t.shareInfo):m[t.shareto](t.shareInfo)})},v=function(t){var e={"title":t.title||o.title,"url":t.url||o.url,"pic":t.pic||o.pic,"summary":t.summary||"","desc":t.desc||""};!!m[t.type]&&m[t.type](e)},b=function(t,e,i){var n=null,a=null;a="string"==typeof t?$(t):t,e=e||"[data-action=shareto]",a.on("mouseenter",e,function(){var t=$(this).data("surl"),e=$(this).data("stitle"),i=$(this).data("spic");n={"url":t,"title":e,"pic":i};var a=$(this).width(),s=$(this).height(),r=$(this).offset().left/1+a/2-80+"px",o=$(this).offset().top/1+(s-1)+"px";return u({"x":r,"y":o}),!1}),a.on("mouseleave",e,function(){return $("[data-node=shareBtnBox]").hide(),!1}),$("body").on("click","[data-shareto]",function(t){t.preventDefault();var e=$(this).data("shareto");n.type=e,i=i||function(){},i.call(null,n),v(n)}),$("body").on("mouseenter","[data-node=shareBtnBox]",function(){$(this).show()}),$("body").on("mouseleave","[data-node=shareBtnBox]",function(){$(this).hide()})};t.exports={"share":v,"shareto":m,"shareItem":b,"shareWithKid":g}}).call(exports,e(0))},"32":function(t,exports,e){"use strict";(function(e){var i=function(t){return e.group_domain+"ajax/qrcode/urlcode?url="+encodeURIComponent(t)};t.exports=i}).call(exports,e(1))},"356":function(t,exports,e){"use strict";(function($,t){$("body").attr("data-module","1"),e(30);var i=e(357),n=e(363),a=e(364),s=e(166),r=e(142),o=e(366),c=e(369);e(25).setPageData("topicDetail");var l=e(372);i.init(),a.init(),n.init(),s.init(),$("[data-node=userTopic-del]").on("click",function(){var e=$(this).parents("[data-node=wrap-box]").attr("id-node"),i={"id":e,"groupid":t.groupid,"content":"是否要删除美店说？","res":function(){location.replace($GLOBAL_CONFIG.meidian_domain+"admin/topics.html")}};r(i)}),c.init(),o.init(),l.init(),$("img").lazyload({"effect":"fadeIn"})}).call(exports,e(0),e(1))},"357":function(t,exports,e){"use strict";(function($,i){e(30);var n=e(17),a=e(7),s=e(14),r=e(59),o=e(145),c=e(358),l=e(359),d=e(360),u=e(62),h=e(361),p=e(362),f=$("[data-node='loadlist']"),m=$("[data-node='comment_Msg']"),g=i.topicid,v=$("[data-node='more-topic']"),b='[data-node="textareaTips"]';f.css("display","none"),$("[data-node='loading']").css("display","none"),$("[data-node='noload']").css("display","none"),$("[data-node='imgUl']").addClass("hide");var y=function(){m.on("click",u.commentCheck),v.on("click","[data-node='a_Submit']",c),v.on("click","[data-node='secondCom_Key']",l.secondCom_Key),v.on("click","[data-node='hideComBox']",l.hideComBox),v.on("click","[data-node='a_secondComBtn']",l.a_secondComBtn),v.on("click",'[data-node="smilies_Face"]',h.showEmoji),v.on("click","[data-node='showMoreList']",d),r()&&(v.on("keydown","textarea",x),v.on("blur","textarea",w))},x=function(){$(this).parent(m).find(b).addClass("hide")},w=function(){var t=$(this),e=$.trim(t.val());t.val(e),e.length?t.parent(m).find(b).addClass("hide"):t.parent(m).find(b).removeClass("hide")},_=function(){u.getLoginState()&&n.insert(function(t){h.insertAtCursor(h.curretTextAreaObj(),t.reg)}),o(g,1,10,2),y(),p.lodingMore(),p.goComment(),n.init(),$("img").lazyload({"effect":"fadeIn"})};a(s.comment.enableEditor).sub(function(t){"enable"==t.pid&&u.getLoginState()}),t.exports={"init":_,"getLoginState":u.getLoginState}}).call(exports,e(0),e(1))},"358":function(t,exports,e){"use strict";(function($,i){function n(t){return 1==s&&i.userId==t?i.i_domain+"member/profileHome":i.group_domain+"ta/"+t+".html"}function a(t){function e(t){return parseInt(t)<10?"0"+t:t}var i=new Date(t),n=i.getFullYear(),a=i.getMonth()+1,s=i.getDate(),r=i.getHours(),o=i.getMinutes(),c=i.getSeconds();return n+"-"+e(a)+"-"+e(s)+" "+e(r)+":"+e(o)+":"+e(c)}var s=1,r=e(4),o=e(8),c=e(163),l=e(74),d=e(9),u=e(2),h=e(5),p=e(62),f=e(17),m=e(71),g=e(164),v=e(56),b=$("[data-node='comment_Msg']"),y=i.isExpert,x=i.product_item_gome,w=function(){if(!d())return p.popUnion(),!1;var t=b.attr("data-headface"),e=$(this).parents().eq(1),w=e.children("textarea").val();if((w=w.trim())&&v(w,!0))return!1;for(var _=e.attr("data-tid"),k=e.find("[data-node='imgUl']").children("li"),I=[],S=0;S<k.length;S++){var T=$(k[S]).find("img").attr("src");T&&I.push(T)}var C=e.find("[data-node='addImgGoods']");if(w||I.length||C.hasClass("hasGoods")){var E=null,P="",R="",B="";if(C.hasClass("hasGoods")){var U=C.find("[data-node='goodsIn']");P=U.attr("data-shopId"),R=U.attr("data-itemId"),B=U.attr("data-skuId"),E=1}else E=0;var L={"reply_type":E,"topicid":_,"content":w,"pics":I,"shopid":P,"itemid":R,"groupId":i.groupid};B&&(L.skuid=B),u.post(h.get("commentFirstV2"),{"data":L}).then(function(d){if(d.success){var u=d.data,h=u.content;h=l(h),e.children("textarea").val("");var p=null;if(u.pics.length>0){var v={"picsSrc":u.pics,"picture":u.pictures,"length":u.pics.length};p=g(v)}var b="",w="",k="",I="",S="",T="",C="";if(u.item){var P=u.item;b=x,w=P.mainImage,k=P.name,I=null!==P.salePrice?P.salePrice:"暂无售价",S=P.id,T=u.id,C=u.skuId?"-"+u.skuId:""}var R=n(d.data.user.id),B=1==s&&i.userId!=d.data.user.id,U={"showSecComm":"hide","mall_domain":b,"itemsPic":w,"itemShopNameItem":k,"itemPrice":I,"shopId":S,"itemShopId":T,"skuId":C,"imageStr":p,"UserId":R,"dlShowBorder":"clearfix bd-bottom","userIsExpert":y,"isExpert":u.expertInfo.isExpert,"userPic":u.user.facePicUrl,"username":u.user.nickname,"backTopicId":u.id,"content":f.parseEmoji(h),"topicType":E,"topicId":u.topicId,"currUserImg":t,"times":m(a(u.createTime)),"isFirstCom":!0,"userSubmit":!0,"showReport":B,"kid":u.kid};$("[data-node='hidDiv']").css("display","block");var L=c(U);$("[data-circlecom='"+_+"']").append($(L)),$("[data-tid='"+_+"']").children('[data-node="addImgGoods"]').attr("data-imgnum",9).attr("data-goodstr","").removeClass("hasGoods"),$("[data-tid='"+_+"']").find("[data-node='imgUl']").attr("data-imgsrt","").addClass("hide").children(".imgClass").remove(),$("[data-tid='"+_+"']").find("[data-node='addGoods_btn']").removeClass("disabled"),$("[data-tid='"+_+"']").find("[data-node='addImg_btn']").removeClass("disabled"),$("[data-node='goodsIn']").remove();var q=$("[id-node='"+_+"']");$("body,html").animate({"scrollTop":parseInt(q.height()+q.offset().top-$(window).height()/2)}),o.init("评论成功")}else 881001===d.code?r("评论内容不能超过200个汉字"):404===d.code||410===d.code?r("抱歉，该美店说已被删除",{"ok":function(){window.location.reload()}}):422===d.code?r("抱歉，服务器君正在打盹",{"ok":function(){window.location.href="/index/get_error?code=500"}}):403===d.code?r("抱歉，该美店说审核不通过！",{"ok":function(){window.location.href="/index/get_error?code=topic"}}):r(d.message)})}else r("请输入评论内容！")};t.exports=w}).call(exports,e(0),e(1))},"359":function(t,exports,e){"use strict";(function($,i){function n(t){return 1==r&&i.userId==t?i.i_domain+"member/profileHome":i.group_domain+"ta/"+t+".html"}var a=e(59),s=e(145),r=1,o=e(4),c=e(74),l=e(9),d=e(2),u=e(5),h=e(62),p=e(165),f=e(56),m=function(){if(!l())return h.popUnion(),!1;var t=$(this).parents().eq(2).attr("data-ispublish"),e="";"1"==t?t=!1:(t=!0,e=$(this).parents().eq(2).attr("data-replycommentid"));var i=$(this).attr("data-gettopicid"),a=$("[data-htid='"+i+"']").attr("data-tid"),r=$(this).parents().eq(1).children("textarea").val();r=r.trim();var m=i,g={"topic_reply_id":m,"topicid":a,"content":r,"topic_subreply_id":e};if(r){if(f(r,!0))return!1;d.post(u.get("secondtopicMd"),{"data":g}).then(function(e){if(e.success){var r=e.data.content;r=c(r);var l="",d="",u=n(e.data.user.id),h="javascript:;";t&&(l=e.data.topicSubReplyUser.nickname,d=e.data.topicSubReplyUser.id,h=n(d));var f={"SenUserId":u,"threeUserId":h,"topicType":0,"backTopicId":i,"parentCommentId":i,"topicId":e.data.topicId,"replayToPub":t,"content":r,"replyUserName":e.data.user.nickname,"replyUserId":e.data.user.id,"beReplyUserName":l,"beReplyUserId":d,"replyCommentId":e.data.id},m=p(f);$("[data-ddlist='"+i+"']").find(".comments-box").removeClass("hide").append(m),$("[data-parentTopicIdBtn='"+i+"']").css("display","none"),$("[data-parentTopicId='"+i+"']").css("display","none"),$("[data-parentTopicId='"+i+"']").removeAttr("data-replayto"),$(".textarea-bx","[data-parentTopicId='"+i+"']").val("")}else 500===e.code||"请求参数为空"===e.message?o(e.message):(403===e.code&&(e.message="抱歉，该回复审核不通过！"),o(e.message,{"ok":function(){$("[data-node=circleCom]").empty(),s(a,1,10,2)}}))})}else o("请输入评论内容！")},g=function(){if(!l())return h.popUnion(),!1;var t=$(this).attr("data-replyuserid"),e=$(this).attr("data-replycommentid"),i=$(this).attr("data-comid"),n=$(this).attr("data-replayUser"),s=$(this).attr("data-publish"),r=$("[data-parenttopicid='"+i+"']").css("display"),o=$("[data-parentTopicId='"+i+"']");if(o.removeAttr("data-replyuserid"),o.removeAttr("data-replayTo"),o.removeAttr("data-replycommentid"),o.removeAttr("data-isPublish"),o.attr("data-replyuserid",t),o.attr("data-replayTo",n),o.attr("data-isPublish",s),o.attr("data-replycommentid",e),o.children(".topic-publish-content").children("textarea").attr("placeholder","回复: "+n),a()&&o.children(".topic-publish-content").children("label").html("回复: "+n),"none"==r){$(".secondText").css("display","none"),$(".pack-up").css("display","none"),o.css("display","block"),$("[data-parentTopicIdBtn='"+i+"']").css("display","block");$(window).scrollTop()+$(window).height()+60<o.offset().top&&$("html,body").animate({"scrollTop":o.offset().top-$(window).height()+185},200),o.children(".topic-publish-content").children("textarea").focus(),a()&&o.children(".topic-publish-content").children("label").removeClass("hide")}},v=function(){if(!l())return h.popUnion(),!1;var t=$(this).attr("data-parentTopicIdBtn");$("[data-parentTopicId='"+t+"']").css("display","none"),$("[data-parentTopicId='"+t+"']").children("textarea").attr("placeholder","说点什么吧"),$("[data-parentTopicIdBtn='"+t+"']").css("display","none"),$("[data-parentTopicId='"+t+"']").removeAttr("data-isPublish").removeAttr("data-replayTo"),$(".textarea-bx","[data-parentTopicId='"+t+"']").val("")};t.exports={"a_secondComBtn":m,"secondCom_Key":g,"hideComBox":v}}).call(exports,e(0),e(1))},"360":function(t,exports,e){"use strict";(function($,i){function n(t){return 1==l&&i.userId==t?i.i_domain+"member/profileHome":i.group_domain+"ta/"+t+".html"}var a=e(2),s=e(5),r=e(74),o=e(165),c=e(9),l=1==c()?1:0,d=function(){var t=$(this).attr("data-htid"),e=$(this),i="?page=1&pagesize=70&topic_replyid="+t;if("查看回复..."===e.html())!function(e,i){a.get(s.get("getRelyListMd")+e).then(function(e){var a=e.data.topicSubReplys;if(a.length>2){$("[data-ddlist='"+t+"']").find(".comments-box").empty();for(var s=0;s<a.length;s++){var c=a[s],l=c.content;l=r(l);var d="",u="",h=!1,p=n(c.user.id),f="javascript:;";c.topicSubReplyUser&&(d=c.topicSubReplyUser.nickname,u=c.topicSubReplyUser.id,h=!0,f=n(u));var m={"SenUserId":p,"threeUserId":f,"topicType":0,"backTopicId":t,"parentCommentId":t,"topicId":c.topicId,"replayToPub":h,"content":l,"replyUserName":c.user.nickname,"replyUserId":c.user.id,"beReplyUserName":d,"beReplyUserId":u,"replyCommentId":c.id},g=o(m);$("[data-ddlist='"+t+"']").find(".comments-box").append(g),i.html("收起")}}else i.addClass("hide"),$("[data-ddlist='"+t+"']").parent().addClass("bd-bottom")})}(i,e);else{for(var c=$("[data-ddlist='"+t+"']").find(".comments-s"),l=2;l<c.length;l++)c.eq(l).remove();e.html("查看回复...")}};t.exports=d}).call(exports,e(0),e(1))},"361":function(t,exports,e){"use strict";(function($){var i,n=e(9),a=e(17),s=e(62),r=[],o=function(t,e,i){if(t.setSelectionRange)t.setSelectionRange(e,i);else if(t.createTextRagen){var n=t.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",i-e),n.select()}t.focus()},c=function(t,e){if(t.selectionStart>=0){var i=t.value,n=t.selectionStart;t.value=i.substring(0,n)+e+i.substring(t.selectionEnd),t.selectionStart=t.selectionEnd=n+e.length,t.focus()}else if(void 0!==document.selection&&void 0!==document.selection.createRange){t.focus(),$(t).siblings('[data-node="textareaTips"]').addClass("hide");var a=document.selection.createRange();a.text=e,a.select()}},l=function(){if(i?i.hide():(i=$('[data-node="picPopBox"]'),i.hide()),!n())return s.popUnion(),!1;var t=$(this),e=t.offset(),o=e.left-2,c=e.top+38;return r=t.closest(".topic-publish-content").children("textarea"),r.focus(),$('[data-node="faceBox"]').is(":hidden")?a.show(o,c):a.hide(),!1};t.exports={"showEmoji":l,"insertAtCursor":c,"selectText":o,"curretTextAreaObj":function(){return r.get(0)}}}).call(exports,e(0))},"362":function(t,exports,e){"use strict";(function($,i){var n=e(145),a=e(9),s=$("[data-node='more-topic']"),r=e(15),o=function(){s.on("click","[data-node='loadlist']",function(){for(var t=$(this).parent("[data-node='hidDiv']"),e=t.attr("data-comtopicid"),i=t.find("[data-node='userSubmit']"),a=$(this).attr("data-addmorepages"),s=$(this).attr("data-listsize"),r=parseInt(a)+1,o=0,c=i.length;o<c;o++){var l=$(i[o]);l.next("a").remove(),l.next("div").remove(),l.remove()}return n(e,r,s,5,"nodelist"),!1})},c=function(){$("body").on("click","[data-action='goComment']",function(){if(!a())return r(),!1;var t=$($(this).parents()[2]).attr("data-conter-ul");window.BP&&BP.send({"event_id":"G000P008","group_id":i.groupid,"topic_id":i.topicid,"circle_type":i.s_c,"channel_id":"in-pinglun"});var e=$("[data-left='"+t+"']").children("[data-node='commentBox']"),n=e.offset().top;$("[data-tid='"+t+"']").children("textarea").focus(),$("html,body").animate({"scrollTop":n},200)})};t.exports={"lodingMore":o,"goComment":c}}).call(exports,e(0),e(1))},"363":function(t,exports,e){"use strict";(function($){var i=e(58),n=$("[data-node='praiseClick']");n.children("em").hasClass("active")&&n.children("span").html("取消点赞");var a=function(){return i("body",'[data-node="praiseClick"]',{"mode":"normal"}),!1};t.exports={"init":a}}).call(exports,e(0))},"364":function(t,exports,e){"use strict";(function($,i){var n=e(31).shareto,a=e(72),s=e(365),r=function(){var t=$("body"),e=i.imgpath+"/images/public/down-logo.png",r=function(t){var n=t.closest("ul"),a={"url":n.data("surl"),"title":n.data("stitle"),"pic":n.data("spic")||e,"summary":n.data("content")||"刚刚收到了一条美店说，赶快打开看看吧！"};if(1==i.islogin){var r=s();a.kid=r}return a},o=function(t){return function(){var e=r($(this));n[t](e);var i=$(this).closest(".topic-conter").attr("data-conter-ul");return a({"page":"ht","shareTo":t,"shareId":i}),!1}};t.on("click","[data-node='wx']",function(){var t=$(this).closest(".topic-conter").attr("data-conter-ul"),e=i.wap_circle_url+"topic_mshop-"+t+".html";if(1==i.islogin){e=e+"?kid="+s()}return n.weixin({"url":e}),a({"page":"ht","shareTo":"wx","shareId":t}),!1}),t.on("click","[data-node='wb']",o("wb")),t.on("click","[data-node='qq']",o("qq")),t.on("click","[data-node='qzone']",o("qz"))};t.exports={"init":r}}).call(exports,e(0),e(1))},"365":function(t,exports,e){"use strict";var i=e(2),n=e(5),a="",s=function(){return i.get(n.get("shareKid"),{"async":!1}).done(function(t){!0===t.success&&(a=t.data.kid)}),a};t.exports=s},"366":function(t,exports,e){"use strict";(function($){var i=e(50),n=e(11),a=e(62),s=e(367),r=e(9),o=e(368),c=e(166).topFixed,l=e(7),d=e(14),u=e(53),h=$('[data-node="picPopBox"]'),p="",f=function(){$("body").on("click",'[data-node="addImg_btn"]',_).on("click","[data-node='addMoreImg']",g).on("click","[data-node='imgPics']",w).on("click",'[data-node="imgBigHind"]',x).on("click",'[data-node="hideBigPic"]',y).on("click",'[data-node="imgBigPN"]',b).on("click",'[data-node="deletImg"]',m).on("click",'[data-node="showImg"]',v).on("click",'[data-node="roteRo"]',s.init).on("click",'[data-node="addImg_btn"]',I).on("click",'[data-node="picPopBox"]',I).on("click",S)},m=function(){var t=$($(this).parents().eq(2)),e=t.children("a").children("img").attr("src"),i=t.parent(),a=i.parent(),s=parseInt(a.attr("data-imgnum"));n("确认删除该图片？",{"title":"提示","okCls":"two-button two-button-red","cancelCls":"two-button","btnWrapCls":"text-center","ok":function(){t.remove();var n=i.attr("data-imgsrt"),r=n.split(","),o=r;o.splice(e,1),i.attr("data-imgsrt",o),a.attr("data-imgnum",s+1),i.children("[data-node='addMoreImg']").removeClass("hide"),a.parent().find("[data-node='addImg_btn']").removeClass("disabled"),parseInt(s+1)>=9&&i.addClass("hide")}})},g=function(){var t=$($(this).parents().eq(1)).attr("data-imgNum");if(p=$($(this).parents().eq(2)).children(".publish-face-bx").attr("data-publish"),0==t)return!1;i(t,p)},v=function(){var t=$(this);if(t.hasClass("active"))return!1;var e=$(this).attr("data-active"),i=$(t.parents().eq(1)).children(".big-img").children(".img-hidden").children("[data-bigimg='"+e+"']");$(i).removeClass("hide").siblings().addClass("hide");var n=$(i).children("img");$(n).hasClass("srcError")&&($(n).removeClass("srcError"),$(n).attr("src",$(n).attr("data-imgsrc"))),t.addClass("active").siblings().removeClass("active");var a=$(t.parents().eq(1)).children(".big-title").children("[data-node='imgBigSrc']");$(a).attr("href",$(n).attr("data-imgsrc"))},b=function(){var t=$(this),e=$(t.parents().eq(1)).children(".img-slide").children(".active").attr("data-active");e=parseInt(e);var i=null,n=parseInt(t.parent().attr("data-piclength"))-1;i="pre"==t.attr("data-page")?0==e?n:e-1:e==n?0:e+1,$(t.parents().eq(1)).children(".img-slide").children("[data-active='"+i+"']").click()},y=function(){var t=$(this).parents().eq(2),e=$(this).parents().eq(3);$(t).addClass("hide"),$(e).children("ul").removeClass("hide"),c($(window).scrollTop())},x=function(){var t=$(this).parents().eq(1),e=$(this).parents().eq(2);$(t).addClass("hide"),$(e).children("ul").removeClass("hide"),c($(window).scrollTop())},w=function(){var t=$(this).parents().eq(1),e=$(this).parents().eq(0),i=$(t).children("[data-node='imgBigPic']");$(e).addClass("hide"),i.removeClass("hide");var n=$(this).attr("data-imgsort"),a=i.children(".big-img").children(".img-hidden").children("[data-bigimg='"+n+"']"),s=$(a).children("img");$(a).removeClass("hide").siblings().addClass("hide"),$(s).hasClass("srcError")&&($(s).removeClass("srcError"),$(s).attr("src",$(s).attr("data-imgsrc")));var r=i.children(".img-slide").children("[data-active='"+n+"']");$(r).addClass("active").siblings().removeClass("active");var o=i.children(".big-title").children("[data-node='imgBigSrc']");$(o).attr("href",$(s).attr("data-imgsrc")),c($(window).scrollTop())},_=function(){if(!r())return a.popUnion(),!1;var t=$(this).parents().eq(1).children("[data-node='addImgGoods']").attr("data-imgNum");if(p=$(this).parent().attr("data-publish"),$('[data-node="picPopBox"]').removeClass("webuploader-element-invisible"),$("div[tabindex]").remove(),0==t)return!1;T(p,$(this)),i(t,9)};l(d.setPubliser.changeImage).sub(function(t){k(t,p)});var k=function(t,e){if(!(t.images.length>0))return!1;var i=[],n=$("[data-tid="+e+"]").children("[data-node='addImgGoods']"),a=parseInt(n.attr("data-imgNum")),s=parseInt(a-t.images.length);n.attr("data-imgNum",s);var r=$("[data-tid='"+e+"']").find("[data-node='imgUl']");r.addClass("topic-imglist");var c=r.attr("data-imgsrt"),l=o(t);r.removeClass("hide").append(l),c&&i.push(c);for(var d=0;d<t.images.length;d++)i.push(t.images[d]);r.attr("data-imgsrt",i),parseInt(r.parent().attr("data-imgNum"))<=0&&$("[data-tid="+e+"]").find("[data-node='addImg_btn']").addClass("disabled")},I=function(t){$('[data-node="faceBox"]').hide(),t.stopPropagation()},S=function(t){h.hide()},T=function(t,e){if(window.topicQrId||(window.topicQrId=[]),t="s"+t,window.topicQrId[t]){var i=window.topicQrId[t];i.useNewCode?i.checkShow()?i.hide():(i.show(),i.sendNum()):i.getCode()}else{var n={"qid":t,"time":2e3,"$showBox":h,"customCb":C,"$insertDom":"","$target":e,"type":"detail","maxNum":9};$.extend(n,{"$parent":e.parents('[data-node="comment_Msg"]').find('[data-node="imgUl"]')}),window.topicQrId[t]=new u(n),window.topicQrId[t].init()}},C=function(t,e){p=e.qid.slice(1);var i={};i.images=t,k(i,p)},E=function(){f()};t.exports={"init":E}}).call(exports,e(0))},"367":function(t,exports,e){"use strict";(function($){var i=e(2),n=e(5),a=e(4),s=function(){var t=$(this),e=$(this).parent(),s=$(t.parents().eq(1)).children("img"),r=(s.attr("src"),s.attr("data-oldImg")),o=Number.parseInt(e.attr("data-roteNum"));if(-1!=r.indexOf(".gif"))return a("gif图不支持旋转"),!1;if(t.hasClass("roteLeft")?o=(o+90)%360:t.hasClass("roteRight")&&(o=(o-90+360)%360),0===o)s.attr("src",r),s.css({"transform":"rotate("+o+"deg)","-ms-transform":"rotate("+o+"deg)","-moz-transform":"rotate("+o+"deg)","-webkit-transform":"rotate("+o+"deg)","-o-transform":"rotate("+o+"deg)"}),e.attr("data-roteNum",o);else{var c={"imgPath":r,"angle":o};i.post(n.get("handleimg"),{"data":c}).then(function(t){t.success?(s.attr("src",t.data),e.attr("data-roteNum",o)):a(t.message)})}};t.exports={"init":s}}).call(exports,e(0))},"368":function(t,exports,e){var i=e(3);t.exports=i("src/js/page/speakDetails/comment/addImgGoods/chooseImg",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$each),a=t.images,s=(t.value,t.i,i.$escape),r="";return n(a,function(t,e){r+=' <li class="imgClass"> <a href="javascript:;" > <img src="',r+=s(t),r+='" width=100 height=100 data-node="imgSrc" data-oldImg="',r+=s(t),r+='">  <div data-roteNum=0 class="icon-del" > <em class="iconImg roteLeft" data-node="roteRo" ></em> <em class="iconImg roteRight" data-node="roteRo" ></em> <em class="iconImg deletImg" data-node="deletImg"></em> </div> </a> </li> '}),r+=" ",new String(r)})},"369":function(t,exports,e){"use strict";(function($){function i(t,e,i){return e in t?Object.defineProperty(t,e,{"value":i,"enumerable":!0,"configurable":!0,"writable":!0}):t[e]=i,t}var n=e(9),a=e(370),s=e(7),r=e(14),o=e(371),c=e(62),l="",d=function(){s(r.setPubliser.changedItem).sub(u),$("body").on("click","[data-node=addGoods_btn]",function(){if(!n())return c.popUnion(),!1;var t=$(this).closest("[data-node=comment_Msg]");if(l=t.attr("data-tid"),t.find("[data-node='addImgGoods']").hasClass("hasGoods")||$(this).hasClass("disabled"))return!1;a({},1)}),$("body").on("click","[data-node='deletGoods']",function(){var t=$(this).closest("[data-node='comment_Msg']");t.find("[data-node='addImgGoods']").removeClass("hasGoods").attr("data-goodStr",""),$(this).parent().remove(),t.find("[data-node='addGoods_btn']").removeClass("disabled")})},u=function(t){var e=t,n=$("[data-tid="+l+"]"),a=n.children("[data-node='addImgGoods']");for(var s in e)var r=e[s],c=i({"pid":r.PId,"skuId":r.skuId,"img":r.img,"link":r.link,"price":r.price,"shopId":r.shopId,"title":r.title},"skuId",r.skuId);"undefined"!=c&&a.attr("data-goodStr",JSON.stringify(c));var d=o(c);a.prepend(d).addClass("hasGoods"),n.find("[data-node='addGoods_btn']").addClass("disabled")};t.exports={"init":d}}).call(exports,e(0))},"370":function(t,exports,e){"use strict";(function($,i){function n(){T=$('[data-node="title"]'),C=$('[data-node="changedBox"]'),E=C.find('[data-node="searchChangeList"]'),P=$('[data-node="searchChangeNum"]'),R=$('[data-node="tab-title-goods"]'),B=$('[data-node="tab-body-goods"]'),U=$('[data-node="tab-rec"]')}function a(t){for(var e in t)return!1;return!0}function s(t){for(var e=t.items,i=e[0],n=a(i&&i.item),s=0;s<e.length;s++){var r=e[s];if(n)r.pId=r.id,r.skuId=r.skuID,r.salePrice=r.price,r.skuPrice=r.price,r.mainImage=r.imageUrl;else{var o=r.item;r.pId=o.id,r.name=o.name,r.salePrice=o.salePrice,r.skuPrice=o.salePrice,r.mainImage=o.mainImage}}return t}function r(){this.$obj=null,this.pageNum=1,this.$searchNormal=null,this.$searchLoading=null,this.$searchFail=null,this.$searchResult=null,this.$searchList=null,this.$getMore=null,this.isDefault=!0,this.isGetMore=!1,this.nodeName=null,this.link=null}function o(t){r.call(this),this.$obj=t,this.link=h.get("myMshop"),this.nodeStr='[data-node="coll"]'}function c(t){r.call(this),this.$obj=t,this.link=h.get("recomment"),this.nodeStr='[data-node="rec"]'}var l,d=e(26),u=e(2),h=e(5),p=e(7),f=e(27),m=e(28),g=e(39),v=e(44),b=e(14),y=e(29),x=e(4),w=9,_=[],k={},I=1,S={},T=null,C=null,E=null,P=null,R=null,B=null,U=null,L=null;$('[data-node="show-meidian"]').find("span");r.prototype={"constructor":r,"getNode":function(){var t=this.$obj;this.$searchNormal=t.find('[data-node="searchNormal"]'),this.$searchLoading=t.find('[data-node="searchLoading"]'),this.$searchFail=t.find('[data-node="searchFail"]'),this.$searchResult=t.find('[data-node="searchResultBox"]'),this.$searchList=t.find('[data-node="searchResultList"]'),this.$searchListBox=this.$searchList.parent(),this.$getMore=t.find('[data-action="moreItem"]'),this.nodeName=t.attr("data-node")},"defaultItem":function(t,e){var i=this;t=t||1,e=e||i.link,i.getItems(e,{"data":{"pageNum":t,"pagesize":10},"done":function(e){e=s(e),e.items.length?i.$searchNormal.hide():i.$searchNormal.show();var n=g({"itemlist":e.items,"changedList":_,"indexof":y});1===t?i.$searchList.html(n):i.$searchList.append(n)}})},"getItems":function(t,e){var i=this;1===this.pageNum?(this.$searchList.hide(),this.$searchFail.hide(),this.$searchLoading.show(),this.$searchNormal.hide()):this.$getMore.show(),u.get(t,{"data":e.data}).done(function(t){var n=t.items;return!n||n.length<10&&1!==i.pageNum?(i.isGetMore=!0,i.$getMore.show().find("span").text("没有可加载内容"),!1):(t=s(t),i.$searchResult.show().children().eq(0).show(),i.$searchList.show(),e.done.call(this,t),i.$getMore.hide(),-1==i.nodeName.indexOf("rec")&&(i.isGetMore=!1),!1)}).fail(function(){1===i.pageNum?i.$searchFail.show():i.$getMore.show().find("span").html('数据获取失败，点击<a href="javascript:;" node-action="reget" class="reload">重新加载</a>！')}).always(function(){i.$searchLoading.hide()})},"moreItem":function(t){var e=this;getItems(e.link,{"data":{"pageNum":e.pageNum,"pagesize":10},"done":function(t){var i=m({"itemlist":t.data.items,"changedList":_,"indexof":y});"1"!=t.pageCount&&e.$getMore.hide(),1===e.pageNum?e.$searchList.html(i):e.$searchList.append(i)}})},"reGet":function(){var t=this;t.$searchFail.on("click",function(){1===pageNum&&(t.$searchLoading.show(),t.$searchFail.hide(),t.isDefault?t.defaultItem(t.pageNum):t.moreItem(t.pageNum))}),t.$getMore.on("click",'[node-action="reget"]',function(){$(this).parent().html('<img src="'+i.imgpath+'/images/public/loading.gif">正在加载...'),t.isDefault?t.defaultItem(t.pageNum):t.moreItem(t.pageNum)})},"changeItem":function(){var t=this;E.children().length&&$("[i-id=ok]").removeClass("btn-default"),t.$searchResult.on("click",'[data-action="item"]',function(){var e=$(this),i=e.find("img").attr("src"),n=e.attr("data-pId"),a=e.attr("data-shopid"),s=e.attr("data-link"),r=e.attr("data-skuId"),o="",c=e.attr("data-rec-shoptag"),d=e.attr("data-identification");if(1==w)E.children().length&&(E.empty(),t.$searchList.children("dl").removeClass("chosed-mer-true")),e.addClass("chosed-mer-true"),0===E.children().length&&C.show(),_=[],_.push(r),S={},S[r]={"shopId":a,"skuId":r,"PId":n,"title":$(this).find('[node-data="itemTitle"]').text(),"img":i,"price":$(this).find('[node-data="itemPrice"]').text(),"link":s},o='<li data-skuId="'+r+'" data-pId="'+n+'" data-degree="'+I+'"><img src="'+i+'" alt=""><a href="javascript:;" data-action="delChanged"><em class="icon-del-pic"></em></a></li>',E.append(o),P.text(w-E.children().length);else if($(this).hasClass("chosed-mer-true")){var u=E.find('[data-skuId="'+r+'"]');$(this).removeClass("chosed-mer-true"),u.remove();var h=$(this).attr("data-skuId"),p=_.indexOf(h);-1!==p&&_.splice(p,1),delete S[h],0===E.children().length&&C.hide(),P.text(w-E.children().length)}else{if(E.children().length>=w)return console.log("css error"),x("最多可选取"+w+"个商品"),!1;_.push(r),S[r]={"shopId":a,"skuId":r,"PId":n,"title":$(this).find('[node-data="itemTitle"]').text(),"img":i,"price":$(this).find('[node-data="itemPrice"]').text(),"link":$(this).attr("data-link"),"shopTag":c,"identification":d},$(this).addClass("chosed-mer-true"),o='<li data-skuId="'+r+'" data-pId="'+n+'" data-degree="'+I+'"><img src="'+i+'" alt=""><a href="javascript:;" data-action="delChanged"><em class="icon-del-pic"></em></a></li>',0===E.children().length&&C.show(),E.append(o),P.text(w-E.children().length)}E.children().length?$("[i-id=ok]").removeClass("btn-default"):$("[i-id=ok]").addClass("btn-default"),l.reset()}),C.on("click",'[data-action="delChanged"]',function(){var t=$(this).closest("li").attr("data-skuId"),e=_.indexOf(t);-1!==e&&_.splice(e,1),$('[data-skuId="'+$(this).parent().attr("data-skuId")+'"]').removeClass("chosed-mer-true"),$(this).parents("li").remove(),delete S[t],0===E.children().length&&C.hide(),P.text(w-E.children().length),E.children().length||$("[i-id=ok]").addClass("btn-default")})},"getMoreItem":function(){var t=this;t.$searchListBox.on("scroll",function(){!t.isGetMore&&t.$searchListBox.scrollTop()>=t.$searchList.height()-t.$searchListBox.height()&&(t.isGetMore=!0,t.pageNum++,t.isDefault?t.defaultItem(t.pageNum):t.moreItem(t.pageNum))})}},o.prototype=new r,o.prototype.constructor=o,o.prototype.init=function(){this.getNode(),this.defaultItem(1),this.isGetMore=!0,this.tab(),this.reGet(),this.changeItem(),this.getMoreItem()},o.prototype.tab=function(){var t=this;R.on("click",t.nodeStr,function(){var e=$(this).index();$(this).addClass("active").siblings().removeClass(),t.pageNum=1,L.hide(),t.getItems(t.link,{"data":{"pageNum":1,"pagesize":10},"done":function(e){e=s(e);var i=m({"itemlist":e.items,"changedList":_,"indexof":y});"1"!=e.pageCount&&t.$getMore.hide(),t.$searchList.html(i)}}),B.children("li").eq(e).show().siblings().hide()})},c.prototype=new r,c.prototype.constructor=c,c.prototype.init=function(){this.getNode(),this.isGetMore=!0,this.tab(),this.reGet(),this.changeItem(),this.getMoreItem()},c.prototype.tab=function(){var t=this;R.on("click",t.nodeStr,function(){var e=$(this).index();$(this).addClass("active").siblings().removeClass(),t.pageNum=1,L.hide(),t.getItems(t.link,{"done":function(e){e=s(e);var i=m({"itemlist":e.items,"changedList":_,"indexof":y,"shopTag":1});"1"!=e.pageCount&&t.$getMore.hide(),t.$searchList.html(i)}}),B.children("li").eq(e).show().siblings().hide()})};var q=function(t,e){var a=[];S={};for(var s in t)_.push(s),a.push(t[s]);w=e||9,S=$.extend(!0,S,t),k=w-a.length!=0?{"title":" ","modal":!0,"fixed":!0,"width":712,"content":f({"imgSrc":i.imgpath,"returnList":a,"maxlength":w,"changeNum":w-a.length,"useMeidian":!0}),"className":"pop-box","okValue":"插入商品","okCls":"pc-btn pc-btnh35 circle-pop-btn btn-default","btnWrapCls":"insert-cancel","ok":function(){if($(this.node).find("[i-id=ok]").hasClass("btn-default"))return!1;p(b.setPubliser.changedItem).pub(S),$("[data-node='add-to-meidian']").find("span").hasClass("add-checkbox-checked")?$GLOBAL_CONFIG.addToMeidian=1:$GLOBAL_CONFIG.addToMeidian=0,A()},"cancel":function(){A()},"onshow":function(){$('[i="title"]').hide(),$(this.node).addClass("no-border-line meidian-pop"),n();var t=new o($('[data-node="tab-coll"]')),e=new c($('[data-node="tab-rec"]')),i=$(".meidian-pop");t.init(),e.init(),$("body").css({"height":"100%","overflowY":"hidden"});var a=v();i.find(".insert-cancel").append(a),L=$("[data-node='add-to-meidian']"),L.hide(),L.on("click",function(){var t=$(this),e=t.find("span");return e.hasClass("add-checkbox-checked")?e.removeClass("add-checkbox-checked").addClass("add-checkbox"):e.addClass("add-checkbox-checked"),!1})}}:{},l=d.create(k),setTimeout(function(){l.show()},100)},A=function(){I++,$("body").css({"height":"auto","overflowY":"auto"}),_=[],L=null};t.exports=q}).call(exports,e(0),e(1))},"371":function(t,exports,e){var i=e(3);t.exports=i("src/js/page/speakDetails/comment/addImgGoods/goodsIn",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$escape),a=t.shopId,s=t.pid,r=t.skuId,o=t.img,c=t.title,l=t.price,d=t.rebate,u=t.link,h="";return h+=' <div data-node="goodsIn" class="reply-details" data-shopId ="',h+=n(a),h+='" data-itemId="',h+=n(s),h+='" data-skuId=',h+=n(r),h+='> <em class="icon-close-b" data-node="deletGoods"></em> <div class="reply-picture"><img src="',h+=n(o),h+='" onerror="imgError(this, \'g\')"></div> <div class="reply-contxt"> <p>',h+=n(c),h+='</p> <div class="price"> <p class="price-numb">￥<span>',h+=n(l),h+="</span></p> \x3c!-- ",d>0&&(h+=' <div class="fan fan-s"> <em class="icon-fan-s"></em> <span>最高返',h+=n(d),h+="国美币</span> </div> "),h+=' --\x3e </div> </div><a href="',h+=n(u),h+='" class="see-details pc-btn pc-btnw105 pc-btnh40" target="_blank">查看详情</a> </div> ',new String(h)})},"372":function(t,exports,e){"use strict";(function($){var i,n,a=e(373),s=e(4),r=e(2),o=e(5),c=e(11),l="[data-node=reportType] span",d="menu-checkbox-checked",u=function(){var t=$(this);t.hasClass(d)?(t.removeClass(d),$(".report-confirm-btn").removeClass("active")):($(l).removeClass(d),t.addClass(d),$(".report-confirm-btn").addClass("active"))},h=function(){var t=$(this);i=t.attr("data-type"),n=1==i?t.parents("dd").attr("data-ddlist"):t.parents("[data-node=wrap-box]").attr("id-node"),c("",{"content":a(),"title":"提示","okCls":"report-confirm-btn pc-btnh36 pc-btnw80","cancelCls":"pc-btnh36 pc-btnw80","ok":p,"btnWrapCls":"report-btn text-center"})},p=function(){if(!$(".report-confirm-btn").hasClass("active"))return!1;var t=$(l+"."+d).parent().index(),e={"type":i||0,"reason":t,"reportId":n};r.post(o.get("topicReport"),{"data":e}).then(function(t){s(!0===t.success?"举报成功，小编将擦亮眼睛重新审核":409===t.code?t.message:"删除失败！")})},f=function(){$("body").on("click",l,u),$("body").on("click","[data-action=topic-report]",h)};t.exports={"init":f}}).call(exports,e(0))},"373":function(t,exports,e){var i=e(3);t.exports=i("src/js/page/speakDetails/report",'<div class="gome-report-title">请选择举报类型</div> <ul class="gome-report-box clearfix" data-node="reportType"> <li class="gome-report clearfix"> <span class="menu-checkbox"></span> <p>色情低俗</p> </li> <li class="gome-report clearfix"> <span class="menu-checkbox"></span> <p>政治敏感</p> </li> <li class="gome-report clearfix"> <span class="menu-checkbox"></span> <p>营销广告</p> </li> <li class="gome-report clearfix"> <span class="menu-checkbox"></span> <p>人身攻击</p> </li> <li class="gome-report clearfix"> <span class="menu-checkbox"></span> <p>其他</p> </li> </ul> ')},"39":function(t,exports,e){var i=e(3);t.exports=i("src/js/module/popup/addGoods/defaultItemContent",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$each),a=t.itemlist,s=(t.$value,t.$index,i.$escape),r=t.indexof,o=t.changedList,c="";return n(a,function(t,e){c+=' <dl class="merchant-item clearfix ',c+=s(-1!==r(o,t.skuId)?"chosed-mer-true":""),c+='" data-action="item" data-pId="',c+=s(t.pId),c+='" data-shopId="',c+=s(t.shopId),c+='" data-link="',c+=s(t.sUrl),c+='" data-skuId="',c+=s(t.skuId),c+='" > <dt><img src=',c+=s(t.mainImage),c+=' alt="" onerror="imgError(this,\'m\')"></dt> <dd> <h4 node-data="itemTitle">',c+=s(t.name),c+='</h4> <span class="itemPrice"><em>￥</em><span node-data="itemPrice">',c+=s(t.skuPrice),c+="</span></span> \x3c!-- ",t.rebate>0&&(c+=' <div class="fan fan-s"> <em class="icon-fan-s"></em> <span>最高返',c+=s(t.rebate),c+="国美币</span> </div> "),c+=" --\x3e </dd> </dl> "}),c+=" ",new String(c)})},"4":function(t,exports,e){"use strict";(function($){var i=e(6),n=function(){},a=function(t,e){t=t||"",e=e||{};var a={"fixed":!0,"modal":!0,"autofocus":!1,"content":'<p class="del-pop-p">'+t+"</p>","className":"pop-box","okCls":"pc-btn pc-btnh35 circle-pop-btn","ok":n};$.extend(!0,a,e);var s=i(a),r=s._$("header"),o=s._$("title");return e.title||o.css("borderBottom","none"),r.show(),s.show(),s};t.exports=a}).call(exports,e(0))},"42":function(t,exports,e){"use strict";(function($){var i=e(43),n=e(6),a=function(t,e){var a=i(t||{});e=e||{};var s={"title":"选择图片","modal":!0,"fixed":!0,"content":a,"className":"pop-box","okValue":"插入图片","okCls":"pc-btn pc-btnh35 circle-pop-btn","cancalValue":"取消","btnWrapCls":"insert-cancel"};return $.extend(!0,s,e),n(s)};t.exports={"create":a}}).call(exports,e(0))},"43":function(t,exports,e){var i=e(3);t.exports=i("src/js/module/popup/upload/content",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$escape),a=t.maxlength,s=t.total,r="";return r+='<div data-node="uploadBox" class="upload-box"> <div data-node="scrollWrap" class="scroll-wrap"> <div class="pics-list-wrap clearfix"> <ul class="pics-list clearfix" data-node="uploadList"> <li data-defaultAddFile=\'picker\'></li> </ul> </div> </div> <div class="num-pics">您可以添加 <span class="link-hover-red" data-node="addNum">',r+=n(a),r+='</span><span class="deep-gray">/',r+=n(s),r+="</span>张图片</div> </div> ",new String(r)})},"44":function(t,exports,e){var i=e(3);t.exports=i("src/js/module/popup/addGoods/addToMeidian",'<a class="add-to-meidian" data-node="add-to-meidian" href="javascript:;"> <span class="menu-checkbox add-checkbox-checked"></span>同时上架到美店 </a>')},"50":function(t,exports,e){"use strict";(function($){var i=e(42),n=e(7),a=e(14),s=e(51),r=e(4),o=e(13),c=e(52),l=function(){var t=navigator.userAgent.toLowerCase(),e=-1!=t.indexOf("msie"),i=500;return e&&(i=/\d+/.exec(t.split(";")[1])),parseInt(i)},d=function(t,e){var d,p,f,m,g=t;return g>0?(d=i.create({"maxlength":g,"total":e},{"okCls":"pc-btn pc-btnh35 circle-pop-btn btn-default","ok":function(){if($(this.node).find("[i-id=ok]").hasClass("btn-default"))return!1;$('[data-node="uploadList"]').off(),p.destroy();for(var t=$('[data-node="uploadList"] img'),e=[],i=0,s=t.length;i<s;i++)e.push(t.eq(i).attr("src"));n(a.setPubliser.changeImage).pub({"images":e}),$("[data-node=picPopBox]").hide(),f="",h()},"cancel":function(){$('[data-node="uploadList"]').off(),p.destroy(),$("[data-node=picPopBox]").hide(),f="",h()},"onshow":function(){u()}}),p=s.init({"maxlength":g,"callbacks":{"onFileQueued":function(t,e,i){var n=$('[data-node="uploadBox"]'),a='[data-defaultaddfile="picker"]';$("[data-node=picPopBox]").addClass("webuploader-element-invisible"),d.show(),n.find(a).children().eq(0).html('<em class="icon-add"></em>');var s='<li id="'+t.id+'"><div class="bar-upload-pic"><span data-node="progress"></span></div></li>';if(n.find(a).before(s),n.find('[data-node="addNum"]').text(i-e[t.source.ruid]),e[t.source.ruid]===~~i&&n.find(a).hide(),n.find(a).children().eq(1).css({"width":"78px","height":"78px"}),l()>9)f||(f=$('[data-node="scrollWrap"]').get(0),m=new c(f,{"mouseWheel":!0,"scrollbars":!0,"bounce":!1})),setTimeout(function(){m.refresh()},1500);else{var r=$('[data-node="uploadList"]');r.find("li").length>18?r.addClass("overflow-y"):r.removeClass("overflow-y")}},"onUploadSuccess":function(t,e){if(200===e.code&&e.success){var i=/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(o.imgReplace(e.data[0]));$("#"+t.id).html(i?'<img src="'+o.imgReplace(e.data[0])+'" alt="">':'<span style="font-size:12px;color:#999;">上传失败</span><a href="javascript:;"><em class="icon-del-pic" data-action="delImage"></em></a>'),$("[i-id=ok]").removeClass("btn-default")}else $("#"+t.id).html('<a href="javascript:;" class="re-upload" data-action="retry">重新上传</a><a href="javascript:;"><em class="icon-del-pic" data-action="delImage"></em></a>')}}})):r("您最多能添加"+t+"张图片哦！"),p},u=function(){$("body").css({"height":"100%","overflowY":"hidden"})},h=function(){$("body").css({"height":"auto","overflowY":"auto"})};t.exports=d}).call(exports,e(0))},"51":function(t,exports,e){"use strict";(function(i,$){var n=e(12),a=e(8),s=e(10),r=e(13),o=function(t){var e,o={},c={},l={"maxlength":t.maxlength||9,"selector":{"parents":'[data-node="uploadBox"]',"delSelector":'[data-action="delImage"]',"selector":"[data-defaultAddFile=picker]"}};return l.defaultApi={"pick":{"id":"[data-defaultAddFile=picker]","innerHTML":"本地上传图片"},"accept":{"title":"Images","extensions":"jpg,jpeg,png,gif","mimeTypes":"image/jpg,image/jpeg,image/png,image/gif"},"method":"post","swf":i.imgpath+"/images/swf/Uploader.swf","auto":!0,"disableGlobalDnd":!0,"duplicate":!0,"prepareNextFile":!0,"chunked":!0,"fileVal":"avatar_file","server":"/ajax/crop/crop_img","fileNumLimit":l.maxlength*$(l.selector).length,"fileSizeLimit":l.maxlength*$(l.selector).length*2*1024*1024,"fileSingleSizeLimit":2097152},l.callbacks={"onBeforeFileQueued":function(){a.init(s.upload.excess)},"onFileQueued":function(t,e,i){var n='<li id="'+t.id+'"><div class="bar-upload-pic"><span data-node="progress"></span></div></li>';$("#rt_"+t.source.ruid).parent('[data-defaultaddfile="picker"]').before(n),$("#rt_"+t.source.ruid).parents('[data-node="uploadBox"]').find('[data-node="addNum"]').text(i-e[t.source.ruid]),e[t.source.ruid]===~~i&&$("#rt_"+t.source.ruid).parents('[data-defaultaddfile="picker"]').hide()},"onUploadSuccess":function(t,e){if(200===e.code&&e.success){var i=/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(r.imgReplace(e.data[0]));$("#"+t.id).html(i?'<img src="'+r.imgReplace(e.data[0])+'" alt="">':'<span style="font-size:12px;color:#999;">上传失败</span><a href="javascript:;"><em class="icon-del-pic" data-action="delImage"></em></a>')}else $("#"+t.id).html('<a href="javascript:;" class="re-upload" data-action="retry">重新上传</a><a href="javascript:;"><em class="icon-del-pic" data-action="delImage"></em></a>')},"onUploadError":function(t,e){console.log(JSON.stringify(e)),$("#"+t.id).html('<a href="javascript:;" class="re-upload" data-action="retry">重新上传</a><a href="javascript:;"><em class="icon-del-pic" data-action="delImage"></em></a>')},"onUploadProgress":function(t,e){$("#"+t.id).find('[data-node="progress"]').css("width",100*e+"%")},"onErrored":function(){a.init(s.upload.uploadError)},"retry":function(){var t=this;$('[data-node="uploadList"]').on("click",'[data-action="retry"]',function(){t.retry(c[$(this).parents("li").attr("id")])})},"delImage":function(t,i,n,a){e.removeFile(c[$(this).parents("li").attr("id")]),$(this).parents('[data-node="uploadBox"]').find('[data-node="addNum"]').text(a-i[n]),$(this).parents("ul").find('[data-defaultAddFile="picker"]').show(),$(this).parents("li").eq(0).remove(),0===i[n]&&$("[i-id=ok]").addClass("btn-default")}},t.callbacks=$.extend({},l.callbacks,t.callbacks),t=$.extend({},l,t),e=n.create(t.defaultApi),e.onFileQueued=function(i){var n=$('[data-node="uploadBox"]').find('[data-defaultaddfile="picker"]').children().eq(1).attr("id");i.source.ruid=n,o[i.source.ruid]=void 0!==o[i.source.ruid]?o[i.source.ruid]:0,o[i.source.ruid]++,c[i.id]=i,t.callbacks.onFileQueued.call(e,i,o,t.maxlength)},e.on("uploadSuccess",function(i,n){t.callbacks.onUploadSuccess.call(e,i,n)}),e.on("beforeFileQueued",function(i){if(o[i.source.ruid]>=t.maxlength)return t.callbacks.onBeforeFileQueued.call(e,i,o,t.maxlength),!1}),e.on("uploadError",function(i,n){t.callbacks.onUploadError.call(e,i,n)}),e.on("uploadProgress",function(i,n){t.callbacks.onUploadProgress.call(e,i,n)}),e.on("error",function(i){t.callbacks.onErrored.call(e,i)}),t.callbacks.retry.call(e),$(t.selector.parents).on("click",t.selector.delSelector,function(){var i=$(this).parents(t.selector.parents).find(t.defaultApi.pick.id).children().eq(1).attr("id");o[i]--,t.callbacks.delImage.call(this,e,o,i,t.maxlength)}),e};t.exports={"init":o}}).call(exports,e(1),e(0))},"52":function(t,exports,e){"use strict";var i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s,r){function o(t,e){this.wrapper="string"==typeof t?s.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={"resizeScrollbars":!0,"mouseWheelSpeed":20,"snapThreshold":.334,"disablePointer":!u.hasPointer,"disableTouch":u.hasPointer||!u.hasTouch,"disableMouse":u.hasPointer||u.hasTouch,"startX":0,"startY":0,"scrollY":!0,"directionLockThreshold":5,"momentum":!0,"bounce":!0,"bounceTime":600,"bounceEasing":"","preventDefault":!0,"preventDefaultException":{"tagName":/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},"HWCompositing":!0,"useTransition":!0,"useTransform":!0,"bindToWrapper":void 0===a.onmousedown};for(var i in e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&u.hasPerspective?" translateZ(0)":"",this.options.useTransition=u.hasTransition&&this.options.useTransition,this.options.useTransform=u.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?u.ease[this.options.bounceEasing]||u.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function c(t,e,i){var n=s.createElement("div"),a=s.createElement("div");return!0===i&&(n.style.cssText="position:absolute;z-index:9999",a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),a.className="iScrollIndicator","h"==t?(!0===i&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",a.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(!0===i&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",a.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",e||(n.style.pointerEvents="none"),n.appendChild(a),n}function l(t,e){this.wrapper="string"==typeof e.el?s.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={"listenX":!0,"listenY":!0,"interactive":!1,"resize":!0,"defaultScrollbars":!1,"shrink":!1,"fade":!1,"speedRatioX":0,"speedRatioY":0};for(var i in e)this.options[i]=e[i];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(u.addEvent(this.indicator,"touchstart",this),u.addEvent(a,"touchend",this)),this.options.disablePointer||(u.addEvent(this.indicator,u.prefixPointerEvent("pointerdown"),this),u.addEvent(a,u.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(u.addEvent(this.indicator,"mousedown",this),u.addEvent(a,"mouseup",this))),this.options.fade){this.wrapperStyle[u.style.transform]=this.scroller.translateZ;var n=u.style.transitionDuration;this.wrapperStyle[n]=u.isBadAndroid?"0.0001ms":"0ms";var r=this;u.isBadAndroid&&d(function(){"0.0001ms"===r.wrapperStyle[n]&&(r.wrapperStyle[n]="0s")}),this.wrapperStyle.opacity="0"}}var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(t){a.setTimeout(t,1e3/60)},u=function(){function t(t){return!1!==o&&(""===o?t:o+t.charAt(0).toUpperCase()+t.substr(1))}var e={},i=s.createElement("div").style,o=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,n=t.length;e<n;e++)if(t[e]+"ransform"in i)return t[e].substr(0,t[e].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(t,e){for(var i in e)t[i]=e[i]},e.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},e.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},e.prefixPointerEvent=function(t){return a.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},e.momentum=function(t,e,i,n,a,s){var o,c,l=t-e,d=r.abs(l)/i;return s=void 0===s?6e-4:s,o=t+d*d/(2*s)*(l<0?-1:1),c=d/s,o<n?(o=a?n-a/2.5*(d/8):n,l=r.abs(o-t),c=l/d):o>0&&(o=a?a/2.5*(d/8):0,l=r.abs(t)+o,c=l/d),{"destination":r.round(o),"duration":c}};var c=t("transform");return e.extend(e,{"hasTransform":!1!==c,"hasPerspective":t("perspective")in i,"hasTouch":"ontouchstart"in a,"hasPointer":!(!a.PointerEvent&&!a.MSPointerEvent),"hasTransition":t("transition")in i}),e.isBadAndroid=function(){var t=a.navigator.appVersion;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var e=t.match(/Safari\/(\d+.\d)/);return!(e&&"object"===(void 0===e?"undefined":n(e))&&e.length>=2)||parseFloat(e[1])<535.19}return!1}(),e.extend(e.style={},{"transform":c,"transitionTimingFunction":t("transitionTimingFunction"),"transitionDuration":t("transitionDuration"),"transitionDelay":t("transitionDelay"),"transformOrigin":t("transformOrigin")}),e.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},e.addClass=function(t,i){if(!e.hasClass(t,i)){var n=t.className.split(" ");n.push(i),t.className=n.join(" ")}},e.removeClass=function(t,i){if(e.hasClass(t,i)){var n=new RegExp("(^|\\s)"+i+"(\\s|$)","g");t.className=t.className.replace(n," ")}},e.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{"left":e,"top":i}},e.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},e.extend(e.eventType={},{"touchstart":1,"touchmove":1,"touchend":1,"mousedown":2,"mousemove":2,"mouseup":2,"pointerdown":3,"pointermove":3,"pointerup":3,"MSPointerDown":3,"MSPointerMove":3,"MSPointerUp":3}),e.extend(e.ease={},{"quadratic":{"style":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","fn":function(t){return t*(2-t)}},"circular":{"style":"cubic-bezier(0.1, 0.57, 0.1, 1)","fn":function(t){return r.sqrt(1- --t*t)}},"back":{"style":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","fn":function(t){return(t-=1)*t*(5*t+4)+1}},"bounce":{"style":"","fn":function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},"elastic":{"style":"","fn":function(t){return 0===t?0:1==t?1:.4*r.pow(2,-10*t)*r.sin((t-.055)*(2*r.PI)/.22)+1}}}),e.tap=function(t,e){var i=s.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},e.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(e=s.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,i.dispatchEvent(e))},e}();o.prototype={"version":"5.2.0","_init":function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},"destroy":function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},"_transitionEnd":function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},"_start":function(t){if(1!=u.eventType[t.type]){if(0!==(t.which?t.button:t.button<2?0:4==t.button?1:2))return}if(this.enabled&&(!this.initiated||u.eventType[t.type]===this.initiated)){!this.options.preventDefault||u.isBadAndroid||u.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=u.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=u.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,e=this.getComputedPosition(),this._translate(r.round(e.x),r.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},"_move":function(t){if(this.enabled&&u.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n,a,s=t.touches?t.touches[0]:t,o=s.pageX-this.pointX,c=s.pageY-this.pointY,l=u.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=o,this.distY+=c,n=r.abs(this.distX),a=r.abs(this.distY),!(l-this.endTime>300&&n<10&&a<10)){if(this.directionLocked||this.options.freeScroll||(n>a+this.options.directionLockThreshold?this.directionLocked="h":a>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);o=0}o=this.hasHorizontalScroll?o:0,c=this.hasVerticalScroll?c:0,e=this.x+o,i=this.y+c,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+o/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+c/3:i>0?0:this.maxScrollY),this.directionX=o>0?-1:o<0?1:0,this.directionY=c>0?-1:c<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),l-this.startTime>300&&(this.startTime=l,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},"_end":function(t){if(this.enabled&&u.eventType[t.type]===this.initiated){this.options.preventDefault&&!u.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,n=(t.changedTouches&&t.changedTouches[0],u.getTime()-this.startTime),a=r.round(this.x),s=r.round(this.y),o=r.abs(a-this.startX),c=r.abs(s-this.startY),l=0,d="";if(this.isInTransition=0,this.initiated=0,this.endTime=u.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(a,s),!this.moved)return this.options.tap&&u.tap(t,this.options.tap),this.options.click&&u.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&n<200&&o<100&&c<100)return void this._execEvent("flick");if(this.options.momentum&&n<300&&(e=this.hasHorizontalScroll?u.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{"destination":a,"duration":0},i=this.hasVerticalScroll?u.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{"destination":s,"duration":0},a=e.destination,s=i.destination,l=r.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var h=this._nearestSnap(a,s);this.currentPage=h,l=this.options.snapSpeed||r.max(r.max(r.min(r.abs(a-h.x),1e3),r.min(r.abs(s-h.y),1e3)),300),a=h.x,s=h.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}if(a!=this.x||s!=this.y)return(a>0||a<this.maxScrollX||s>0||s<this.maxScrollY)&&(d=u.ease.quadratic),void this.scrollTo(a,s,l,d);this._execEvent("scrollEnd")}}},"_resize":function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},"resetPosition":function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},"disable":function(){this.enabled=!1},"enable":function(){this.enabled=!0},"refresh":function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=u.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},"on":function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},"off":function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},"_execEvent":function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},"scrollBy":function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},"scrollTo":function(t,e,i,n){n=n||u.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var a=this.options.useTransition&&n.style;!i||a?(a&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,n.fn)},"scrollToElement":function(t,e,i,n,a){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=u.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,!0===i&&(i=r.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===n&&(n=r.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=i||0,s.top-=n||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?r.max(r.abs(this.x-s.left),r.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,a)}},"_transitionTime":function(t){t=t||0;var e=u.style.transitionDuration;if(this.scrollerStyle[e]=t+"ms",!t&&u.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var i=this;d(function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")})}if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].transitionTime(t)},"_transitionTimingFunction":function(t){if(this.scrollerStyle[u.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},"_translate":function(t,e){if(this.options.useTransform?this.scrollerStyle[u.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=r.round(t),e=r.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},"_initEvents":function(t){var e=t?u.removeEvent:u.addEvent,i=this.options.bindToWrapper?this.wrapper:a;e(a,"orientationchange",this),e(a,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(i,"mousemove",this),e(i,"mousecancel",this),e(i,"mouseup",this)),u.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,u.prefixPointerEvent("pointerdown"),this),e(i,u.prefixPointerEvent("pointermove"),this),e(i,u.prefixPointerEvent("pointercancel"),this),e(i,u.prefixPointerEvent("pointerup"),this)),u.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(i,"touchmove",this),e(i,"touchcancel",this),e(i,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},"getComputedPosition":function(){var t,e,i=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[u.style.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),e=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),e=+i.top.replace(/[^-\d.]/g,"")),{"x":t,"y":e}},"_initIndicators":function(){function t(t){if(s.indicators)for(var e=s.indicators.length;e--;)t.call(s.indicators[e])}var e,i=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,a=[],s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={"el":c("v",i,this.options.scrollbars),"interactive":i,"defaultScrollbars":!0,"customStyle":n,"resize":this.options.resizeScrollbars,"shrink":this.options.shrinkScrollbars,"fade":this.options.fadeScrollbars,"listenX":!1},this.wrapper.appendChild(e.el),a.push(e)),this.options.scrollX&&(e={"el":c("h",i,this.options.scrollbars),"interactive":i,"defaultScrollbars":!0,"customStyle":n,"resize":this.options.resizeScrollbars,"shrink":this.options.shrinkScrollbars,"fade":this.options.fadeScrollbars,"listenY":!1},this.wrapper.appendChild(e.el),a.push(e))),this.options.indicators&&(a=a.concat(this.options.indicators));for(var r=a.length;r--;)this.indicators.push(new l(this,a[r]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},"_initWheel":function(){u.addEvent(this.wrapper,"wheel",this),u.addEvent(this.wrapper,"mousewheel",this),u.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,u.removeEvent(this.wrapper,"wheel",this),u.removeEvent(this.wrapper,"mousewheel",this),u.removeEvent(this.wrapper,"DOMMouseScroll",this)})},"_wheel":function(t){if(this.enabled){t.preventDefault();var e,i,n,a,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s.options.snap||s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return n=this.currentPage.pageX,a=this.currentPage.pageY,e>0?n--:e<0&&n++,i>0?a--:i<0&&a++,void this.goToPage(n,a);n=this.x+r.round(this.hasHorizontalScroll?e:0),a=this.y+r.round(this.hasVerticalScroll?i:0),this.directionX=e>0?-1:e<0?1:0,this.directionY=i>0?-1:i<0?1:0,n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),a>0?a=0:a<this.maxScrollY&&(a=this.maxScrollY),this.scrollTo(n,a,0),this.options.probeType>1&&this._execEvent("scroll")}},"_initSnap":function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,n,a,s,o=0,c=0,l=0,d=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(i=r.round(d/2),n=r.round(u/2);l>-this.scrollerWidth;){for(this.pages[o]=[],t=0,a=0;a>-this.scrollerHeight;)this.pages[o][t]={"x":r.max(l,this.maxScrollX),"y":r.max(a,this.maxScrollY),"width":d,"height":u,"cx":l-i,"cy":a-n},a-=u,t++;l-=d,o++}else for(s=this.options.snap,t=s.length,e=-1;o<t;o++)(0===o||s[o].offsetLeft<=s[o-1].offsetLeft)&&(c=0,e++),this.pages[c]||(this.pages[c]=[]),l=r.max(-s[o].offsetLeft,this.maxScrollX),a=r.max(-s[o].offsetTop,this.maxScrollY),i=l-r.round(s[o].offsetWidth/2),n=a-r.round(s[o].offsetHeight/2),this.pages[c][e]={"x":l,"y":a,"width":s[o].offsetWidth,"height":s[o].offsetHeight,"cx":i,"cy":n},l>this.maxScrollX&&c++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=r.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=r.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||r.max(r.max(r.min(r.abs(this.x-this.startX),1e3),r.min(r.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},"_nearestSnap":function(t,e){if(!this.pages.length)return{"x":0,"y":0,"pageX":0,"pageY":0};var i=0,n=this.pages.length,a=0;if(r.abs(t-this.absStartX)<this.snapThresholdX&&r.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);i<n;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(n=this.pages[i].length;a<n;a++)if(e>=this.pages[0][a].cy){e=this.pages[0][a].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,i<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),a==this.currentPage.pageY&&(a+=this.directionY,a<0?a=0:a>=this.pages[0].length&&(a=this.pages[0].length-1),e=this.pages[0][a].y),{"x":t,"y":e,"pageX":i,"pageY":a}},"goToPage":function(t,e,i,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var a=this.pages[t][e].x,s=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||r.max(r.max(r.min(r.abs(a-this.x),1e3),r.min(r.abs(s-this.y),1e3)),300):i,this.currentPage={"x":a,"y":s,"pageX":t,"pageY":e},this.scrollTo(a,s,i,n)},"next":function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},"prev":function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},"_initKeys":function(t){var e,i={"pageUp":33,"pageDown":34,"end":35,"home":36,"left":37,"up":38,"right":39,"down":40};if("object"==n(this.options.keyBindings))for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];u.addEvent(a,"keydown",this),this.on("destroy",function(){u.removeEvent(a,"keydown",this)})},"_key":function(t){if(this.enabled){var e,i=this.options.snap,n=i?this.currentPage.pageX:this.x,a=i?this.currentPage.pageY:this.y,s=u.getTime(),o=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(r.round(e.x),r.round(e.y)),this.isInTransition=!1),this.keyAcceleration=s-o<200?r.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=i?1:this.wrapperWidth:a+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=i?1:this.wrapperWidth:a-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=i?this.pages.length-1:this.maxScrollX,a=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,a=0;break;case this.options.keyBindings.left:n+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:a+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:a-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return void this.goToPage(n,a);n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),a>0?(a=0,this.keyAcceleration=0):a<this.maxScrollY&&(a=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,a,0),this.keyTime=s}},"_animate":function(t,e,i,n){function a(){var h,p,f,m=u.getTime();if(m>=l)return s.isAnimating=!1,s._translate(t,e),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"));m=(m-c)/i,f=n(m),h=(t-r)*f+r,p=(e-o)*f+o,s._translate(h,p),s.isAnimating&&d(a),3==s.options.probeType&&s._execEvent("scroll")}var s=this,r=this.x,o=this.y,c=u.getTime(),l=c+i;this.isAnimating=!0,a()},"handleEvent":function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},l.prototype={"handleEvent":function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},"destroy":function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(u.removeEvent(this.indicator,"touchstart",this),u.removeEvent(this.indicator,u.prefixPointerEvent("pointerdown"),this),u.removeEvent(this.indicator,"mousedown",this),u.removeEvent(a,"touchmove",this),u.removeEvent(a,u.prefixPointerEvent("pointermove"),this),u.removeEvent(a,"mousemove",this),u.removeEvent(a,"touchend",this),u.removeEvent(a,u.prefixPointerEvent("pointerup"),this),u.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},"_start":function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=u.getTime(),this.options.disableTouch||u.addEvent(a,"touchmove",this),this.options.disablePointer||u.addEvent(a,u.prefixPointerEvent("pointermove"),this),this.options.disableMouse||u.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},"_move":function(t){var e,i,n,a,s=t.touches?t.touches[0]:t,r=u.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=s.pageX-this.lastPointX,this.lastPointX=s.pageX,i=s.pageY-this.lastPointY,this.lastPointY=s.pageY,n=this.x+e,a=this.y+i,this._pos(n,a),1==this.scroller.options.probeType&&r-this.startTime>300?(this.startTime=r,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},"_end":function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),u.removeEvent(a,"touchmove",this),u.removeEvent(a,u.prefixPointerEvent("pointermove"),this),u.removeEvent(a,"mousemove",this),this.scroller.options.snap){var e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||r.max(r.max(r.min(r.abs(this.scroller.x-e.x),1e3),r.min(r.abs(this.scroller.y-e.y),1e3)),300);this.scroller.x==e.x&&this.scroller.y==e.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=e,this.scroller.scrollTo(e.x,e.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},"transitionTime":function(t){t=t||0;var e=u.style.transitionDuration;if(this.indicatorStyle[e]=t+"ms",!t&&u.isBadAndroid){this.indicatorStyle[e]="0.0001ms";var i=this;d(function(){"0.0001ms"===i.indicatorStyle[e]&&(i.indicatorStyle[e]="0s")})}},"transitionTimingFunction":function(t){this.indicatorStyle[u.style.transitionTimingFunction]=t},"refresh":function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(u.addClass(this.wrapper,"iScrollBothScrollbars"),u.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(u.removeClass(this.wrapper,"iScrollBothScrollbars"),u.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=r.max(r.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=r.max(r.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},"updatePosition":function(){var t=this.options.listenX&&r.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&r.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=r.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=r.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=r.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=r.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[u.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},"_pos":function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?r.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?r.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},"fade":function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[u.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},o.utils=u,void 0!==t&&t.exports?t.exports=o:void 0!==(i=function(){return o}.call(exports,e,exports,t))&&(t.exports=i)}(window,document,Math)},"53":function(t,exports,e){"use strict";(function($,i){function n(t){this.qid=t.qid||"single",this.topicQrId="",this.$parent=t.$parent,this.uploadMaxNum=t.maxLen||20,this.useNewCode=0,this.interval=0,this.type=t.type||"pubsliser",this.$showBox=t.$showBox,this.time=t.time||2e3,this.customInit=t.customInit||"",this.customCb=t.customCb,this.isLoad=0,this.imgArr=[],this.editor=t.editor||"",this.$cover=t.$showBox.find('[data-node="cover"]'),this.$localBtn=t.$showBox.find('[data-node="upLocal"]'),this.$target=t.$target,this.code="",this.btn=t.btn}var a=e(54),s=$GLOBAL_CONFIG.pcimgpath;$("body").append(a({"imgPath":s}));var r=e(2),o=e(5),c=(e(10),e(4)),l=e(23),d=e(13),u=i.group_domain,h=window.pageId,h=(l.imgLimitNUm,window.pageId);n.prototype={"constructor":n,"init":function(){var t=this;t.editor&&$(t.editor.body).on("click",function(e){t.hide(),e.preventDefault()}),"function"==typeof t.customInit&&this.customInit(this),$("body").on("click",'[data-node="picPopBox"]',function(e){var i=e.target.tagName;i="INPUT"==i||"LABEL"==i,i?t.hide():e.stopPropagation()}),this.start()},"start":function(){this.useNewCode?this.checkShow()?this.hide():this.show():this.getCode()},"imgLength":function(){return this.editor?$(this.$parent.getContent()).find("img").not('[data-node="goodsPic"],[data-node="emoji"]').length:this.$parent.find("img").length},"getCode":function(){var t=this,e=this.imgLength(),i={"pageId":h,"maxNum":this.uploadMaxNum-e},n=t.qid,a=window.topicQrId;t.show(),a[n].qrcodeId&&(i.qrcodeId=t.topicQrId),r.get(o.get("getUploadQrCode"),{"data":i}).done(function(e){if(1==e.success){if(200==e.code){t.useNewCode=1;var i=e.data,a=u+"qrupload/index?pageId="+i.pageId+"&qrcodeId="+i.qrcodeId+"&type="+t.type;a=u+"ajax/qrcode/urlcode?url="+encodeURIComponent(a),window.topicQrId[n].qrcodeId=t.topicQrId=i.qrcodeId,t.code=a,t.getCodeCb(),t.interval=setInterval(function(){t.monitor()},t.time)}}else c(e.message)}).fail(function(t,e){})},"monitor":function(){var t=this;r.post(o.get("topListenImg"),{"data":{"code":h,"groupkey":window.topicQrId[t.qid].qrcodeId}}).done(function(e){1==e.success?t.scanCb(e):t.hide()}).fail(function(e,i){clearInterval(t.interval),t.interval=0,t.hide()})},"sendNum":function(){var t=this,e=this.imgLength(),i=this.uploadMaxNum-e;r.get(o.get("topicuploadMax"),{"data":{"qrcodeId":t.topicQrId,"maxNum":i}})},"insertPic":function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e],a=d.imgReplace(n),s=d.imgProto(n),r='<p><img src="'+a+'" _src="'+a+'" data-type="insertImg" proto="'+s+'"/></p>';this.editor.execCommand("inserthtml",r)}},"loading":function(){this.isLoad=1,this.$showBox.show(),this.$cover.show(),this.$localBtn.addClass("upload-unable"),this.editor&&this.editor.setDisabled()},"unLoading":function(){this.isLoad=0,this.$cover.hide(),this.$cover.css("display","none"),this.$localBtn.removeClass("upload-unable"),this.editor&&this.editor.setEnabled()},"checkShow":function(){return!!this.$showBox.is(":visible")},"fixPop":function(){var t=this.$target,e=t.offset(),i=e.left,n=e.top/1+30;return this.$showBox.css({"top":n+"px","left":i+"px"})},"show":function(){this.$showBox.removeClass("webuploader-element-invisible"),this.$showBox.find("img").attr("src",this.code).css("display","block"),this.fixPop().show()},"hide":function(){1!=this.isLoad&&this.$showBox.hide()},"getCodeCb":function(){this.sendNum(),this.$showBox.find("img").attr("src",this.code).css("display","block")},"scanCb":function(t){switch(t.isload){case 1:this.unLoading();break;case 2:this.loading();break;case 3:var e=t.data,i=[],n=e.length-this.imgArr.length;if(n){this.loading(),this.imgArr=e,i=e.slice(-n);var a=this;setTimeout(function(){a.unLoading(),a.hide(),"function"==typeof a.customCb?a.customCb(i,a):a.insertPic(i)},500)}break;case 1e4:this.imgArr=[],this.isload=0,this.useNewCode=0,clearInterval(this.interval),this.interval=0,this.hide()}}},t.exports=n}).call(exports,e(0),e(1))},"54":function(t,exports,e){var i=e(3);t.exports=i("src/js/module/popup/uploadfileQR/upload",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$escape),a=t.imgPath,s="";return s+='<div data-node="picPopBox" class="picPopBox" data-node="picPopBox"> <em class="sanjiao"></em> <div class="container clearfix"> <div class="left"> <div class="qr"> <img src=\'\'/> <div class="cover" data-node="cover">上传中...</div> </div> <p>扫描二维码,上传手机图片</p> </div> <div class="right" data-node="uploadList"> <div class="pc-btn pc-btnh35" data-defaultAddFile=\'picker\'></div> </div> </div> </div> <div data-node="picLoading" class="picLoading hide"> <img src="',s+=n(a),s+='/images/public/loading.gif"/> <div> ',new String(s)})},"56":function(t,exports,e){"use strict";var i=e(2),n=e(5),a=e(4),s=!1,r=function(t,e){return i.post(n.get("sensitiveWord"),{"data":{"text":t},"async":!1}).done(function(t){if(!1===t.success){var i="标题";s=!0,e&&(i="评论"),a(i+'中含有"'+t.data+'"敏感词')}else s=!1}).fail(function(){a("数据加载失败")}),s};t.exports=r},"58":function(t,exports,e){"use strict";(function($,i){var n=e(2),a=e(5),s=e(4),r=e(7),o=e(14),c=e(9),l=e(15),d=(c(),0),u=function(){},h=function(t,e,i){t.data("praise",e),t.data("count",i)},p={"normal":{"add":function(t,e,i){t.addClass("active"),i||(i="取消点赞"),t.find("span").text(i)},"reduce":function(t,e,i){t.removeClass("active"),i||(i="点赞"),t.find("span").text(i)}}},f=function(t){return p[t]},m=function(t,e,p){var m=$(t),g=p.onPraise||u,v=p.onUnPraise||u,b=p.onPraised||u,y=p.mode||"normal";m.on("click",e,function(){function t(){var t=w;n.post(a.get("praise"),t).done(function(t){var n=f(y);if(r(o.comment.enableEditor).pub({"pid":"enable"}),t&&200===t.code&&t.success)1===p?(h(e,0,++x),n.add(e,t,x),g.call(e,t,x)):0===p&&(h(e,1,--x),n.reduce(e,t,x),v.call(e,t,x));else if(t&&422===t.code);else if(t&&403===t.code)s("抱歉！该话题审核未通过",{"ok":function(){window.location.href=i.group_domain+"index/error?code=topic"}});else if(409===t.code)b.call(e,t,x),d||s(t.message);else{var a=t.message;0===u&&404===t.code?s(a,{"ok":function(){window.location.reload()}}):s(a)}d&&window.location.reload()}).fail(function(){}).always(function(){})}var e=$(this),u=e.data("type"),p=e.data("praise"),m=e.data("id"),x=e.data("count"),w={"data":{"groupId":i.groupid,"id":m,"type":u,"isPraise":p}};return c()?(d=0,t()):(d=1,l(t)),!1})};t.exports=m}).call(exports,e(0),e(1))},"59":function(t,exports,e){"use strict";var i=function(){var t=navigator.userAgent.toLowerCase();if(t.indexOf("msie")>-1)return t.match(/msie ([\d.]+)/)[1]<=8;return!1};t.exports=i},"62":function(t,exports,e){"use strict";(function($){var i=e(9),n=$("[data-node='comment_Msg']"),a=$("[data-node='a_Submit']"),s=e(15),r=function(){var t=null;return i()?(n.children("textarea").removeAttr("readonly").css("background","transparent"),a.removeClass("pc-bj-fc8753").html("发布"),$("[data-node='secondCom_Key']").css("display","block"),t="1"):(t="0",n.children("textarea").attr("readonly","readonly").css("background","#fff"),$("[data-node='secondCom_Key']").css("display","none")),t},o=function(){s()},c=function(){if(!i())return o(),!1};t.exports={"getLoginState":r,"popUnion":o,"commentCheck":c}}).call(exports,e(0))},"64":function(t,exports,e){"use strict";(function(i,$){var n=e(2),a=e(7),s=location.hostname.split("."),r=s.length,o=s[r-2]+"."+s[r-1],c=function(){n.get(i.ss_service_gome+"item/v1/cookie/getregion/flag/public/ip",{"dataType":"jsonp","jsonpCallback":"ip"}).done(function(t){var e=t.atgregion;!0===t.success&&($.cookie("atgregion",e,{"expires":1,"path":"/","domain":o}),a("getAreaId").pub())})};t.exports=c}).call(exports,e(1),e(0))},"71":function(t,exports,e){"use strict";var i=function(t,e){var i,n="",a=new Date(t).getTime(),s=(new Date).getTime(),r=s-a,o=e||7;if(r<6e4)n="1分钟前";else if(r>=6e4&r<36e5)i=Math.floor(r/6e4),n=i+"分钟前";else if(r>=36e5&r<864e5)i=Math.floor(r/36e5),n=i+"小时前";else if(r>=864e5&r<1728e5)i=Math.floor(r/864e5),n="昨天";else if(r>=1728e5&r<864e5*o)i=Math.floor(r/864e5),n=i+"天前";else{var c=t.split(" ");n=c[0]}return n};t.exports=i},"72":function(t,exports,e){"use strict";(function(i){function n(t){var e=t.page,i=t.shareTo,n=t.shareId,o={"sp":"plus","pf":"pc","sc":i,"st":e,"ss":0,"pid":window.page_id,"sid":n,"uid":r.user_id,"cid":function(t){for(var e=document.cookie.split("; "),i=0;i<e.length;i++){var n=e[i].split("=");if(n[0]==t)return unescape(n[1])}}("__gmz"),"url":r[e].url[i],"env":r.env,"di":""};o=JSON.stringify(o),a.post(s,{"data":o}).done(function(t){})}var a=e(2),s="https://beacon.gomeplus.com/log_share",r={"ht":{"share":{"qq":"2010506904","qz":"2020506904","wx":"2030506904","wb":"2050506904"},"url":{"qq":location.href+"&cmpid=fx_pc_qq"+i.share_time,"qz":location.href+"&cmpid=fx_pc_qz"+i.share_time,"wx":location.href+"&cmpid=fx_pc_wx"+i.share_time,"wb":location.href+"&cmpid=fx_pc_wb"+i.share_time}},"qz":{"share":{"qq":"2010507903","qz":"2020507903","wx":"2030507903","wb":"2050507903"},"url":{"qq":location.href+"&cmpid=fx_pc_qq"+i.share_time,"qz":location.href+"&cmpid=fx_pc_qz"+i.share_time,"wx":location.href+"&cmpid=fx_pc_wx"+i.share_time,"wb":location.href+"&cmpid=fx_pc_wb"+i.share_time}},"user_id":i.userId,"cookie_id":i.share_ssid,"env":i.share_env};t.exports=n}).call(exports,e(1))},"74":function(t,exports,e){"use strict";function i(t){return t.replace(/\n|\r\n/g,"</br>")}var n=e(22),a=e(17),s=function(t){return t=n(t),t=a.parseEmoji(t),t=i(t)};t.exports=s},"8":function(t,exports,e){"use strict";(function($){var e,i,n,a=function(){e.off().on("click",function(){e.hide(),i.hide()}),i.off().on("click",function(){e.hide(),i.hide()})},s=function(t,s){var r={"duration":2e3,"callback":function(){}};$.extend(r,s||{}),clearTimeout(n),e=$('[data-action="publicMask"]'),i=$('[data-action="publicTips"]'),e.length>0?(e.show(),i.show().text(t)):($("body").append('<div data-action="publicMask" class="ordi-toast"></div><div class="ordi-toast-txt" data-action="publicTips">'+t+"</div>"),e=$('[data-action="publicMask"]'),i=$('[data-action="publicTips"]'),a()),i.css("margin",-i[0].offsetHeight/2+"px 0 0 "+-i.width()/2+"px"),n=setTimeout(function(){e.hide(),i.hide(),r.callback()},r.duration)};t.exports={"init":s,"events":a}}).call(exports,e(0))}},[356]);