webpackJsonp([45],{0:function(a,t,e){"use strict";e(330).init(),e(331)(),e(333).init();var i=e(56);i.setPageData("uc_orders")},55:function(a,t,e){(function($){"use strict";var t=e(22),i=function(){},n=function(a,e){var n={fixed:!0,modal:!0,content:'<p class="del-pop-p">'+a+"</p>",className:"pop-box",okCls:"pc-btn pc-btnh35 circle-pop-btn",ok:i,cancel:i,btnWrapCls:"two-buttons"};$.extend(!0,n,e);var r=t(n);return r.show(),r};a.exports=n}).call(t,e(1))},87:function(a,t,e){(function($){"use strict";var t,e,i,n=function(){t.off().on("click",function(){t.hide(),e.hide()}),e.off().on("click",function(){t.hide(),e.hide()})},r=function(a,r){var s={duration:2e3,callback:function(){}};$.extend(s,r||{}),clearTimeout(i),t=$('[data-action="publicMask"]'),e=$('[data-action="publicTips"]'),t.length>0?(t.show(),e.show().text(a)):($("body").append('<div data-action="publicMask" class="ordi-toast"></div><div class="ordi-toast-txt" data-action="publicTips">'+a+"</div>"),t=$('[data-action="publicMask"]'),e=$('[data-action="publicTips"]'),n()),e.css("margin",-e[0].offsetHeight/2+"px 0 0 "+-e.width()/2+"px"),i=setTimeout(function(){t.hide(),e.hide(),s.callback()},s.duration)};a.exports={init:r,events:n}}).call(t,e(1))},324:function(a,t,e){(function(t){"use strict";var i=e(37),n=function(){var a=t.imgpath;i("",{okCls:"hide",content:'<div class="sm-download"><img src="'+a+'/images/public/ma1.jpg"><p>扫描二维码，下载国美PlusAPP联系商家</p></div>'})};a.exports=n}).call(t,e(4))},326:function(a,t,e){"use strict";var i=e(2),n=e(28),r=e(55),s=e(37),o=e(87).init,d={cancelOrder:"确认要取消订单吗？",cancelFail:"订单取消失败!网络可能出问题了~",canceled:"系统已取消订单"},c=function(a){var t=a.isPayed?"payedCancelOrder":"unPayCancelOrder";r(d.cancelOrder,{title:"操作",width:500,className:"pop-box",btnWrapCls:"text-center",okCls:"two-button two-button-red",cancelCls:"two-button",ok:function(){i.get(n.get(t),{data:{id:a.id}}).done(function(t){var e=t.data,i=e.status,n=e.statusDesc;return t.success===!0?void a.okFn(n):void(i==-1||i==-6?a.okFn(n):1!=i||0!=i?(o(d.canceled),setTimeout(function(){location.reload()},2e3)):o(t.message))}).fail(function(){s(d.cancelFail)})}})};a.exports=c},330:function(a,t,e){(function($){"use strict";var t=e(326),i="[data-action=unPayCancel]",n="[data-action=payedCancel]",r="[data-node=orderStauts]",s=$("[data-node=orderList]"),o=function(){s.on("click",i,function(){var a=$(this),e=$("[data-node=dfkNum]"),i=e.data("count"),n=a.data("id");return!(i<1)&&void t({isPayed:!1,id:n,okFn:function(){location.reload()}})})},d=function(){s.on("click",n,function(){var a=$(this),e=$("[data-node=dfhNum]"),i=e.data("count"),n=a.data("id");return!(i<1)&&void t({isPayed:!0,id:n,okFn:function(t){a.addClass("order-blank-btn-disabled"),a.attr("data-action","cancelling"),a.parents("table").find(r).text(t)}})})},c=function(){o(),d()};a.exports={init:c}}).call(t,e(1))},331:function(a,t,e){(function($,t){"use strict";var i=e(2),n=e(28),r=e(37),s=e(332),o="loadMoreOrder",d={loadFail:"加载失败"},c=1,l=parseInt($("[data-node=orderStateNav]").data("status")),u=15,p=$("[data-node=orderList]"),f=$("[data-node=pageMore]"),m=$("[data-node=pageLoading]"),h=$("[data-node=pageNothing]"),b=t,g=function(){f.on("click",function(){function a(a){a?(f.hide(),m.show()):(m.hide(),f.show())}var t=c+1;a(!0),i.get(n.get(o),{data:{page:t,status:l,pageSize:u}}).done(function(e){function i(){f.hide(),m.hide(),h.show()}var n={};if(e.success===!0){if(n.list=e.data.orders,n.domain=b,!n.list.length)return i(),!1;var o=s(n);p.append(o),c=t,n.list.length<u?i():a(!1)}else r(d.loadFail),a(!1)}).fail(function(){r(d.loadFail),a(!1)})})};a.exports=g}).call(t,e(1),e(4))},332:function(a,t,e){var i=e(26);a.exports=i("src/js/page/uc_orders/loadMore/orderList",function(a,t){"use strict";var e=this,i=(e.$helpers,e.$each),n=a.list,r=(a.v,a.$index,e.$escape),s=(a.vv,a.i,a.domain),o=(a.attr,"");return i(n,function(a,t){o+=' <table class="order-prod-info"> <tr> <td colspan="7" class="order-base-nav"> <ul class="clearfix"> <li class="time">',o+=r(a.orderTime),o+='</li> <li class="order-number">订单号： ',0==a.status?(o+=' <a href="javascript:;" class="color-default">',o+=r(a.mergerId),o+="</a> "):(o+=' <a href="javascript:;" class="color-default">',o+=r(a.id),o+="</a> "),o+=' </li> </ul> </td> </tr> <tr> <td colspan="4" class="order-l clearfix"> ',i(a.orderItems,function(t,e){o+=' <div class="order-l-list ',e+1==a.orderItems.length&&(o+="bor-none"),o+=' clearfix"> <a target="_blank" href="',o+=r(s.mall_domain),o+="item/",o+=r(a.orderItems[0].mshop.id),o+="-",o+=r(t.sku.item.id),o+=".html?skuid=",o+=r(t.sku.id),o+='"> <img src="',o+=r(t.sku.image),o+='" onerror="imgError(this);" class="order-img"> </a> <div class="parameter"> <a target="_blank" href="',o+=r(s.mall_domain),o+="item/",o+=r(a.orderItems[0].mshop.id),o+="-",o+=r(t.sku.item.id),o+=".html?skuid=",o+=r(t.sku.id),o+='">',o+=r(t.sku.item.shortName),o+="</a> <p>",i(t.sku.attributes,function(a,e){o+=r(a.name),o+="：",o+=r(a.value),e<t.sku.attributes.length-1&&(o+="&emsp;")}),o+='</p> </div> <span class="s-price">￥',o+=r(t.sku.price),o+='</span> <span class="count-num">',o+=r(t.quantity),o+='</span> <div class="connect-shop more" data-node="connect-firm" data-rechange=\'{"orderid":',o+=r(a.id),o+=',"skuid":',o+=r(t.sku.id),o+=',"goodsid":',o+=r(t.sku.item.id),o+=" }'> ",0!=a.status&&(o+=" ",o+=6!=a.orderType&&7!=a.orderType?' <a href="javascript:;" data-action="ContactMerchant">联系商家</a> ':' <a href="javascript:;" class="gm-gray">联系商家</a> ',o+=" "),o+=" ",t.afterSalesFlag&&(o+=' <a href="',o+=r(s.i_domain),o+="order/showDataInfo?orderid=",o+=r(a.id),o+="&skuid=",o+=r(t.sku.id),o+="&goodid=",o+=r(t.sku.item.id),o+='" >申请售后</a> '),o+=" </div> </div> "}),o+=' </td> <td class="t-price"><span class="price">￥',o+=r(a.paymentAmount),o+='</span> <p class="fare">（含运费：￥',o+=r(a.shippingCost),o+='）</p> </td> <td class="trading-status"> <span>',o+=r(a.statusDesc),o+="</span> ",0==a.status?(o+=' <a target="_blank" href="',o+=r(s.i_domain),o+="order/detail?id=",o+=r(a.mergerId),o+='&type=1">查看详情</a> '):(o+=' <a target="_blank" href="',o+=r(s.i_domain),o+="order/detail?id=",o+=r(a.id),o+='">查看详情</a> '),o+="  ",2!=a.status&&3!=a.status&&a.status!=-12&&a.status!=-5||(o+=" ",6!=a.orderType&&7!=a.orderType?(o+=" ",a.hasLogistics&&(o+=' <a target="_blank" href="',o+=r(s.i_domain),o+="order/orderParcels?orderId=",o+=r(a.id),o+='" >查看包裹</a> '),o+=" "):(o+=' <a target="_blank" href="',o+=r(s.i_domain),o+="order/orderParcels?orderId=",o+=r(a.id),o+='" >查看包裹</a> '),o+=" "),o+=' </td> <td class="order-operate"> ',0==a.status?(o+=' <a target="_blank" href="',o+=r(s.order_domain),o+="order/payDetail?mergerId=",o+=r(a.mergerId),o+='" class="order-blank-btn order-pay-btn marb14">立即支付</a> <a href="javascript:;" data-action="unPayCancel" class="order-blank-btn" data-id="',o+=r(a.mergerId),o+='">取消订单</a> '):1==a.status?(o+=' <a class="order-blank-btn" data-action="payedCancel" href="javascript:;" data-id="',o+=r(a.id),o+='" >取消订单</a> '):a.status==-1?o+=' <a class="order-blank-btn order-blank-btn-disabled" data-action="cancelling" href="javascript:;">取消订单</a> ':3==a.status&&0==a.hasComment?(o+=' <a target="_blank" href="',o+=r(s.i_domain),o+="order/showCommentInfo?orderid=",o+=r(a.id),o+='" class="order-blank-btn">立即评价</a> '):a.status==-12?o+=" ":a.status==-5&&(o+=" "),o+=" </td> </tr> </table> "}),new String(o)})},333:function(a,t,e){(function($){"use strict";var t=e(324),i=function(){var a=$("[data-node=orderList]"),e="[data-action=ContactMerchant]";a.on("click",e,function(){t()})};a.exports={init:i}}).call(t,e(1))}});