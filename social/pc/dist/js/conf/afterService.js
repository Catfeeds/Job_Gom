webpackJsonp([1],{0:function(t,e,s){"use strict";var a=s(58);a.init();var o=s(56);o.setPageData("uc_afterService")},55:function(t,e,s){(function($){"use strict";var e=s(22),a=function(){},o=function(t,s){var o={fixed:!0,modal:!0,content:'<p class="del-pop-p">'+t+"</p>",className:"pop-box",okCls:"pc-btn pc-btnh35 circle-pop-btn",ok:a,cancel:a,btnWrapCls:"two-buttons"};$.extend(!0,o,s);var d=e(o);return d.show(),d};t.exports=o}).call(e,s(1))},58:function(t,e,s){(function($){"use strict";var e=s(2),a=s(28),o=(s(59),s(60)),d=s(62),i=s(55),n=function(){var t=$("[data-node=afterServiceList]"),e=$("[data-node=loadList]"),s=$("[data-node=loading]"),a=$("[data-node=noList]");$(".pop-box-wrap");s.css("display","none"),a.css("display","none"),e.css("display","none"),d.getDateList(1,15),e.on("click",function(){var t=$(this).attr("data-page"),e=parseInt(t)+1;s.css("display","block"),d.getDateList(e,15),$(this).attr("data-page",e)}),t.on("click","[data-node=typedesc]",function(){var t=$(this).attr("data-id"),e=$(this).attr("data-orderid");$(this).hasClass("deliverGoods")?o(t):$(this).hasClass("checkLogistics")?($(this).attr("target","_black"),$(this).attr("href","/CustomerInfo/getOrderLogistics?orderId="+e+"&id="+t)):$(this).hasClass("shureGoods")?c(t):$(this).hasClass("checkLogisticsTwo")?($(this).attr("target","_black"),$(this).attr("href","/CustomerInfo/getOrderLogistics?orderId="+e+"&id="+t)):$(this).hasClass("homeServiceClass")&&l(t)})},l=function(t){var s=t,o="确认商家已上门取货？",n="商家取货后请点击“确定”按钮确认，以免耽误您的退款。";i("提示",{width:600,fixed:!0,modal:!0,title:"提示",content:'<h3 class="two-title" data-idShure='+s+' data-node="shureP" >'+o+'</h3><p class="pay-pop-p   pay-pop-text">'+n+'</p><div data-node="togoleDiv"  style="text-align:center;font-size:12px;color:red;padding-bottom:10px;" ></div>',className:"pop-box pop-pad-btm65",okCls:"pc-btn pc-btnh40 pc-btnw120",cancelCls:"queren-btn pc-btnh40 pc-btnw120",ok:function(t){var s=$("[data-node=afterServiceList]");$("[data-node=togoleDiv]").html("");var o=$("[data-node=shureP]").attr("data-idShure");return e.get(a.get("orderSendGood")+"?orderid="+o).then(function(t){t.success?(s.children("tbody").empty(),d.getDateList(1,15),$("[data-node=loadList]").attr("data-page",1),$("button[i=close]").click()):($("[data-node=togoleDiv]").html("* 请求失败，请重新点击"),$("[data-node=togoleDiv]").removeClass("hide").addClass("show"))}),!1},btnWrapCls:"two-buttons"})},c=function(t){var s=t;i("确认收货",{width:600,height:90,fixed:!0,modal:!0,title:"确认收货",content:"<div class='del-pop-p' data-idShure="+s+" data-node='shureP'><div data-node='span_Msg'>确认收货？</div><div data-node='togoleDiv' class='hide' style='text-align:center;font-size:12px;color:red;'></div></div>",className:"pop-box pop-pad-btm65",okCls:"pc-btn pc-btnh40 pc-btnw120",cancelCls:"queren-btn pc-btnh40 pc-btnw120",ok:function(t){var s=$("[data-node=afterServiceList]");$("[data-node=togoleDiv]").html(""),$("[data-node=togoleDiv]").removeClass("show").addClass("hide");var o=$("[data-node=shureP]").attr("data-idShure");return e.get(a.get("buyCheckGoods")+"?id="+o).then(function(t){t.success?(s.children("tbody").empty(),d.getDateList(1,15),$("[data-node=loadList]").attr("data-page",1),$("button[i=close]").click()):($("[data-node=togoleDiv]").html("* 请求失败，请重新点击"),$("[data-node=togoleDiv]").removeClass("hide").addClass("show"))}),!1},btnWrapCls:"two-buttons"})};t.exports={init:n}}).call(e,s(1))},59:function(t,e,s){var a=s(26);t.exports=a("src/js/page/afterService/tableOrderList",function(t,e){"use strict";var s=this,a=(s.$helpers,s.$escape),o=t.id,d=s.$string,i=t.shop_name,n=t.shop_user,l=t.paymentAmount,c=t.totalPrice,r=t.typedesc,p=t.createTime,h=t.statusDesc,u=t.cilckStyle,v=t.orderid,g=t.showStatus,m=t.isThree,f=t.cilckStyleTow,y=t.showStatusTow,b="";return b+=' <tr> <td class="order-number" data-node="id">',b+=a(o),b+='</td> <td data-node="name">',b+=d(i),b+='</td> <td data-node="maijia"><p class="product-name">',b+=d(n),b+='</p></td> <td class="trade-money" data-node ="paymentAmount">￥',b+=a(l),b+='</td> <td class="refund-money" data-node="totalPrice">',c&&(b+="￥"),b+=a(c),b+='</td> <td class="type" data-node="type">',b+=a(r),b+='</td> <td class="time"><span class="date">',b+=a(p),b+='</span></td> <td class="refund" data-node="statusDesc">',b+=a(h),b+='</td> <td><a href="/CustomerInfo/showCustomerInfo?id=',b+=a(o),b+='" class="check-detail" target="_blank" data-id="',b+=a(o),b+='">查看详情</a><a href="javascript:;" class="lh23 ',b+=a(u),b+='" data-orderid=',b+=a(v),b+=' data-node="typedesc" data-id="',b+=a(o),b+='" >',b+=a(g),b+="</a> ",m&&(b+=' <a href="javascript:;" class="lh23 ',b+=a(f),b+='" data-orderid=',b+=a(v),b+=' data-node="typedesc" data-id="',b+=a(o),b+='" >',b+=a(y),b+=" "),b+="</td> </tr>",new String(b)})},60:function(t,e,s){(function($){"use strict";var e=s(61),a=s(55),o=s(28),d=s(2),i=s(62),n=function(t){r();var e=t;$("[data-node=logisticNo]").on("keyup",function(){var t=$("[data-node=orderNumNull]"),e=$(this).val(),s=$(this).val().length,a=new RegExp("^[A-Za-z0-9]+$");return a.test(e)?(s<1&&t.css("display","none"),s>20?($(this).attr("autocomplete","off"),t.css("display","block"),t.html("运单号不能超过20个字符")):t.css("display","none"),/\s/.test(e)?(t.css("display","block"),t.html("请输入正确的订单号"),!1):void 0):(t.css("display","block"),t.html("运单号只能是数字或英文"),!1)});var s={$showLogistics:$("[data-node=showLogistics]"),$ul:$("[data-node=addMsgUL]"),$input:$("[data-node=insertBox]")};s.$showLogistics.on("click",function(t){t.stopPropagation(),$("[data-node=addMsgNull]").css("display","none"),$("[data-node=addMsgNull]").html(""),s.$ul.hasClass("hasList")||l(s.$ul),s.$ul.hasClass("show")?s.$ul.addClass("hide").removeClass("show"):s.$ul.addClass("show").removeClass("hide")}),s.$ul.on("click","li",function(){var t=$(this).children("a").attr("id"),a=$(this).children("a").html();s.$input.html(a),s.$input.attr("id",t),s.$input.attr("data-orderId",e),s.$ul.addClass("hide").removeClass("show")})},l=function(t){t.empty(),d.post(o.get("logisticsList")).then(function(e){if(e.success){for(var s=e.data,a="",o=0;o<s.length;o++){var d='<li><a href="javascript:;" id="'+s[o].id+'"">'+s[o].name+"</a></li>";a+=d}t.append(a),t.addClass("hasList show")}})},c=function(){var t=$("[data-node=orderNumNull]"),e=$("[data-node=addMsgNull]"),s=$("[data-node=insertBox]"),a=s.attr("id"),n=s.attr("data-orderid"),l=$("[data-node=logisticNo]").val();if(t.css("display","none"),e.css("display","none"),!n)return e.css("display","block"),e.html("快递公司为空，请填写"),!1;if(!l)return t.css("display","block"),t.html("运单号不能为空，请填写"),!1;var c=new RegExp("^[A-Za-z0-9]+$");if(!c.test(l))return t.css("display","block"),t.html("运单号只能是数字或英文"),!1;if(/\s/.test(l))return t.css("display","block"),t.html("请输入正确的订单号"),!1;if(l.length>20)return t.css("display","block"),t.html("运单号不能超过20个字符"),!1;var r={logisticVenderId:parseInt(a),orderid:parseInt(n),logisticNo:l},p=$("[data-node=afterServiceList]");return d.post(o.get("sendGoods"),{data:r}).then(function(e){e.success?(t.css("display","none").html(""),p.children("tbody").empty(),i.getDateList(1,15),$("[data-node=loadList]").attr("data-page",1),$("[i=close]").click()):(t.css("display","block"),t.html(e.message))}),!1},r=function(){a("",{width:600,fixed:!0,modal:!0,title:"一键发货",content:e,className:"pop-box pop-pad-btm65",okCls:"pc-btn pc-btnh40 pc-btnw120",cancelCls:"queren-btn pc-btnh40 pc-btnw120",ok:c,btnWrapCls:"two-buttons"})};t.exports=n}).call(e,s(1))},61:function(t,e,s){var a=s(26);t.exports=a("src/js/page/afterService/deliverGoods",'<ul class="shipping-input"> <li> <label>选择快递公司：</label> <div class="express-select-box"> <div class="express-select active" data-node="showLogistics" > <div class="selected" data-node="insertBox">请选择</div><em class="icon icon-down icon-up"></em> </div> <ul class="select-list" data-node="addMsgUL" style="max-height:140px;overflow-y:scroll"> </ul> <p class="error-txt" data-node="addMsgNull"></p> </div> </li> <li> <label>选择快递单号：</label> <input type="text" placeholder="请输入20字以内的快递单号" class="express-number" data-node="logisticNo"> <p class="error-txt" data-node="orderNumNull"></p> </li> </ul>')},62:function(t,e,s){(function($){"use strict";function e(t,e){var s="",a="",o=!1,d="",i="";return 4==t?s="":2==t?e==-103?(s="一键发货",a="deliverGoods"):e==-107||e==-115||e==-5||e==-10?(s="查看物流",a="checkLogistics"):e==-123&&(s="确认收货",a="shureGoods"):3==t&&(e==-103?(s="一键发货",a="deliverGoods"):e==-107||e==-124||e==-127||e==-131?(s="查看物流",a="checkLogistics"):e==-123&&(o=!0,d="查看物流",i="checkLogisticsTwo",s="确认收货",a="shureGoods")),{showStatus:s,cilckStyle:a,showStatusTow:d,cilckStyleTow:i,isThree:o}}var a=s(2),o=s(28),d=s(59),i=function(t,s){var i=$("[data-node=afterServiceList]"),n=$("[data-node=loadList]"),l=$("[data-node=loading]"),c=$("[data-node=noList]");n.css("display","none");var r={pageNum:t,pageSize:s};l.css("display","block"),a.post(o.get("afterServiceList"),{data:r}).then(function(s){if(s.success){var a=s.data;if(a.length>0)for(var o=0;o<a.length;o++){var r=a[o].type,p=a[o].status,h="",u="",v="",g="",m=!1;if(6==a[o].orderType||7==a[o].orderType){var f=a[o].collectingMethod;"GOME_PICKUP"==f&&p==-103?(h="确认取货",u="homeServiceClass"):"CUSTOMER_SEND_BACK"==f&&p==-103?(h="一键发货",u="deliverGoods"):"CUSTOMER_SEND_BACK"==f&&p==-123?(h="确认收货",u="shureGoods"):"GOME_PICKUP"==f&&p==-123&&(h="确认收货",u="shureGoods")}else h=e(r,p).showStatus,u=e(r,p).cilckStyle,3==r&&p==-123&&(m=e(r,p).isThree,v=e(r,p).showStatusTow,g=e(r,p).cilckStyleTow);for(var y={isThree:m,showStatusTow:v,cilckStyleTow:g,id:a[o].id,orderid:a[o].orderid,paymentAmount:a[o].paymentAmount,shop_name:a[o].shop_name,status:a[o].status,statusDesc:a[o].statusDesc,totalPrice:a[o].totalPrice,type:a[o].type,typedesc:a[o].typedesc,showStatus:h,cilckStyle:u,shop_user:a[o].mail_name,createTime:a[o].time},b="",w=0;w<y.shop_name.length;w++)b+="<p class='product-name'>"+y.shop_name[w].name+"</p>";y.shop_name=b;var k=d(y);i.children("tbody").append(k),l.css("display","none"),a.length<15&&1!=t?n.css("display","none"):n.css("display","block"),1===t&&a.length<1?c.css("display","block"):1===t&&a.length<15&&n.css("display","none")}else l.css("display","none"),c.css("display","block")}})};t.exports={getDateList:i}}).call(e,s(1))}});