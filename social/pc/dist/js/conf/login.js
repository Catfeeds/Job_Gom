webpackJsonp([16],{0:function(n,t,e){"use strict";e(212).init(),e(213).init();var o=e(56);o.setPageData("login")},54:function(n,t,e){(function($){"use strict";var n=document.createElement("input"),t="oninput"in n&&(!("documentMode"in document)||document.documentMode>9),e=function(n){return"INPUT"===n.nodeName&&("text"===n.type||"password"===n.type)},o=null,a=null,i=null,c={get:function(){return i.get.call(this)},set:function(n){a=n,i.set.call(this,n)}},d=function(n){o=n,a=n.value,i=Object.getOwnPropertyDescriptor(n.constructor.prototype,"value"),Object.defineProperty(o,"value",c),o.attachEvent("onpropertychange",s)},r=function(){o&&(delete o.value,o.detachEvent("onpropertychange",s),o=null,a=null,i=null)},s=function(n){if("value"===n.propertyName){var t=n.srcElement.value;t!==a&&(a=t,$(o).trigger("textchange"))}};t?$(document).on("input",function(n){"TEXTAREA"!==n.target.nodeName&&$(n.target).trigger("textchange")}):$(document).on("focusin",function(n){e(n.target)&&(r(),d(n.target))}).on("focusout",function(){r()}).on("selectionchange keyup keydown",function(){o&&o.value!==a&&(a=o.value,$(o).trigger("textchange"))})}).call(t,e(1))},212:function(n,t,e){(function($){"use strict";var t,o,a=e(2),i=e(28),c=e(36),d=e(37),r=$("[data-node=userForm]"),s=r.find("[data-action=qrCodeBtn]"),u=r.find("[data-action=accLoginBtn]"),f=r.find("[data-node=qrCodeBox]"),l=f.find("[data-node=qrCodeImg]"),p=f.find("[data-node=qrCodeFailBox]"),g=f.find("[data-node=qrCodeTip]"),v=f.find("[data-action=refQrCode]"),h=r.find("[data-node=qrCodeSucBox]"),m=h.find("[data-action=backToQrCode]"),C=c.qrCodeTip,w=3e3,k="",x=function(n){0===n?(f.hide(),p.hide(),h.hide()):1===n?(f.show(),p.hide(),h.hide()):2===n?(f.show(),p.show(),h.hide()):3===n&&(f.hide(),p.hide(),h.show())},y=function(n,t){g.text(n),v.text(t)},b=function(){return x(1),l.attr("src",""),a.get(i.get("getQrCode")).done(function(n){n.success?(k=n.data.ssid,l.attr("src",n.data.genQrcode)):(x(2),y(C.failGetTip,C.failGetBtn))}).fail(function(){x(2),y(C.failGetTip,C.failGetBtn)})},T=function(){a.post(i.get("abolishQrCode"),{data:{ssid:k}})},B=function(){a.get(i.get("getSsidStatus"),{data:{ssid:k},timeout:w}).done(function(n){var e=n.data.ssidStatus;t=e,0!==e&&(1===e||3===e?(x(2),y(C.loseEffTip,C.loseEffBtn),N()):2===e?x(3):4===e?(N(),location.href=n.data.headerUrl):d("port change!"))}).fail(function(){N()})},E=function(){l.attr("src",""),N(),x(0),1!==t&3!==t&&T()},q=function(){b().then(function(){D(w)})},D=function(n){N(),o=setInterval(B,n)},N=function(){o&&clearInterval(o)},P=function(){s.on("click",q),v.on("click",q),m.on("click",q),u.on("click",E)};n.exports={init:P}}).call(t,e(1))},213:function(n,t,e){(function(t,$){"use strict";function o(n){p.removeClass("none"),g.text(n)}var a=e(2),i=e(28),c=e(40),d=e(42);e(54);var r=i.get("ajaxCaptcha")+"?setid=",s=t.passport_domain;r=s+r+"login&t=";var u=$("[data-node=userForm]"),f=u.find($("[data-node=userNum]")),l=u.find($("[data-node=userPwd]")),p=u.find($("[data-node=error]")),g=p.find("span"),v=u.find($("[data-node=userLogin]")),h=$("[data-node=identifyplace]"),m=$("[data-node=change-code]"),C=$("[data-node=code]"),w=u.find("[data-node=emptyUser]"),k=u.find("[data-node=emptyPwd]"),x=!0;e(46),f.placeholder(),l.placeholder();var y=function(){if(""===f.val())return o("请输入账号"),N(f),!1;if(""===l.val())return o("请输入密码"),N(l),!1;var n=C.val();if(!h.hasClass("none")&&""==n)return o("请输入验证码"),void C.css("border","1px solid #f95353");var e={login_name:f.val(),password:c(l.val()),verifyCode:n,setid:"login",csrf_token:t.csrf_token};return 0!=x&&(x=!1,v.find("span").text("登录中..."),void a.post(i.get("loginData"),{data:e,headers:{"Content-Type-Ctag":$.cookie("content_ctag")||""}}).done(function(n){if(v.find("span").text("登录"),n.success){var e=n.data;if(0==e.user.isMobileActivated)return window.location.href="/login/bindphonepage",!1;if(e.isNeedReset)return window.location.href="/regist/indexnickname",!1;window.location.href=t.redirect}else 1==n.data.is_code&&b(),p.removeClass("none").find("span").text(n.message)}).always(function(){x=!0}))},b=function(){h.removeClass("none").find(".code-img").attr("src",r+(new Date).getTime()),C.val(""),m.blur()},T=function(){$(document).keydown(function(n){n&&13==n.keyCode&&(n.preventDefault(),y())}),v.on("click",function(n){n.preventDefault(),y()}),f.on("focus",function(){q($(this))}),f.on("keyup",function(){E(f,w)}),f.on("blur",function(){D($(this))}),l.on("focus",function(){q($(this))}),l.on("blur",function(){D($(this))}),l.on("keyup",function(){E(l,k)}),C.on("focus",function(){C.css("border","1px solid #e5e5e5")}),m.on("click",function(){h.find(".code-img").attr("src",r+(new Date).getTime()),C.val("")}),w.on("click",function(){B(f,w)}),k.on("click",function(){B(l,k)}),C.on("textchange",function(){var n=$(this);n.val().length>4&&n.val(d(n.val(),4))})},B=function(n,t){n.val(""),t.addClass("none")},E=function(n,t){""!==n.val()?t.removeClass("none"):t.addClass("none")},q=function(n){n.parent().removeClass("land-error-it").addClass("land-focus"),p.addClass("none")},D=function(n){n.parent().removeClass("land-focus")},N=function(n){n.parent().addClass("land-error-it")};n.exports={init:T}}).call(t,e(4),e(1))}});