webpackJsonp([12],{0:function(t,e,i){(function($,t){"use strict";i(169);var e=i(170),n=i(123),a=i(171),s=i(174),o=i(175),r=i(176),l=i(177),d=i(179),c=i(182),u=i(183),p=i(124),f=i(187),h=i(56);h.setPageData("commodityDetail");var g=$('div[data-node="topGoodInfo"]'),m=g.find('[data-active="coupon"]'),v=g.find('[data-node="sale"]'),x=g.find('[data-node="leftSmallBox"]'),y=$('[data-node="goodToDo"]'),b=$('[data-action="shareto"]'),S=g.find('[data-node="proAddnum"]'),w=g.find('[data-node="collectProSuccess"]'),C=w.find('[data-action="collectProClose"]'),k=g.find('[data-node="stockBox"]');t.oldStock=parseInt(k.attr("data-sumstock"),10),i(188).init(),f.init();var T=t.productId,P=$("[data-action=showQRCode]"),I=P.children("em"),M=P.children("p"),q=p(t.qr_url),V=0,H="no";y.hasClass("disabled")||(i(191).init(),l(),a({selector:'[data-action="addShopCar"]'},{proNum:~~$.trim(g.find('[data-node="count"]').val())}),s(g)),e.init(),i(193).init(),d(),i(194).init();var D={url:window.location.href,title:document.title,onlineUserId:t.onlineUserId},E=function(e){BP.send({event_id:"G000P017",shop_id:t.shopId,product_id:t.productId,channel_id:e||""})};b.on("click",'[data-shareto="weixin"]',function(){E("out-weixin");for(var e=[],i=x.children(),a=0,s=i.length;a<s;a++)e.push(i.eq(a).find("img").attr("src"));D.pic=e.join("||"),D.url=t.weixin_share,n.shareWithKid({skuId:t.skuId,itemId:T,parentKid:t.kid,shareInfo:D,isRebate:t.isRebate,shareto:"weixin"})}).on("click",'[data-shareto="qq"]',function(){E("out-QQ");for(var e=[],i=x.children(),a=0,s=i.length;a<s;a++)e.push(i.eq(a).find("img").attr("src"));D.url=window.location.href,D.pic=e.length>0?e.join("||"):t.imgpath+"/images/public/logo.png",D.title=g.find("h3").text(),D.summary="这是我在国美Plus找到的好东西，就知道你会喜欢。",n.shareWithKid({skuId:t.skuId,parentKid:t.kid,itemId:T,isRebate:t.isRebate,shareInfo:D,shareto:"qq"})}).on("click",'[data-shareto="sina"]',function(){E("out-xlwb");for(var e=[],i=x.children(),a=0,s=i.length;a<s;a++)e.push(i.eq(a).find("img").attr("src"));D.url=window.location.href,D.pic=e.length>0?e.join("||"):t.imgpath+"/images/public/logo.png",D.title=g.find("h3").text()+"我心仪的这款商品，到底是在国美Plus找到了。",n.shareWithKid({skuId:t.skuId,itemId:T,parentKid:t.kid,isRebate:t.isRebate,shareInfo:D,shareto:"sina"})}).on("click",'[data-shareto="qzone"]',function(){E("out-Qqzone");for(var e=[],i=x.children(),a=0,s=i.length;a<s;a++)e.push(i.eq(a).find("img").attr("src"));D.title=g.find("h3").text(),D.url=window.location.href,D.summary="我心仪的这款商品，到底是在国美Plus找到了。",D.pic=e.length>0?e.join("||"):t.imgpath+"/images/public/logo.png",n.shareWithKid({skuId:t.skuId,itemId:T,parentKid:t.kid,isRebate:t.isRebate,shareInfo:D,shareto:"qzone"})}),v.on("click",function(t){t.stopPropagation();var e=$(this).find("ul");"none"!==e.css("display")?e.hide():e.show()}),$(document).on("click",function(t){t.stopPropagation(),v.find("ul").hide(),m.next().hide()}),m.length>0&&u.init(),o({selector:'[data-action="shopCollect"]'},function(t){t?$(this).text("取消收藏店铺"):$(this).text("收藏店铺")}),r('[data-node="topGoodInfo"]','[data-action="collectProduct"]',{onCollect:function(){S.show().animate({top:"-20px"},500,function(){S.css("top",0).hide()}),w.show()},mode:"goodInfoCollect",onUnCollect:function(){w.hide()},onFailed:function(){C.show(),setTimeout(function(){C.hide()},2e3)}}),C.on("click",function(){$(this).parents('[data-node="collectProSuccess"]').hide()}),P.on("click",function(){"no"===H&&(M.children("img").attr("src",q),H="yes"),0===V?(V=1,I.eq(0).css("display","inline-block").next().css("display","none"),M.css("display","block")):(V=0,I.eq(0).css("display","none").next().css("display","inline-block"),M.css("display","none"))}),c.init(),i(195)}).call(e,i(1),i(4))},74:function(t,e,i){(function($){"use strict";var e,i,n=function t(e,i){return this.$el=e,this.options=$.extend({},t.rules.defaults,t.rules[i.rule]||{},i),this.min=Number(this.options.min)||0,this.max=Number(this.options.max)||0,this.$el.on({"focus.spinner":$.proxy(function(t){t.preventDefault(),this.oldValue=this.value()},this),"change.spinner":$.proxy(function(t){t.preventDefault(),this.value(this.$el.val())},this),"keydown.spinner":$.proxy(function(t){var e={38:"up",40:"down"}[t.which];e&&(t.preventDefault(),this.spin(e))},this)}),this.oldValue=this.value(),this.value(this.$el.val()),this};n.rules={defaults:{min:null,max:null,step:1,precision:0},currency:{min:0,max:null,step:.01,precision:2},quantity:{min:1,max:999,step:1,precision:0},percent:{min:1,max:100,step:1,precision:0},month:{min:1,max:12,step:1,precision:0},day:{min:1,max:31,step:1,precision:0},hour:{min:0,max:23,step:1,precision:0},minute:{min:1,max:59,step:1,precision:0},second:{min:1,max:59,step:1,precision:0}},n.prototype={spin:function(t){if(!this.$el.prop("disabled")&&!this.$el.siblings("[data-spin="+t+"]").hasClass("disabled")){this.oldValue=this.value();var e=$.isFunction(this.options.step)?this.options.step.call(this,t):this.options.step,i="up"===t?1:-1,n=this.options.beforeChange||function(){};n.call(this,this.oldValue,t)!==!1&&this.value(this.oldValue+Number(e)*i)}},value:function(t){if(null===t||void 0===t)return this.numeric(this.$el.val());t=this.numeric(t);var n=this.validate(t);0!==n&&(n===-1?(t=this.min,this.$el.trigger("rangemin.spinner")):(t=this.max,this.$el.trigger("rangemax.spinner"))),this.$el.val(t.toFixed(this.options.precision)),this.oldValue!==this.value()&&(this.$el.trigger("changing.spinner",[this.value(),this.oldValue]),clearTimeout(e),e=setTimeout($.proxy(function(){this.$el.trigger("changed.spinner",[this.value(),this.oldValue])},this),i.delay))},numeric:function(t){return t=this.options.precision>0?parseFloat(t,10):parseInt(t,10),isFinite(t)?t:t||this.options.min||0},validate:function(t){return null!==this.options.min&&t<this.min?-1:null!==this.options.max&&t>this.max?1:0},setMin:function(t){var e=this.min=this.numeric(t);this.options.min=e},setMax:function(t){var e=this.max=this.numeric(t);this.options.max=e}},i=function(t,e){this.$el=$(t),this.$spinning=this.$el.find('[data-spin="spinner"]'),0===this.$spinning.length&&(this.$spinning=this.$el.find(':input[type="text"]')),e=$.extend({},e,this.$spinning.data()),this.spinning=new n(this.$spinning,e),this.$el.on("click.spinner",'[data-spin="up"], [data-spin="down"]',$.proxy(this,"spin")),e.delay&&this.delay(e.delay),e.changed&&this.changed(e.changed),e.changing&&this.changing(e.changing),e.rangemin&&this.rangemin(e.rangemin),e.rangemax&&this.rangemax(e.rangemax)},i.delay=500,i.prototype={constructor:i,spin:function(t){var e=$(t.currentTarget).data("spin");switch(t.type){case"click":t.preventDefault(),this.spinning.spin(e)}},delay:function t(e){var t=Number(e);t>=0&&(this.constructor.delay=t+100)},value:function(){return this.spinning.value()},changed:function(t){this.bindHandler("changed.spinner",t)},changing:function(t){this.bindHandler("changing.spinner",t)},rangemax:function(t){this.bindHandler("rangemax.spinner",t)},rangemin:function(t){this.bindHandler("rangemin.spinner",t)},bindHandler:function(t,e){$.isFunction(e)?this.$spinning.on(t,e):this.$spinning.off(t)},beginSpin:function(t){this.spinInterval=setInterval($.proxy(this.spinning,"spin",t),100)}};var a=$.fn.spinner;$.fn.spinner=function(t,e){return this.each(function(){var n=$.data(this,"spinner");n||(n=new i(this,t),$.data(this,"spinner",n)),"delay"===t||"changed"===t||"changing"===t?n[t](e):"step"===t&&e?n.spinning.step=e:"spin"===t&&e&&n.spinning.spin(e)})},$.fn.spinner.Constructor=i,$.fn.spinner.noConflict=function(){return $.fn.spinner=a,this},t.exports=$.fn.spinner}).call(e,i(1))},87:function(t,e,i){(function($){"use strict";var e,i,n,a=function(){e.off().on("click",function(){e.hide(),i.hide()}),i.off().on("click",function(){e.hide(),i.hide()})},s=function(t,s){var o={duration:2e3,callback:function(){}};$.extend(o,s||{}),clearTimeout(n),e=$('[data-action="publicMask"]'),i=$('[data-action="publicTips"]'),e.length>0?(e.show(),i.show().text(t)):($("body").append('<div data-action="publicMask" class="ordi-toast"></div><div class="ordi-toast-txt" data-action="publicTips">'+t+"</div>"),e=$('[data-action="publicMask"]'),i=$('[data-action="publicTips"]'),a()),i.css("margin",-i[0].offsetHeight/2+"px 0 0 "+-i.width()/2+"px"),n=setTimeout(function(){e.hide(),i.hide(),o.callback()},o.duration)};t.exports={init:s,events:a}}).call(e,i(1))},123:function(t,e,i){(function($){"use strict";var e=i(2),n=i(28),a=i(124),s=i(47),o={qq:"http://connect.qq.com/widget/shareqq/index.html",sina:"http://v.t.sina.com.cn/share/share.php",qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey"},r={url:"http://www.gomeplus.com",title:"国美PlusAPP边玩边分享，购物不孤单",pic:"http://www.gomeplus.com/images/logo.png",summary:"国美PlusAPP边玩边分享，购物不孤单"},l=function(t){window.open(t)},d=!1,c=function(){var t='<p data-node="shareBtnBox" class="share-down" style="z-index:21;"><span class="share-box"><span class="icon icon-up-arrow"></span><span class="icon-box"><em data-shareto="weixin" class="iconn-30"></em><em data-shareto="qq" class="iconn-32"></em><em data-shareto="sina" class="iconn-31"></em><em data-shareto="qzone" class="iconn-33"></em></span></span></p>';$("body").append(t),d=!0},u=function(t){!d&&c(),$("[data-node=shareBtnBox]").css({left:t.x,top:t.y}).show()},p=!1,f=function(){var t='<div class="share-weixin"><div class="wx-mask"></div><div class="wx-main"><div class="wx-code"><span></span><img data-node="shareWeixinCode" alt="分享到微信" /></div><p>打开微信扫一扫，即可分享</p><a href="javascript:;" title="点击关闭" class="wx-close">×</a></div></div>';$("body").append(t),p=!0},h=function(t,e){var i=[],n={title:t.title,url:t.url,summary:t.summary,desc:t.desc,site:t.site};e?n.pics=t.pic:n.pic=t.pic;for(var a in n)i.push(a+"="+encodeURIComponent(n[a]||""));return i.join("&")},g={weixin:function(t){var e=a(t.url);!p&&f(),$("[data-node=shareWeixinCode]")[0].src=e,$(".share-weixin").show(),$(".wx-close").on("click",function(){$(".share-weixin").hide()})},qq:function(t){var e=o.qq+"?"+h(t,!0);l(e)},sina:function(t){var e=o.sina+"?"+h(t);l(e)},qzone:function(t){var e=o.qzone+"?"+h(t,!0);l(e)}},m=function(t){var i="0"!==t.isRebate;e.get(n.get("shareGetGoodsKid"),{validate:i,data:{skuId:t.skuId,itemId:t.itemId,parentKid:t.parentKid},async:!1}).done(function(e){if(e.success===!0){var i=e.data.kid,n=t.shareInfo,a=n.url,s=a.indexOf("?");s>0&&(a=a.substring(0,s)),n.url=a+"?onlineUserId="+n.onlineUserId+"&kId="+i,g[t.shareto](n)}else g[t.shareto](t.shareInfo)}).fail(function(e){i?s()&&g[t.shareto](t.shareInfo):g[t.shareto](t.shareInfo)})},v=function(t){var e={title:t.title||r.title,url:t.url||r.url,pic:t.pic||r.pic,summary:t.summary||"",desc:t.desc||""};!!g[t.type]&&g[t.type](e)},x=function(t,e,i){var n=null;$item="string"==typeof t?$(t):t,e=e||"[data-action=shareto]",$item.on("mouseenter",e,function(t){var e=$(this).data("surl"),i=$(this).data("stitle"),a=$(this).data("spic");n={url:e,title:i,pic:a};var s=$(this).width(),o=$(this).height(),r=$(this).offset().left/1+s/2-80+"px",l=$(this).offset().top/1+(o-1)+"px";return u({x:r,y:l}),!1}),$item.on("mouseleave",e,function(t){return $("[data-node=shareBtnBox]").hide(),!1}),$("body").on("click","[data-shareto]",function(t){t.preventDefault(),shareType=$(this).data("shareto"),n.type=shareType,i=i||function(){},i.call(null,n),v(n)}),$("body").on("mouseenter","[data-node=shareBtnBox]",function(){$(this).show()}),$("body").on("mouseleave","[data-node=shareBtnBox]",function(){$(this).hide()})};t.exports={share:v,shareto:g,shareItem:x,shareWithKid:m}}).call(e,i(1))},124:function(t,e,i){(function(e){"use strict";var i=function(t){return e.wap_url+"q.php?t="+encodeURIComponent(t)};t.exports=i}).call(e,i(4))},125:function(t,e){"use strict";function i(t,e){for(var i=[],n=0,a=t.length;n<a;n++)i.push(t[n].substr(0,e));return i}function n(t){return function(e,i,n){var a=n[t].indexOf(i.charAt(0).toUpperCase()+i.substr(1).toLowerCase());~a&&(e.month=a)}}function a(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var s={},o=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r=/\d\d?/,l=/\d{3}/,d=/\d{4}/,c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,u=function(){},p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],h=i(f,3),g=i(p,3);s.i18n={dayNamesShort:g,dayNames:p,monthNamesShort:h,monthNames:f,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10)*t%10]}};var m={D:function(t){return t.getDate()},DD:function(t){return a(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return a(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return a(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return t.getFullYear()},h:function(t){return t.getHours()%12||12},hh:function(t){return a(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return a(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return a(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return a(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return a(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return a(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+a(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},v={D:[r,function(t,e){t.day=e}],M:[r,function(t,e){t.month=e-1}],YY:[r,function(t,e){var i=new Date,n=+(""+i.getFullYear()).substr(0,2);t.year=""+(e>68?n-1:n)+e}],h:[r,function(t,e){t.hour=e}],m:[r,function(t,e){t.minute=e}],s:[r,function(t,e){t.second=e}],YYYY:[d,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[l,function(t,e){t.millisecond=e}],d:[r,u],ddd:[c,u],MMM:[c,n("monthNamesShort")],MMMM:[c,n("monthNames")],a:[c,function(t,e,i){var n=e.toLowerCase();n===i.amPm[0]?t.isPm=!1:n===i.amPm[1]&&(t.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(t,e){var i,n=(e+"").match(/([\+\-]|\d\d)/gi);n&&(i=+(60*n[1])+parseInt(n[2],10),t.timezoneOffset="+"===n[0]?i:-i)}]};v.dd=v.d,v.dddd=v.ddd,v.Do=v.DD=v.D,v.mm=v.m,v.hh=v.H=v.HH=v.h,v.MM=v.M,v.ss=v.s,v.A=v.a,s.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},s.format=function(t,e,i){var n=i||s.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");return e=s.masks[e]||e||s.masks.default,e.replace(o,function(e){return e in m?m[e](t,n):e.slice(1,e.length-1)})},s.parse=function(t,e,i){var n=i||s.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=s.masks[e]||e,t.length>1e3)return!1;var a=!0,r={};if(e.replace(o,function(e){if(v[e]){var i=v[e],s=t.search(i[0]);~s?t.replace(i[0],function(e){return i[1](r,e,n),t=t.substr(s+e.length),e}):a=!1}return v[e]?"":e.slice(1,e.length-1)}),!a)return!1;var l=new Date;r.isPm===!0&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:r.isPm===!1&&12===+r.hour&&(r.hour=0);var d;return null!=r.timezoneOffset?(r.minute=+(r.minute||0)-+r.timezoneOffset,d=new Date(Date.UTC(r.year||l.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):d=new Date(r.year||l.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0),d},t.exports=s},169:function(t,e,n){(function(t){"use strict";!function($){var t={},e={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,pagerTriggerEvent:"click",controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};$.fn.bxSlider=function(n){if(0==this.length)return this;if(this.length>1)return this.each(function(){$(this).bxSlider(n)}),this;var a={},s=this;t.el=this;var o=$(window).width(),r=$(window).height(),l=function(){a.settings=$.extend({},e,n),a.settings.slideWidth=parseInt(a.settings.slideWidth),a.children=s.children(a.settings.slideSelector),a.children.length<a.settings.minSlides&&(a.settings.minSlides=a.children.length),a.children.length<a.settings.maxSlides&&(a.settings.maxSlides=a.children.length),a.settings.randomStart&&(a.settings.startSlide=Math.floor(Math.random()*a.children.length)),a.active={index:a.settings.startSlide},a.carousel=a.settings.minSlides>1||a.settings.maxSlides>1,a.carousel&&(a.settings.preloadImages="all"),a.minThreshold=a.settings.minSlides*a.settings.slideWidth+(a.settings.minSlides-1)*a.settings.slideMargin,a.maxThreshold=a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin,a.working=!1,a.controls={},a.interval=null,a.animProp="vertical"==a.settings.mode?"top":"left",a.usingCSS=a.settings.useCSS&&"fade"!=a.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return a.cssPrefix=e[i].replace("Perspective","").toLowerCase(),a.animProp="-"+a.cssPrefix+"-transform",!0;return!1}(),"vertical"==a.settings.mode&&(a.settings.maxSlides=a.settings.minSlides),s.data("origStyle",s.attr("style")),s.children(a.settings.slideSelector).each(function(){$(this).data("origStyle",$(this).attr("style"))}),d()},d=function(){s.wrap('<div class="'+a.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),a.viewport=s.parent(),a.loader=$('<div class="bx-loading" />'),a.viewport.prepend(a.loader),s.css({width:"horizontal"==a.settings.mode?100*a.children.length+215+"%":"auto",position:"relative"}),a.usingCSS&&a.settings.easing?s.css("-"+a.cssPrefix+"-transition-timing-function",a.settings.easing):a.settings.easing||(a.settings.easing="swing");g();a.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),a.viewport.parent().css({maxWidth:f()}),a.settings.pager||a.viewport.parent().css({margin:"0 auto 0px"}),a.children.css({float:"horizontal"==a.settings.mode?"left":"none",listStyle:"none",position:"relative"}),a.children.css("width",h()),"horizontal"==a.settings.mode&&a.settings.slideMargin>0&&a.children.css("marginRight",a.settings.slideMargin),"vertical"==a.settings.mode&&a.settings.slideMargin>0&&a.children.css("marginBottom",a.settings.slideMargin),"fade"==a.settings.mode&&(a.children.css({position:"absolute",zIndex:0,display:"none"}),a.children.eq(a.settings.startSlide).css({zIndex:a.settings.slideZIndex,display:"block"})),a.controls.el=$('<div class="bx-controls" />'),a.settings.captions&&k(),a.active.last=a.settings.startSlide==m()-1,a.settings.video&&s.fitVids();var t=a.children.eq(a.settings.startSlide);"all"==a.settings.preloadImages&&(t=a.children),a.settings.ticker?a.settings.pager=!1:(a.settings.pager&&S(),a.settings.controls&&w(),a.settings.auto&&a.settings.autoControls&&C(),(a.settings.controls||a.settings.autoControls||a.settings.pager)&&a.viewport.after(a.controls.el)),c(t,u)},c=function(t,e){var i=t.find("img, iframe").length;if(0==i)return void e();e()},u=function(){if(a.settings.infiniteLoop&&"fade"!=a.settings.mode&&!a.settings.ticker){var t="vertical"==a.settings.mode?a.settings.minSlides:a.settings.maxSlides,e=a.children.slice(0,t).clone().addClass("bx-clone"),i=a.children.slice(-t).clone().addClass("bx-clone");s.append(e).prepend(i)}a.loader.remove(),x(),"vertical"==a.settings.mode&&(a.settings.adaptiveHeight=!0),a.viewport.height(p()),s.redrawSlider(),a.settings.onSliderLoad(a.active.index),a.initialized=!0,a.settings.responsive&&$(window).bind("resize",z),a.settings.auto&&a.settings.autoStart&&(m()>1||a.settings.autoSlideForOnePage)&&A(),a.settings.ticker&&F(),a.settings.pager&&V(a.settings.startSlide),a.settings.controls&&E()},p=function(){var t=0,e=$();if("vertical"==a.settings.mode||a.settings.adaptiveHeight)if(a.carousel){var n=1==a.settings.moveSlides?a.active.index:a.active.index*v();for(e=a.children.eq(n),i=1;i<=a.settings.maxSlides-1;i++)e=n+i>=a.children.length?e.add(a.children.eq(i-1)):e.add(a.children.eq(n+i))}else e=a.children.eq(a.active.index);else e=a.children;return"vertical"==a.settings.mode?(e.each(function(e){t+=$(this).outerHeight()}),a.settings.slideMargin>0&&(t+=a.settings.slideMargin*(a.settings.minSlides-1))):t=Math.max.apply(Math,e.map(function(){return $(this).outerHeight(!1)}).get()),"border-box"==a.viewport.css("box-sizing")?t+=parseFloat(a.viewport.css("padding-top"))+parseFloat(a.viewport.css("padding-bottom"))+parseFloat(a.viewport.css("border-top-width"))+parseFloat(a.viewport.css("border-bottom-width")):"padding-box"==a.viewport.css("box-sizing")&&(t+=parseFloat(a.viewport.css("padding-top"))+parseFloat(a.viewport.css("padding-bottom"))),t},f=function(){var t="100%";return a.settings.slideWidth>0&&(t="horizontal"==a.settings.mode?a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin:a.settings.slideWidth),t},h=function(){var t=a.settings.slideWidth,e=a.viewport.width();return 0==a.settings.slideWidth||a.settings.slideWidth>e&&!a.carousel||"vertical"==a.settings.mode?t=e:a.settings.maxSlides>1&&"horizontal"==a.settings.mode&&(e>a.maxThreshold||e<a.minThreshold&&(t=(e-a.settings.slideMargin*(a.settings.minSlides-1))/a.settings.minSlides)),t},g=function(){var t=1;if("horizontal"==a.settings.mode&&a.settings.slideWidth>0)if(a.viewport.width()<a.minThreshold)t=a.settings.minSlides;else if(a.viewport.width()>a.maxThreshold)t=a.settings.maxSlides;else{var e=a.children.first().width()+a.settings.slideMargin;t=Math.floor((a.viewport.width()+a.settings.slideMargin)/e)}else"vertical"==a.settings.mode&&(t=a.settings.minSlides);return t},m=function(){var t=0;if(a.settings.moveSlides>0)if(a.settings.infiniteLoop)t=Math.ceil(a.children.length/v());else for(var e=0,i=0;e<a.children.length;)++t,e=i+g(),i+=a.settings.moveSlides<=g()?a.settings.moveSlides:g();else t=Math.ceil(a.children.length/g());return t},v=function(){return a.settings.moveSlides>0&&a.settings.moveSlides<=g()?a.settings.moveSlides:g()},x=function(){if(a.children.length>a.settings.maxSlides&&a.active.last&&!a.settings.infiniteLoop){if("horizontal"==a.settings.mode){var t=a.children.last(),e=t.position();y(-(e.left-(a.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"==a.settings.mode){var i=a.children.length-a.settings.minSlides,e=a.children.eq(i).position();y(-e.top,"reset",0)}}else{var e=a.children.eq(a.active.index*v()).position();a.active.index==m()-1&&(a.active.last=!0),void 0!=e&&("horizontal"==a.settings.mode?y(-e.left,"reset",0):"vertical"==a.settings.mode&&y(-e.top,"reset",0))}},y=function t(e,i,n,o){if(a.usingCSS){var r="vertical"==a.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";s.css("-"+a.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"==i?(s.css(a.animProp,r),s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),H()})):"reset"==i?s.css(a.animProp,r):"ticker"==i&&(s.css("-"+a.cssPrefix+"-transition-timing-function","linear"),s.css(a.animProp,r),s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),t(o.resetValue,"reset",0),N()}))}else{var l={};l[a.animProp]=e,"slide"==i?s.animate(l,n,a.settings.easing,function(){H()}):"reset"==i?s.css(a.animProp,e):"ticker"==i&&s.animate(l,speed,"linear",function(){t(o.resetValue,"reset",0),N()})}},b=function(){for(var t="",e=m(),i=0;i<e;i++){var n="";a.settings.buildPager&&$.isFunction(a.settings.buildPager)?(n=a.settings.buildPager(i),a.pagerEl.addClass("bx-custom-pager")):(n=i+1,a.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+n+"</a></div>"}a.pagerEl.html(t)},S=function(){a.settings.pagerCustom?a.pagerEl=$(a.settings.pagerCustom):(a.pagerEl=$('<div class="bx-pager" />'),a.settings.pagerSelector?$(a.settings.pagerSelector).html(a.pagerEl):a.controls.el.addClass("bx-has-pager").append(a.pagerEl),b()),a.pagerEl.on(a.settings.pagerTriggerEvent,"a",q)},w=function(){a.controls.next=$(a.settings.next),a.controls.prev=$(a.settings.prev),a.controls.next.bind("click",T),a.controls.prev.bind("click",P),a.settings.nextSelector&&$(a.settings.nextSelector).append(a.controls.next),a.settings.prevSelector&&$(a.settings.prevSelector).append(a.controls.prev),a.settings.nextSelector||a.settings.prevSelector||(a.controls.directionEl=$('<div class="bx-controls-direction" />'),a.controls.directionEl.append(a.controls.prev).append(a.controls.next),a.controls.el.addClass("bx-has-controls-direction").append(a.controls.directionEl))},C=function(){a.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+a.settings.startText+"</a></div>"),a.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+a.settings.stopText+"</a></div>"),a.controls.autoEl=$('<div class="bx-controls-auto" />'),a.controls.autoEl.on("click",".bx-start",I),a.controls.autoEl.on("click",".bx-stop",M),a.settings.autoControlsCombine?a.controls.autoEl.append(a.controls.start):a.controls.autoEl.append(a.controls.start).append(a.controls.stop),a.settings.autoControlsSelector?$(a.settings.autoControlsSelector).html(a.controls.autoEl):a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl),D(a.settings.autoStart?"stop":"start")},k=function(){a.children.each(function(t){var e=$(this).find("img:first").attr("title");void 0!=e&&(""+e).length&&$(this).append('<div class="bx-caption"><span>'+e+"</span></div>")})},T=function(t){a.settings.auto&&s.stopAuto(),s.goToNextSlide(),t.preventDefault()},P=function(t){a.settings.auto&&s.stopAuto(),s.goToPrevSlide(),t.preventDefault()},I=function(t){s.startAuto(),t.preventDefault()},M=function(t){s.stopAuto(),t.preventDefault()},q=function(t){a.settings.auto&&s.stopAuto();var e=$(t.currentTarget);if(void 0!==e.attr("data-slide-index")){var i=parseInt(e.attr("data-slide-index"));i!=a.active.index&&s.goToSlide(i),t.preventDefault()}},V=function(t){var e=a.children.length;return"short"==a.settings.pagerType?(a.settings.maxSlides>1&&(e=Math.ceil(a.children.length/a.settings.maxSlides)),void a.pagerEl.html(t+1+a.settings.pagerShortSeparator+e)):(a.pagerEl.find("a").removeClass("active"),void a.pagerEl.each(function(e,i){$(i).find("a").eq(t).addClass("active")}))},H=function(){if(a.settings.infiniteLoop){var t="";0==a.active.index?t=a.children.eq(0).position():a.active.index==m()-1&&a.carousel?t=a.children.eq((m()-1)*v()).position():a.active.index==a.children.length-1&&(t=a.children.eq(a.children.length-1).position()),t&&("horizontal"==a.settings.mode?y(-t.left,"reset",0):"vertical"==a.settings.mode&&y(-t.top,"reset",0))}a.working=!1,a.settings.onSlideAfter(a.children.eq(a.active.index),a.oldIndex,a.active.index)},D=function(t){a.settings.autoControlsCombine?a.controls.autoEl.html(a.controls[t]):(a.controls.autoEl.find("a").removeClass("active"),a.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},E=function(){1==m()?(a.controls.prev.addClass("disabled"),a.controls.next.addClass("disabled")):!a.settings.infiniteLoop&&a.settings.hideControlOnEnd&&(0==a.active.index?(a.controls.prev.addClass("disabled"),a.controls.next.removeClass("disabled")):a.active.index==m()-1?(a.controls.next.addClass("disabled"),a.controls.prev.removeClass("disabled")):(a.controls.prev.removeClass("disabled"),a.controls.next.removeClass("disabled")))},A=function(){if(a.settings.autoDelay>0){setTimeout(s.startAuto,a.settings.autoDelay)}else s.startAuto();a.settings.autoHover&&s.hover(function(){a.interval&&(s.stopAuto(!0),a.autoPaused=!0)},function(){a.autoPaused&&(s.startAuto(!0),a.autoPaused=null)})},F=function(){var t=0;if("next"==a.settings.autoDirection)s.append(a.children.clone().addClass("bx-clone"));else{s.prepend(a.children.clone().addClass("bx-clone"));var e=a.children.first().position();t="horizontal"==a.settings.mode?-e.left:-e.top}y(t,"reset",0),a.settings.pager=!1,a.settings.controls=!1,a.settings.autoControls=!1,a.settings.tickerHover&&!a.usingCSS&&a.viewport.hover(function(){s.stop()},function(){var t=0;a.children.each(function(e){t+="horizontal"==a.settings.mode?$(this).outerWidth(!0):$(this).outerHeight(!0)});var e=a.settings.speed/t,i="horizontal"==a.settings.mode?"left":"top",n=e*(t-Math.abs(parseInt(s.css(i))));N(n)}),N()},N=function(t){speed=t?t:a.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==a.settings.autoDirection?e=s.find(".bx-clone").first().position():i=a.children.first().position();var n="horizontal"==a.settings.mode?-e.left:-e.top,o="horizontal"==a.settings.mode?-i.left:-i.top,r={resetValue:o};y(n,"ticker",speed,r)},z=function(t){if(a.initialized){var e=$(window).width(),i=$(window).height();o==e&&r==i||(o=e,r=i,s.redrawSlider(),a.settings.onSliderResize.call(s,a.active.index))}};return s.goToSlide=function(t,e){if(!a.working&&a.active.index!=t)if(a.working=!0,a.oldIndex=a.active.index,t<0?a.active.index=m()-1:t>=m()?a.active.index=0:a.active.index=t,a.settings.onSlideBefore(a.children.eq(a.active.index),a.oldIndex,a.active.index),"next"==e?a.settings.onSlideNext(a.children.eq(a.active.index),a.oldIndex,a.active.index):"prev"==e&&a.settings.onSlidePrev(a.children.eq(a.active.index),a.oldIndex,a.active.index),a.active.last=a.active.index>=m()-1,a.settings.pager&&V(a.active.index),a.settings.controls&&E(),"fade"==a.settings.mode)a.settings.adaptiveHeight&&a.viewport.height()!=p()&&a.viewport.animate({height:p()},a.settings.adaptiveHeightSpeed),a.children.filter(":visible").fadeOut(a.settings.speed).css({zIndex:0}),a.children.eq(a.active.index).css("zIndex",a.settings.slideZIndex+1).fadeIn(a.settings.speed,function(){$(this).css("zIndex",a.settings.slideZIndex),H()});else{a.settings.adaptiveHeight&&a.viewport.height()!=p()&&a.viewport.animate({height:p()},a.settings.adaptiveHeightSpeed);var i=0,n={left:0,top:0};if(!a.settings.infiniteLoop&&a.carousel&&a.active.last)if("horizontal"==a.settings.mode){var o=a.children.eq(a.children.length-1);n=o.position(),i=a.viewport.width()-o.outerWidth()}else{var r=a.children.length-a.settings.minSlides;n=a.children.eq(r).position()}else if(a.carousel&&a.active.last&&"prev"==e){var l=1==a.settings.moveSlides?a.settings.maxSlides-v():(m()-1)*v()-(a.children.length-a.settings.maxSlides),o=s.children(".bx-clone").eq(l);n=o.position()}else if("next"==e&&0==a.active.index)n=s.find("> .bx-clone").eq(a.settings.maxSlides).position(),a.active.last=!1;else if(t>=0){var d=t*v();n=a.children.eq(d).position();
}if("undefined"!=typeof n){var c="horizontal"==a.settings.mode?-(n.left-i):-n.top;y(c,"slide",a.settings.speed)}}},s.goToNextSlide=function(){if(a.settings.infiniteLoop||!a.active.last){var t=parseInt(a.active.index)+1;s.goToSlide(t,"next")}},s.goToPrevSlide=function(){if(a.settings.infiniteLoop||0!=a.active.index){var t=parseInt(a.active.index)-1;s.goToSlide(t,"prev")}},s.startAuto=function(t){a.interval||(a.interval=setInterval(function(){"next"==a.settings.autoDirection?s.goToNextSlide():s.goToPrevSlide()},a.settings.pause),a.settings.autoControls&&1!=t&&D("stop"))},s.stopAuto=function(t){a.interval&&(clearInterval(a.interval),a.interval=null,a.settings.autoControls&&1!=t&&D("start"))},s.getCurrentSlide=function(){return a.active.index},s.getCurrentSlideElement=function(){return a.children.eq(a.active.index)},s.getSlideCount=function(){return a.children.length},s.redrawSlider=function(){a.children.add(s.find(".bx-clone")).width(h()),a.viewport.css("height",p()),a.settings.ticker||x(),a.active.last&&(a.active.index=m()-1),a.active.index>=m()&&(a.active.last=!0),a.settings.pager&&!a.settings.pagerCustom&&(b(),V(a.active.index))},s.destroySlider=function(){a.initialized&&(a.initialized=!1,$(".bx-clone",this).remove(),a.children.each(function(){void 0!=$(this).data("origStyle")?$(this).attr("style",$(this).data("origStyle")):$(this).removeAttr("style")}),void 0!=$(this).data("origStyle")?this.attr("style",$(this).data("origStyle")):$(this).removeAttr("style"),$(this).unwrap().unwrap(),a.controls.el&&a.controls.el.remove(),a.controls.next&&a.controls.next.remove(),a.controls.prev&&a.controls.prev.remove(),a.pagerEl&&a.settings.controls&&a.pagerEl.remove(),$(".bx-caption",this).remove(),a.controls.autoEl&&a.controls.autoEl.remove(),clearInterval(a.interval),a.settings.responsive&&$(window).unbind("resize",z))},s.reloadSlider=function(t){void 0!=t&&(n=t),s.destroySlider(),l()},l(),this}}(t)}).call(e,n(1))},170:function(t,e,i){(function($){"use strict";var e=$('div[data-node="topGoodInfo"]'),i=e.find('[data-node="topleft"]'),n=i.find('[data-node="leftBigBox"]'),a=i.find('[data-node="leftSmallBox"]'),s=i.find('[data-action="sliderTop"]'),o=i.find('[data-action="sliderDown"]'),r=a.find("li"),l=n.find("li"),d=0,c=75,u=5,p=r.length,f={init:function(){r.length>4?(f.setInit(),s.on("click",function(){f.moveTop()}),o.on("click",function(){f.moveDown()})):(o.addClass("disabled"),s.addClass("disabled")),r.on("click",function(){if(!$(this).hasClass("active")){var t=r.index($(this));$(this).addClass("active").siblings().removeClass("active"),l.hide().eq(t).show()}})},refresh:function(t){d=t},setInit:function(){0===d?s.addClass("disabled"):s.removeClass("disabled"),d===u-p?o.addClass("disabled"):o.removeClass("disabled"),a.css({position:"relative",width:c*p}).parent().css({position:"relative",width:c*u-5,overflow:"hidden"})},moveTop:function(t){d<0&&(a.is(":animated")||(d++,a.animate({left:d*c},300),o.removeClass("disabled"))),0===d?s.addClass("disabled"):s.removeClass("disabled")},moveDown:function(){d>u-p&&(a.is(":animated")||(d--,a.animate({left:d*c},300),s.removeClass("disabled"),d===u-p&&o.addClass("disabled")))}};t.exports=f}).call(e,i(1))},171:function(t,e,i){(function($,e){"use strict";var n=i(2),a=i(28),s=i(48),o=i(71),r=i(47);i(172);var l=i(87),d=$("#goodsThum"),c=d.parent(),u=$("[data-node=addCartErr]"),p=u.text(),f=$('[data-node="bannerShopCar"]'),h=function(t,e){var i=d.clone();i.appendTo(c).show();var n,a,s,o,r,l,u,p,h=$(window).scrollTop(),g=$(window).scrollLeft(),m=i.offset(),v=f.height(),x=f.width(),y=i.height(),b=i.width(),S=f.offset(),w={top:m.top-h-y/2,left:m.left-g-b/2},C={top:S.top-h+(v-y)/2,left:S.left-g+(x-b)/2},k=1.2,T=-1;i.velocity({left:1e3,top:1e3},{begin:function(t){g=$(window).scrollLeft(),h=$(window).scrollTop(),m=i.offset(),S=f.offset(),T=-1,w={top:m.top-h-y/2,left:m.left-g+b/2},C={top:S.top-h+(v-y)/2,left:S.left-g+(x-b)/2},$(t).css({position:"fixed",margin:0,top:w.top,left:w.left,zIndex:100}),n=Math.min(w.top,C.top)-Math.abs(w.left-C.left)/3,n<20&&(n=Math.min(20,Math.min(w.top,C.top))),a=Math.sqrt(Math.pow(w.top-C.top,2)+Math.pow(w.left-C.left,2)),s=Math.ceil(Math.min(Math.max(Math.log(a)/.05-75,30),100)/k),o=w.top==n?0:-Math.sqrt((C.top-n)/(w.top-n)),r=(o*w.left-C.left)/(o-1),l=C.left==r?0:(C.top-n)/Math.pow(C.left-r,2)},progress:function(e,a,o,d){u=w.left+(C.left-w.left)*T/s,p=0==l?w.top+(C.top-w.top)*T/s:l*Math.pow(u-r,2)+n,T++,$(e).css({left:u,top:p}),T===s+1&&(i.velocity("stop"),i.hide().remove(),t&&t())},duration:1e3*k})},g=function(t){var e;e&&(clearTimeout(e),e=null),u.show().removeClass("hide").text(t),e=setTimeout(function(){u.hide()},2e3)},m=function(t){var i=$(t.parent?t.parent:t.selector),d=t.parent?t.selector:void 0;i.on("click",d,function(){function t(t){return!$(i).hasClass("btn-default")&&("0"===e.skuId?(l.init("请选择规格参数"),!1):void n.get(a.get("addShopCar"),t).done(function(t){200===t.code?h(function(){s(o.shopCar.headerShopCar).pub({proNum:d});var t=parseInt(f.find("span").text());t+d<=99?f.find("span").text(t+d):t+d>99&&f.find("span").text("99+")}):g(t.message)}).fail(function(){r()&&g(p)}))}var i=this,d=~~$('[data-node="count"]').val(),c={validate:!0,data:{mshopid:~~e.shopId,skuid:~~e.skuId,quantity:d,kid:e.kid+"",source_code:e.sourceCode},onLogin:t,refresh:!0};return t(c),!1})};t.exports=m}).call(e,i(1),i(4))},172:function(t,e,i){var n,a;(function(t,s,o){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*! VelocityJS.org (1.3.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(e){function i(t){var e=t.length,i=$.type(t);return"function"!==i&&!$.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}if(!t){var $=function $(t,e){return new $.fn.init(t,e)};$.isWindow=function(t){return t&&t===t.window},$.type=function(t){return t?"object"===("undefined"==typeof t?"undefined":r(t))||"function"==typeof t?a[o.call(t)]||"object":"undefined"==typeof t?"undefined":r(t):t+""},$.isArray=Array.isArray||function(t){return"array"===$.type(t)},$.isPlainObject=function(t){var e;if(!t||"object"!==$.type(t)||t.nodeType||$.isWindow(t))return!1;try{if(t.constructor&&!s.call(t,"constructor")&&!s.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(e in t);return void 0===e||s.call(t,e)},$.each=function(t,e,n){var a,s=0,o=t.length,r=i(t);if(n){if(r)for(;s<o&&(a=e.apply(t[s],n),a!==!1);s++);else for(s in t)if(a=e.apply(t[s],n),a===!1)break}else if(r)for(;s<o&&(a=e.call(t[s],s,t[s]),a!==!1);s++);else for(s in t)if(a=e.call(t[s],s,t[s]),a===!1)break;return t},$.data=function(t,e,i){if(void 0===i){var a=t[$.expando],s=a&&n[a];if(void 0===e)return s;if(s&&e in s)return s[e]}else if(void 0!==e){var o=t[$.expando]||(t[$.expando]=++$.uuid);return n[o]=n[o]||{},n[o][e]=i,i}},$.removeData=function(t,e){var i=t[$.expando],a=i&&n[i];a&&(e?$.each(e,function(t,e){delete a[e]}):delete n[i])},$.extend=function(){var t,e,i,n,a,s,o=arguments[0]||{},l=1,d=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[l]||{},l++),"object"!==("undefined"==typeof o?"undefined":r(o))&&"function"!==$.type(o)&&(o={}),l===d&&(o=this,l--);l<d;l++)if(a=arguments[l])for(n in a)t=o[n],i=a[n],o!==i&&(c&&i&&($.isPlainObject(i)||(e=$.isArray(i)))?(e?(e=!1,s=t&&$.isArray(t)?t:[]):s=t&&$.isPlainObject(t)?t:{},o[n]=$.extend(c,s,i)):void 0!==i&&(o[n]=i));return o},$.queue=function(t,e,n){function a(t,e){var n=e||[];return t&&(i(Object(t))?!function(t,e){for(var i=+e.length,n=0,a=t.length;n<i;)t[a++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[a++]=e[n++];return t.length=a,t}(n,"string"==typeof t?[t]:t):[].push.call(n,t)),n}if(t){e=(e||"fx")+"queue";var s=$.data(t,e);return n?(!s||$.isArray(n)?s=$.data(t,e,a(n)):s.push(n),s):s||[]}},$.dequeue=function(t,e){$.each(t.nodeType?[t]:t,function(t,i){e=e||"fx";var n=$.queue(i,e),a=n.shift();"inprogress"===a&&(a=n.shift()),a&&("fx"===e&&n.unshift("inprogress"),a.call(i,function(){$.dequeue(i,e)}))})},$.fn=$.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function t(t){for(var e=t.offsetParent||document;e&&"html"!==e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var e=this[0],i=t(e),n=this.offset(),a=/^(?:body|html)$/i.test(i.nodeName)?{top:0,left:0}:$(i).offset();return n.top-=parseFloat(e.style.marginTop)||0,n.left-=parseFloat(e.style.marginLeft)||0,i.style&&(a.top+=parseFloat(i.style.borderTopWidth)||0,a.left+=parseFloat(i.style.borderLeftWidth)||0),{top:n.top-a.top,left:n.left-a.left}}};var n={};$.expando="velocity"+(new Date).getTime(),$.uuid=0;for(var a={},s=a.hasOwnProperty,o=a.toString,l="Boolean Number String Function Array Date RegExp Object Error".split(" "),d=0;d<l.length;d++)a["[object "+l[d]+"]"]=l[d].toLowerCase();$.fn.init.prototype=$.fn,e.Velocity={Utilities:$}}}(window),function(t){"object"===r(o)&&"object"===r(o.exports)?o.exports=t():(n=t,a="function"==typeof n?n.call(e,i,e,o):n,!(void 0!==a&&(o.exports=a)))}(function(){return function(t,e,i,n){function a(t){for(var e=-1,i=t?t.length:0,n=[];++e<i;){var a=t[e];a&&n.push(a)}return n}function o(t){return m.isWrapped(t)?t=[].slice.call(t):m.isNode(t)&&(t=[t]),t}function l(t){var e=$.data(t,"velocity");return null===e?n:e}function d(t){return function(e){return Math.round(e*t)*(1/t)}}function c(t,i,n,a){function s(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function r(t){return 3*t}function l(t,e,i){return((s(e,i)*t+o(e,i))*t+r(e))*t}function d(t,e,i){return 3*s(e,i)*t*t+2*o(e,i)*t+r(e)}function c(e,i){for(var a=0;a<g;++a){var s=d(i,t,n);if(0===s)return i;var o=l(i,t,n)-e;i-=o/s}return i}function u(){for(var e=0;e<y;++e)C[e]=l(e*b,t,n)}function p(e,i,a){var s,o,r=0;do o=i+(a-i)/2,s=l(o,t,n)-e,s>0?a=o:i=o;while(Math.abs(s)>v&&++r<x);return o}function f(e){for(var i=0,a=1,s=y-1;a!==s&&C[a]<=e;++a)i+=b;--a;var o=(e-C[a])/(C[a+1]-C[a]),r=i+o*b,l=d(r,t,n);return l>=m?c(e,r):0===l?r:p(e,i,i+b)}function h(){k=!0,t===i&&n===a||u()}var g=4,m=.001,v=1e-7,x=10,y=11,b=1/(y-1),S="Float32Array"in e;if(4!==arguments.length)return!1;for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var C=S?new Float32Array(y):new Array(y),k=!1,T=function(e){return k||h(),t===i&&n===a?e:0===e?0:1===e?1:l(f(e),i,a)};T.getControlPoints=function(){return[{x:t,y:i},{x:n,y:a}]};var P="generateBezier("+[t,i,n,a]+")";return T.toString=function(){return P},T}function u(t,e){var i=t;return m.isString(t)?b.Easings[t]||(i=!1):i=m.isArray(t)&&1===t.length?d.apply(null,t):m.isArray(t)&&2===t.length?S.apply(null,t.concat([e])):!(!m.isArray(t)||4!==t.length)&&c.apply(null,t),i===!1&&(i=b.Easings[b.defaults.easing]?b.defaults.easing:y),i}function p(t){if(t){var e=(new Date).getTime(),i=b.State.calls.length;i>1e4&&(b.State.calls=a(b.State.calls),i=b.State.calls.length);for(var s=0;s<i;s++)if(b.State.calls[s]){var o=b.State.calls[s],r=o[0],d=o[2],c=o[3],u=!!c,h=null;c||(c=b.State.calls[s][3]=e-16);for(var g=Math.min((e-c)/d.duration,1),v=0,x=r.length;v<x;v++){var y=r[v],S=y.element;if(l(S)){var C=!1;if(d.display!==n&&null!==d.display&&"none"!==d.display){if("flex"===d.display){var T=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];$.each(T,function(t,e){w.setPropertyValue(S,"display",e)})}w.setPropertyValue(S,"display",d.display)}d.visibility!==n&&"hidden"!==d.visibility&&w.setPropertyValue(S,"visibility",d.visibility);for(var P in y)if("element"!==P){var I,M=y[P],q=m.isString(M.easing)?b.Easings[M.easing]:M.easing;if(1===g)I=M.endValue;else{var V=M.endValue-M.startValue;if(I=M.startValue+V*q(g,d,V),!u&&I===M.currentValue)continue}if(M.currentValue=I,"tween"===P)h=I;else{var H;if(w.Hooks.registered[P]){H=w.Hooks.getRoot(P);var D=l(S).rootPropertyValueCache[H];D&&(M.rootPropertyValue=D)}var E=w.setPropertyValue(S,P,M.currentValue+(0===parseFloat(I)?"":M.unitType),M.rootPropertyValue,M.scrollData);w.Hooks.registered[P]&&(w.Normalizations.registered[H]?l(S).rootPropertyValueCache[H]=w.Normalizations.registered[H]("extract",null,E[1]):l(S).rootPropertyValueCache[H]=E[1]),"transform"===E[0]&&(C=!0)}}d.mobileHA&&l(S).transformCache.translate3d===n&&(l(S).transformCache.translate3d="(0px, 0px, 0px)",C=!0),C&&w.flushTransformCache(S)}}d.display!==n&&"none"!==d.display&&(b.State.calls[s][2].display=!1),d.visibility!==n&&"hidden"!==d.visibility&&(b.State.calls[s][2].visibility=!1),d.progress&&d.progress.call(o[1],o[1],g,Math.max(0,c+d.duration-e),c,h),1===g&&f(s)}}b.State.isTicking&&k(p)}function f(t,e){if(!b.State.calls[t])return!1;for(var i=b.State.calls[t][0],a=b.State.calls[t][1],s=b.State.calls[t][2],o=b.State.calls[t][4],r=!1,d=0,c=i.length;d<c;d++){var u=i[d].element;e||s.loop||("none"===s.display&&w.setPropertyValue(u,"display",s.display),"hidden"===s.visibility&&w.setPropertyValue(u,"visibility",s.visibility));var p=l(u);if(s.loop!==!0&&($.queue(u)[1]===n||!/\.velocityQueueEntryFlag/i.test($.queue(u)[1]))&&p){p.isAnimating=!1,p.rootPropertyValueCache={};var f=!1;$.each(w.Lists.transforms3D,function(t,e){var i=/^scale/.test(e)?1:0,a=p.transformCache[e];p.transformCache[e]!==n&&new RegExp("^\\("+i+"[^.]").test(a)&&(f=!0,delete p.transformCache[e])}),s.mobileHA&&(f=!0,delete p.transformCache.translate3d),f&&w.flushTransformCache(u),w.Values.removeClass(u,"velocity-animating")}if(!e&&s.complete&&!s.loop&&d===c-1)try{s.complete.call(a,a)}catch(t){setTimeout(function(){throw t},1)}o&&s.loop!==!0&&o(a),p&&s.loop===!0&&!e&&($.each(p.tweensContainer,function(t,e){if(/^rotate/.test(t)&&(parseFloat(e.startValue)-parseFloat(e.endValue))%360===0){var i=e.startValue;e.startValue=e.endValue,e.endValue=i}/^backgroundPosition/.test(t)&&100===parseFloat(e.endValue)&&"%"===e.unitType&&(e.endValue=0,e.startValue=100)}),b(u,"reverse",{loop:!0,delay:s.delay})),s.queue!==!1&&$.dequeue(u,s.queue)}b.State.calls[t]=!1;for(var h=0,g=b.State.calls.length;h<g;h++)if(b.State.calls[h]!==!1){r=!0;break}r===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var $,h=function(){if(i.documentMode)return i.documentMode;for(var t=7;t>4;t--){var e=i.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return n}(),g=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var i,n=(new Date).getTime();return i=Math.max(0,16-(n-t)),t=n+i,setTimeout(function(){e(n+i)},i)}}(),m={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"===("undefined"==typeof t?"undefined":r(t))&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==n&&(0===t.length||"object"===r(t[0])&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))},isSVG:function(t){return e.SVGElement&&t instanceof e.SVGElement},isEmptyObject:function(t){for(var e in t)return!1;return!0}},v=!1;if(t.fn&&t.fn.jquery?($=t,v=!0):$=e.Velocity.Utilities,h<=8&&!v)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(h<=7)return void(s.fn.velocity=s.fn.animate);var x=400,y="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:$,Redirects:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:x,easing:y,begin:n,complete:n,progress:n,display:n,visibility:n,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){$.data(t,"velocity",{isSVG:m.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,patch:0},debug:!1};e.pageYOffset!==n?(b.State.scrollAnchor=e,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var S=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,i,n){var a={x:e.x+n.dx*i,v:e.v+n.dv*i,tension:e.tension,friction:e.friction};return{dx:a.v,dv:t(a)}}function i(i,n){var a={dx:i.v,dv:t(i)},s=e(i,.5*n,a),o=e(i,.5*n,s),r=e(i,n,o),l=1/6*(a.dx+2*(s.dx+o.dx)+r.dx),d=1/6*(a.dv+2*(s.dv+o.dv)+r.dv);return i.x=i.x+l*n,i.v=i.v+d*n,i}return function t(e,n,a){var s,o,r,l={x:-1,v:0,tension:null,friction:null},d=[0],c=0,u=1e-4,p=.016;for(e=parseFloat(e)||500,n=parseFloat(n)||20,a=a||null,l.tension=e,l.friction=n,s=null!==a,s?(c=t(e,n),o=c/a*p):o=p;;)if(r=i(r||l,o),d.push(1+r.x),c+=16,!(Math.abs(r.x)>u&&Math.abs(r.v)>u))break;return s?function(t){return d[t*(d.length-1)|0]}:c}}();b.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},$.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(t,e){b.Easings[e[0]]=c.apply(null,e[1])});var w=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<w.Lists.colors.length;t++){var e="color"===w.Lists.colors[t]?"0 0 0 1":"255 255 255 1";w.Hooks.templates[w.Lists.colors[t]]=["Red Green Blue Alpha",e]}var i,n,a;if(h)for(i in w.Hooks.templates){n=w.Hooks.templates[i],a=n[0].split(" ");var s=n[1].match(w.RegEx.valueSplit);"Color"===a[0]&&(a.push(a.shift()),s.push(s.shift()),w.Hooks.templates[i]=[a.join(" "),s.join(" ")])}for(i in w.Hooks.templates){n=w.Hooks.templates[i],a=n[0].split(" ");for(var o in a){var r=i+a[o],l=o;w.Hooks.registered[r]=[i,l]}}},getRoot:function(t){var e=w.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return w.RegEx.valueUnwrap.test(e)&&(e=e.match(w.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(e)&&(e=w.Hooks.templates[t][1]),e},extractValue:function(t,e){var i=w.Hooks.registered[t];if(i){var n=i[0],a=i[1];return e=w.Hooks.cleanRootPropertyValue(n,e),e.toString().match(w.RegEx.valueSplit)[a]}return e},injectValue:function(t,e,i){var n=w.Hooks.registered[t];if(n){var a,s,o=n[0],r=n[1];return i=w.Hooks.cleanRootPropertyValue(o,i),a=i.toString().match(w.RegEx.valueSplit),a[r]=e,s=a.join(" ")}return i}},Normalizations:{registered:{clip:function(t,e,i){switch(t){case"name":return"clip";case"extract":var n;return w.RegEx.wrappedValueAlreadyExtracted.test(i)?n=i:(n=i.toString().match(w.RegEx.valueUnwrap),n=n?n[1].replace(/,(\s+)?/g," "):i),n;case"inject":return"rect("+i+")"}},blur:function(t,e,i){switch(t){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var n=parseFloat(i);if(!n&&0!==n){var a=i.toString().match(/blur\(([0-9]+[A-z]+)\)/i);n=a?a[1]:0}return n;case"inject":return parseFloat(i)?"blur("+i+")":"none"}},opacity:function(t,e,i){if(h<=8)switch(t){case"name":return"filter";case"extract":var n=i.toString().match(/alpha\(opacity=(.*)\)/i);return i=n?n[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(t){case"name":return"opacity";case"extract":return i;case"inject":return i}}},register:function(){h&&!(h>9)||b.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var t=0;t<w.Lists.transformsBase.length;t++)!function(){var e=w.Lists.transformsBase[t];w.Normalizations.registered[e]=function(t,i,a){switch(t){case"name":return"transform";case"extract":return l(i)===n||l(i).transformCache[e]===n?/^scale/i.test(e)?1:0:l(i).transformCache[e].replace(/[()]/g,"");case"inject":var s=!1;switch(e.substr(0,e.length-1)){case"translate":s=!/(%|px|em|rem|vw|vh|\d)$/i.test(a);break;case"scal":case"scale":b.State.isAndroid&&l(i).transformCache[e]===n&&a<1&&(a=1),s=!/(\d)$/i.test(a);break;case"skew":s=!/(deg|\d)$/i.test(a);break;case"rotate":s=!/(deg|\d)$/i.test(a)}return s||(l(i).transformCache[e]="("+a+")"),l(i).transformCache[e]}}}();for(var e=0;e<w.Lists.colors.length;e++)!function(){var t=w.Lists.colors[e];w.Normalizations.registered[t]=function(e,i,a){switch(e){case"name":return t;case"extract":var s;if(w.RegEx.wrappedValueAlreadyExtracted.test(a))s=a;else{var o,r={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(a)?o=r[a]!==n?r[a]:r.black:w.RegEx.isHex.test(a)?o="rgb("+w.Values.hexToRgb(a).join(" ")+")":/^rgba?\(/i.test(a)||(o=r.black),s=(o||a).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!h||h>8)&&3===s.split(" ").length&&(s+=" 1"),s;case"inject":return h<=8?4===a.split(" ").length&&(a=a.split(/\s+/).slice(0,3).join(" ")):3===a.split(" ").length&&(a+=" 1"),(h<=8?"rgb":"rgba")+"("+a.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(h||b.State.isAndroid&&!b.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(b.State.prefixMatches[t])return[b.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],i=0,n=e.length;i<n;i++){var a;if(a=0===i?t:e[i]+t.replace(/^\w/,function(t){return t.toUpperCase()}),m.isString(b.State.prefixElement.style[a]))return b.State.prefixMatches[t]=a,[a,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(i,function(t,e,i,n){return e+e+i+i+n+n}),e=n.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return!t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t&&t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":/^(table)$/i.test(e)?"table":/^(tbody)$/i.test(e)?"table-row-group":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,i,a,s){function o(t,i){var a=0;if(h<=8)a=$.css(t,i);else{var r=!1;/^(width|height)$/.test(i)&&0===w.getPropertyValue(t,"display")&&(r=!0,w.setPropertyValue(t,"display",w.Values.getDisplayType(t)));var d=function(){r&&w.setPropertyValue(t,"display","none")};if(!s){if("height"===i&&"border-box"!==w.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var c=t.offsetHeight-(parseFloat(w.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(w.getPropertyValue(t,"paddingBottom"))||0);return d(),c}if("width"===i&&"border-box"!==w.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var u=t.offsetWidth-(parseFloat(w.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(t,"paddingRight"))||0);return d(),u}}var p;p=l(t)===n?e.getComputedStyle(t,null):l(t).computedStyle?l(t).computedStyle:l(t).computedStyle=e.getComputedStyle(t,null),"borderColor"===i&&(i="borderTopColor"),a=9===h&&"filter"===i?p.getPropertyValue(i):p[i],""!==a&&null!==a||(a=t.style[i]),d()}if("auto"===a&&/^(top|right|bottom|left)$/i.test(i)){var f=o(t,"position");("fixed"===f||"absolute"===f&&/top|left/i.test(i))&&(a=$(t).position()[i]+"px")}return a}var r;if(w.Hooks.registered[i]){var d=i,c=w.Hooks.getRoot(d);a===n&&(a=w.getPropertyValue(t,w.Names.prefixCheck(c)[0])),w.Normalizations.registered[c]&&(a=w.Normalizations.registered[c]("extract",t,a)),r=w.Hooks.extractValue(d,a)}else if(w.Normalizations.registered[i]){var u,p;u=w.Normalizations.registered[i]("name",t),"transform"!==u&&(p=o(t,w.Names.prefixCheck(u)[0]),w.Values.isCSSNullValue(p)&&w.Hooks.templates[i]&&(p=w.Hooks.templates[i][1])),r=w.Normalizations.registered[i]("extract",t,p)}if(!/^[\d-]/.test(r)){var f=l(t);if(f&&f.isSVG&&w.Names.SVGAttribute(i))if(/^(height|width)$/i.test(i))try{r=t.getBBox()[i]}catch(t){r=0}else r=t.getAttribute(i);else r=o(t,w.Names.prefixCheck(i)[0])}return w.Values.isCSSNullValue(r)&&(r=0),b.debug>=2,r},setPropertyValue:function(t,i,n,a,s){var o=i;if("scroll"===i)s.container?s.container["scroll"+s.direction]=n:"Left"===s.direction?e.scrollTo(n,s.alternateValue):e.scrollTo(s.alternateValue,n);else if(w.Normalizations.registered[i]&&"transform"===w.Normalizations.registered[i]("name",t))w.Normalizations.registered[i]("inject",t,n),o="transform",n=l(t).transformCache[i];else{if(w.Hooks.registered[i]){var r=i,d=w.Hooks.getRoot(i);a=a||w.getPropertyValue(t,d),n=w.Hooks.injectValue(r,n,a),i=d}if(w.Normalizations.registered[i]&&(n=w.Normalizations.registered[i]("inject",t,n),i=w.Normalizations.registered[i]("name",t)),o=w.Names.prefixCheck(i)[0],h<=8)try{t.style[o]=n}catch(t){b.debug}else{var c=l(t);c&&c.isSVG&&w.Names.SVGAttribute(i)?t.setAttribute(i,n):t.style[o]=n}b.debug>=2}return[o,n]},flushTransformCache:function(t){var e="",i=l(t);if((h||b.State.isAndroid&&!b.State.isChrome)&&i&&i.isSVG){var n=function(e){return parseFloat(w.getPropertyValue(t,e))},a={translate:[n("translateX"),n("translateY")],skewX:[n("skewX")],skewY:[n("skewY")],scale:1!==n("scale")?[n("scale"),n("scale")]:[n("scaleX"),n("scaleY")],rotate:[n("rotateZ"),0,0]};$.each(l(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),a[t]&&(e+=t+"("+a[t].join(" ")+") ",delete a[t])})}else{var s,o;$.each(l(t).transformCache,function(i){return s=l(t).transformCache[i],"transformPerspective"===i?(o=s,!0):(9===h&&"rotateZ"===i&&(i="rotate"),void(e+=i+s+" "))}),o&&(e="perspective"+o+" "+e)}w.setPropertyValue(t,"transform",e)}};w.Hooks.register(),w.Normalizations.register(),b.hook=function(t,e,i){var a;return t=o(t),$.each(t,function(t,s){if(l(s)===n&&b.init(s),i===n)a===n&&(a=b.CSS.getPropertyValue(s,e));else{var o=b.CSS.setPropertyValue(s,e,i);"transform"===o[0]&&b.CSS.flushTransformCache(s),a=o}}),a};var C=function t(){function a(){return d?I.promise||null:c}function s(t,a){function s(s){var c,f;if(r.begin&&0===k)try{r.begin.call(g,g)}catch(t){setTimeout(function(){throw t},1)}if("scroll"===M){var h,x,S,T=/^x$/i.test(r.axis)?"Left":"Top",P=parseFloat(r.offset)||0;r.container?m.isWrapped(r.container)||m.isNode(r.container)?(r.container=r.container[0]||r.container,h=r.container["scroll"+T],S=h+$(t).position()[T.toLowerCase()]+P):r.container=null:(h=b.State.scrollAnchor[b.State["scrollProperty"+T]],x=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===T?"Top":"Left")]],S=$(t).offset()[T.toLowerCase()]+P),d={scroll:{rootPropertyValue:!1,startValue:h,currentValue:h,endValue:S,unitType:"",easing:r.easing,scrollData:{container:r.container,direction:T,alternateValue:x}},element:t},b.debug}else if("reverse"===M){if(c=l(t),!c)return;if(!c.tweensContainer)return void $.dequeue(t,r.queue);"none"===c.opts.display&&(c.opts.display="auto"),"hidden"===c.opts.visibility&&(c.opts.visibility="visible"),c.opts.loop=!1,c.opts.begin=null,c.opts.complete=null,y.easing||delete r.easing,y.duration||delete r.duration,r=$.extend({},c.opts,r),f=$.extend(!0,{},c?c.tweensContainer:null);for(var q in f)if("element"!==q){var V=f[q].startValue;f[q].startValue=f[q].currentValue=f[q].endValue,f[q].endValue=V,m.isEmptyObject(y)||(f[q].easing=r.easing),b.debug}d=f}else if("start"===M){c=l(t),c&&c.tweensContainer&&c.isAnimating===!0&&(f=c.tweensContainer);var H=function(e,i){var s,o,l;return m.isArray(e)?(s=e[0],!m.isArray(e[1])&&/^[\d-]/.test(e[1])||m.isFunction(e[1])||w.RegEx.isHex.test(e[1])?l=e[1]:(m.isString(e[1])&&!w.RegEx.isHex.test(e[1])||m.isArray(e[1]))&&(o=i?e[1]:u(e[1],r.duration),e[2]!==n&&(l=e[2]))):s=e,i||(o=o||r.easing),m.isFunction(s)&&(s=s.call(t,a,C)),m.isFunction(l)&&(l=l.call(t,a,C)),[s||0,o,l]};$.each(v,function(t,e){if(RegExp("^"+w.Lists.colors.join("$|^")+"$").test(w.Names.camelCase(t))){var i=H(e,!0),a=i[0],s=i[1],o=i[2];if(w.RegEx.isHex.test(a)){for(var r=["Red","Green","Blue"],l=w.Values.hexToRgb(a),d=o?w.Values.hexToRgb(o):n,c=0;c<r.length;c++){var u=[l[c]];s&&u.push(s),d!==n&&u.push(d[c]),v[w.Names.camelCase(t)+r[c]]=u}delete v[t]}}});for(var D in v){var F=H(v[D]),N=F[0],z=F[1],L=F[2];D=w.Names.camelCase(D);var Y=w.Hooks.getRoot(D),j=!1;if(c&&c.isSVG||"tween"===Y||w.Names.prefixCheck(Y)[1]!==!1||w.Normalizations.registered[Y]!==n){(r.display!==n&&null!==r.display&&"none"!==r.display||r.visibility!==n&&"hidden"!==r.visibility)&&/opacity|filter/.test(D)&&!L&&0!==N&&(L=0),r._cacheValues&&f&&f[D]?(L===n&&(L=f[D].endValue+f[D].unitType),j=c.rootPropertyValueCache[Y]):w.Hooks.registered[D]?L===n?(j=w.getPropertyValue(t,Y),L=w.getPropertyValue(t,D,j)):j=w.Hooks.templates[Y][1]:L===n&&(L=w.getPropertyValue(t,D));var R,B,W,O=!1,G=function(t,e){var i,n;return n=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(t){return i=t,""}),i||(i=w.Values.getUnitType(t)),[n,i]};R=G(D,L),L=R[0],W=R[1],R=G(D,N),N=R[0].replace(/^([+-\/*])=/,function(t,e){return O=e,""}),B=R[1],L=parseFloat(L)||0,N=parseFloat(N)||0,"%"===B&&(/^(fontSize|lineHeight)$/.test(D)?(N/=100,B="em"):/^scale/.test(D)?(N/=100,B=""):/(Red|Green|Blue)$/i.test(D)&&(N=N/100*255,B=""));var U=function(){var n={myParent:t.parentNode||i.body,position:w.getPropertyValue(t,"position"),fontSize:w.getPropertyValue(t,"fontSize")},a=n.position===E.lastPosition&&n.myParent===E.lastParent,s=n.fontSize===E.lastFontSize;E.lastParent=n.myParent,E.lastPosition=n.position,E.lastFontSize=n.fontSize;var o=100,r={};if(s&&a)r.emToPx=E.lastEmToPx,r.percentToPxWidth=E.lastPercentToPxWidth,r.percentToPxHeight=E.lastPercentToPxHeight;else{var l=c&&c.isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div");b.init(l),n.myParent.appendChild(l),$.each(["overflow","overflowX","overflowY"],function(t,e){b.CSS.setPropertyValue(l,e,"hidden")}),b.CSS.setPropertyValue(l,"position",n.position),b.CSS.setPropertyValue(l,"fontSize",n.fontSize),b.CSS.setPropertyValue(l,"boxSizing","content-box"),$.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,e){b.CSS.setPropertyValue(l,e,o+"%")}),b.CSS.setPropertyValue(l,"paddingLeft",o+"em"),r.percentToPxWidth=E.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(l,"width",null,!0))||1)/o,r.percentToPxHeight=E.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(l,"height",null,!0))||1)/o,r.emToPx=E.lastEmToPx=(parseFloat(w.getPropertyValue(l,"paddingLeft"))||1)/o,n.myParent.removeChild(l)}return null===E.remToPx&&(E.remToPx=parseFloat(w.getPropertyValue(i.body,"fontSize"))||16),null===E.vwToPx&&(E.vwToPx=parseFloat(e.innerWidth)/100,E.vhToPx=parseFloat(e.innerHeight)/100),r.remToPx=E.remToPx,r.vwToPx=E.vwToPx,r.vhToPx=E.vhToPx,b.debug>=1,r};if(/[\/*]/.test(O))B=W;else if(W!==B&&0!==L)if(0===N)B=W;else{o=o||U();var _=/margin|padding|left|right|width|text|word|letter/i.test(D)||/X$/.test(D)||"x"===D?"x":"y";switch(W){case"%":L*="x"===_?o.percentToPxWidth:o.percentToPxHeight;break;case"px":break;default:L*=o[W+"ToPx"]}switch(B){case"%":L*=1/("x"===_?o.percentToPxWidth:o.percentToPxHeight);break;case"px":break;default:L*=1/o[B+"ToPx"]}}switch(O){case"+":N=L+N;break;case"-":N=L-N;break;case"*":N*=L;break;case"/":N=L/N}d[D]={rootPropertyValue:j,startValue:L,currentValue:L,endValue:N,unitType:B,easing:z},b.debug}else b.debug}d.element=t}d.element&&(w.Values.addClass(t,"velocity-animating"),A.push(d),c=l(t),c&&(""===r.queue&&(c.tweensContainer=d,c.opts=r),c.isAnimating=!0),k===C-1?(b.State.calls.push([A,g,r,null,I.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,p())):k++)}var o,r=$.extend({},b.defaults,y),d={};switch(l(t)===n&&b.init(t),parseFloat(r.delay)&&r.queue!==!1&&$.queue(t,r.queue,function(e){b.velocityQueueEntryFlag=!0,l(t).delayTimer={setTimeout:setTimeout(e,parseFloat(r.delay)),next:e}}),r.duration.toString().toLowerCase()){case"fast":r.duration=200;break;case"normal":r.duration=x;break;case"slow":r.duration=600;break;default:r.duration=parseFloat(r.duration)||1}b.mock!==!1&&(b.mock===!0?r.duration=r.delay=1:(r.duration*=parseFloat(b.mock)||1,r.delay*=parseFloat(b.mock)||1)),r.easing=u(r.easing,r.duration),r.begin&&!m.isFunction(r.begin)&&(r.begin=null),r.progress&&!m.isFunction(r.progress)&&(r.progress=null),r.complete&&!m.isFunction(r.complete)&&(r.complete=null),r.display!==n&&null!==r.display&&(r.display=r.display.toString().toLowerCase(),"auto"===r.display&&(r.display=b.CSS.Values.getDisplayType(t))),r.visibility!==n&&null!==r.visibility&&(r.visibility=r.visibility.toString().toLowerCase()),r.mobileHA=r.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,r.queue===!1?r.delay?setTimeout(s,r.delay):s():$.queue(t,r.queue,function(t,e){return e===!0?(I.promise&&I.resolver(g),!0):(b.velocityQueueEntryFlag=!0,void s(t))}),""!==r.queue&&"fx"!==r.queue||"inprogress"===$.queue(t)[0]||$.dequeue(t)}var r,d,c,h,g,v,y,S=arguments[0]&&(arguments[0].p||$.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(d=!1,h=0,g=this,c=this):(d=!0,h=1,g=S?arguments[0].elements||arguments[0].e:arguments[0]),g=o(g)){S?(v=arguments[0].properties||arguments[0].p,y=arguments[0].options||arguments[0].o):(v=arguments[h],y=arguments[h+1]);var C=g.length,k=0;if(!/^(stop|finish|finishAll)$/i.test(v)&&!$.isPlainObject(y)){var T=h+1;y={};for(var P=T;P<arguments.length;P++)m.isArray(arguments[P])||!/^(fast|normal|slow)$/i.test(arguments[P])&&!/^\d/.test(arguments[P])?m.isString(arguments[P])||m.isArray(arguments[P])?y.easing=arguments[P]:m.isFunction(arguments[P])&&(y.complete=arguments[P]):y.duration=arguments[P]}var I={promise:null,resolver:null,rejecter:null};d&&b.Promise&&(I.promise=new b.Promise(function(t,e){I.resolver=t,I.rejecter=e}));var M;switch(v){case"scroll":M="scroll";break;case"reverse":M="reverse";break;case"finish":case"finishAll":case"stop":$.each(g,function(t,e){l(e)&&l(e).delayTimer&&(clearTimeout(l(e).delayTimer.setTimeout),l(e).delayTimer.next&&l(e).delayTimer.next(),delete l(e).delayTimer),"finishAll"!==v||y!==!0&&!m.isString(y)||($.each($.queue(e,m.isString(y)?y:""),function(t,e){m.isFunction(e)&&e()}),$.queue(e,m.isString(y)?y:"",[]))});var q=[];return $.each(b.State.calls,function(t,e){e&&$.each(e[1],function(i,a){var s=y===n?"":y;return s!==!0&&e[2].queue!==s&&(y!==n||e[2].queue!==!1)||void $.each(g,function(i,n){if(n===a)if((y===!0||m.isString(y))&&($.each($.queue(n,m.isString(y)?y:""),function(t,e){m.isFunction(e)&&e(null,!0)}),$.queue(n,m.isString(y)?y:"",[])),"stop"===v){var o=l(n);o&&o.tweensContainer&&s!==!1&&$.each(o.tweensContainer,function(t,e){
e.endValue=e.currentValue}),q.push(t)}else"finish"!==v&&"finishAll"!==v||(e[2].duration=1)})})}),"stop"===v&&($.each(q,function(t,e){f(e,!0)}),I.promise&&I.resolver(g)),a();default:if(!$.isPlainObject(v)||m.isEmptyObject(v)){if(m.isString(v)&&b.Redirects[v]){r=$.extend({},y);var V=r.duration,H=r.delay||0;return r.backwards===!0&&(g=$.extend(!0,[],g).reverse()),$.each(g,function(t,e){parseFloat(r.stagger)?r.delay=H+parseFloat(r.stagger)*t:m.isFunction(r.stagger)&&(r.delay=H+r.stagger.call(e,t,C)),r.drag&&(r.duration=parseFloat(V)||(/^(callout|transition)/.test(v)?1e3:x),r.duration=Math.max(r.duration*(r.backwards?1-t/C:(t+1)/C),.75*r.duration,200)),b.Redirects[v].call(e,e,r||{},t,C,g,I.promise?I:n)}),a()}var D="Velocity: First argument ("+v+") was not a property map, a known action, or a registered redirect. Aborting.";return I.promise&&I.rejecter(new Error(D)),a()}M="start"}var E={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},A=[];$.each(g,function(t,e){m.isNode(e)&&s(e,t)}),r=$.extend({},b.defaults,y),r.loop=parseInt(r.loop,10);var F=2*r.loop-1;if(r.loop)for(var N=0;N<F;N++){var z={delay:r.delay,progress:r.progress};N===F-1&&(z.display=r.display,z.visibility=r.visibility,z.complete=r.complete),t(g,"reverse",z)}return a()}};b=$.extend(C,b),b.animate=C;var k=e.requestAnimationFrame||g;return b.State.isMobile||i.hidden===n||i.addEventListener("visibilitychange",function(){i.hidden?(k=function(t){return setTimeout(function(){t(!0)},16)},p()):k=e.requestAnimationFrame||g}),t.Velocity=b,t!==e&&(t.fn.velocity=C,t.fn.velocity.defaults=b.defaults),$.each(["Down","Up"],function(t,e){b.Redirects["slide"+e]=function(t,i,a,s,o,r){var l=$.extend({},i),d=l.begin,c=l.complete,u={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},p={};l.display===n&&(l.display="Down"===e?"inline"===b.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),l.begin=function(){d&&d.call(o,o);for(var i in u){p[i]=t.style[i];var n=b.CSS.getPropertyValue(t,i);u[i]="Down"===e?[n,0]:[0,n]}p.overflow=t.style.overflow,t.style.overflow="hidden"},l.complete=function(){for(var e in p)t.style[e]=p[e];c&&c.call(o,o),r&&r.resolver(o)},b(t,u,l)}}),$.each(["In","Out"],function(t,e){b.Redirects["fade"+e]=function(t,i,a,s,o,r){var l=$.extend({},i),d=l.complete,c={opacity:"In"===e?1:0};a!==s-1?l.complete=l.begin=null:l.complete=function(){d&&d.call(o,o),r&&r.resolver(o)},l.display===n&&(l.display="In"===e?"auto":"none"),b(this,c,l)}}),b}(t||window.Zepto||window,window,document)})}).call(e,i(1),i(1),i(173)(t))},173:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},174:function(t,e,i){(function(e,$){"use strict";var n=i(3),a=i(87),s=i(47),o=function(t,i){var i,o=(t.find('[data-action="buybtn"]'),t.find('[data-node="buyInfo"]')),r=t.find('[data-node="isCross"]'),l=null,d=function(){var n=l;i=i||~~t.find('[data-node="count"]').val();var a='[{"shopId":'+e.shopId+',"kId":"'+(""===e.kid?"":e.kid)+'","skuId":'+e.skuId+',"proNum":'+i+',"source_code":{"sourceCode":"'+e.sourceCode+'"}}]',s='[{"isCross":"'+e.isCross+'"}]';o.val(a),r.val(s),n.parents('[data-node="buynow"]').submit()};t.on("click",'[data-action="buybtn"]',function(){return l=$(this),!l.hasClass("btn-default")&&("0"===e.skuId?(a.init("请选择规格参数"),!1):s()?void d():(n({onLogin:d}),!1))})};t.exports=o}).call(e,i(4),i(1))},175:function(t,e,i){(function($,e){"use strict";var n,a=i(2),s=i(28),o=i(87),r=i(47),l=!1,d=function(t,i){var d=$(t.parent?t.parent:t.selector),c=t.parent?t.selector:void 0;d.on("click",c,function(){function t(t){a.post(n,t).done(function(t){200===t.code?(c?$(d).addClass("active").attr("data-collect","collect"):$(d).removeClass("active").attr("data-collect",""),u.call(d,c)):o.init(t.message)}).fail(function(t){r()&&o.init("店铺收藏失败")}).always(function(){l=!1})}var d=this,c=!0,u=i||function(){},p={validate:!0,data:{shopId:e.shopId}};return l||(l=!0,""===$(d).attr("data-collect")?(n=s.get("shopCollect"),c=!0):(n=s.get("unShopCollect"),c=!1)),t(p),!1})};t.exports=d}).call(e,i(1),i(4))},176:function(t,e,i){(function($,e){"use strict";var n=i(2),a=i(28),s=function(){},o=function(t,e,i){t.data("collect",e),t.data("count",i)},r={normal:{add:function(t,e,i){t.find("em").addClass("active"),t.find("span").text(i)},reduce:function(t,e,i){t.find("em").removeClass("active"),t.find("span").text(i)}},goodInfoCollect:{add:function(t,e){t.addClass("active")},reduce:function(t,e){t.removeClass("active")}}},l=function(t){return r[t]},d=function(t,i,r){var d=$(t),c=r.onCollect||s,u=r.onUnCollect||s,p=r.onFailed||s,f=r.mode||"normal";d.on("click",i,function(){function t(t){n.post(h,t).done(function(t){var e=l(f);t&&200===t.code&&t.success?1===~~r?(i.attr("data-isCollect",0),o(i,0,++d),e.add(i,t,d),c.call(i,t,d)):0===~~r&&(i.attr("data-isCollect",1),o(i,1,--d),e.reduce(i,t,d),u.call(i,t,d)):p.call(i)}).fail(function(t){p.call(i)}).always(function(){i.data("firing",0)})}var i=$(this),s=i.data("firing");if(1!==s){i.data("firing",1);var r=i.attr("data-isCollect"),d=i.data("count"),h=0===~~r?a.get("productUnCollect"):a.get("productCollect"),g={validate:!0,data:{shopId:e.shopId,productId:e.productId},onLogin:t,refresh:!0};return t(g),!1}})};t.exports=d}).call(e,i(1),i(4))},177:function(t,e,i){(function($,e){"use strict";var n=i(2),a=i(28);i(178).init();var s=$("[data-trigger=spinner]").data("spinner"),o=$('div[data-node="topGoodInfo"]'),r=o.find('[data-node="topleft"]'),l=o.find('[data-node="firstParams"]'),d=o.find('[data-node="repert"]'),c=o.find('[data-node="price"]'),u=o.find('[data-node="iscargo"]'),p=o.find('[data-action="addShopCar"]'),f=o.find('[data-action="buybtn"]'),h=o.find('[data-node="leftSmallBox"] li'),g=o.find('[data-node="originPrice"]'),m=o.find('[data-node="stockBox"]'),v=r.find('[data-node="leftBigBox"] li'),x=$("#goodsThum"),y=e.sku_list,b=function(t,i){t=t||function(){},i=i||function(){};var n=l.length,a=[],o=[],r={},h=l.find(".choose-cell-true").length,x="",b={};for(var S in y)a.push(S);l.on("click","a",function(){o=[],r={};var y=$(this),S=y.text();if(!y.hasClass("disabled")){var w=l.index($(this).parents('[data-node="firstParams"]').eq(0));if(y.hasClass("choose-cell-true")){h--,0===h&&i.call(null),"none"!==v.last().css("display")&&void 0!==e.colorShow[w+S]&&v.last().find("img").attr({src:v.last().attr("data-src"),"data-origin":v.last().attr("data-origin")});for(M in b[w])for(var C=l.eq(parseInt(M)).find("a"),k=0,T=b[w][M].length;k<T;k++){var P=C.eq(b[w][M][k]),I=parseInt(P.attr("data-addNum"),10);1===I?P.removeClass("disabled").attr("data-addNum",0):P.attr("data-addNum",I-1)}b[w]={},y.removeClass("choose-cell-true")}else{if(y.siblings().hasClass("choose-cell-true")){for(M in b[w])for(var C=l.eq(parseInt(M)).find("a"),k=0,T=b[w][M].length;k<T;k++){var P=C.eq(b[w][M][k]),I=parseInt(P.attr("data-addNum"),10);1===I?P.removeClass("disabled").attr("data-addNum",0):P.attr("data-addNum",I-1)}y.siblings().removeClass("choose-cell-true"),b[w]={}}else h++;void 0!==e.colorShow[w+S]&&v.last().find("img").attr({src:e.colorShow[w+S].image,"data-origin":e.colorShow[w+S].imageBig}),y.addClass("choose-cell-true");for(var M=0,T=a.length;M<T;M++)a[M].indexOf(w+S)!==-1&&o.push(a[M].split("!#"));for(var q=0,V=o.length;q<V;q++)for(var k=0,H=o[q].length;k<H;k++){var D=o[q][k].substr(0,1),E=o[q][k].substr(1,o[q][k].length-1);r[D]=void 0===r[D]?"":r[D],r[D]+="!#"+E}for(var A in r){var M=parseInt(A,10);if(M!==w){b[w]={};for(var C=l.eq(M).find("a"),q=0,F=C.length;q<F;q++)if(b[w][A]=void 0===b[w][A]?[]:b[w][A],r[A].indexOf("!#"+C.eq(q).text())===-1){var P=C.eq(q),N=void 0===P.attr("data-addNum")?0:parseInt(P.attr("data-addNum"),10);b[w][A].push(q),P.addClass("disabled").attr("data-addNum",N+1)}}}}if(h===n){x="";for(var M=0,T=l.length;M<T;M++)x+="!#"+M+l.eq(M).find(".choose-cell-true").text();x=x.substr(2,x.length),t.call(null,x)}else e.skuId="0",s.spinning.setMax(e.oldStock>20?20:e.oldStock),"1"!==e.prodType?e.oldStock>0?(u.text("有货"),m.text("有货"),f.removeClass("btn-default"),p.removeClass("btn-default"),$('[data-spin="up"]').removeClass("disabled")):(u.text("无货"),m.text("无货"),f.addClass("btn-default"),p.addClass("btn-default"),$('[data-spin="up"]').addClass("disabled")):(e.oldStock>0?(u.text("有货"),f.removeClass("btn-default"),p.removeClass("btn-default"),$('[data-spin="up"]').removeClass("disabled")):(u.text("无货"),f.addClass("btn-default"),p.addClass("btn-default"),$('[data-spin="up"]').addClass("disabled")),d.text(e.oldStock)),c.text(c.attr("data-saleprice")),g.text(g.attr("data-originprice"))}})},S=function(t){e.skuId=parseInt(t.id,10),"1"!==e.prodType?n.get(a.get("getCurrSkuInfo"),{data:{itemId:parseInt(e.productId,10),skuId:e.skuId,addressNodeId:parseInt($('[data-node="addressTop"]').last().attr("data-aid"),10)}}).done(function(t){if(t&&t.success&&200===t.code){var e=t.data,i="";e.skus.hasStock?(i="有货",f.removeClass("btn-default"),p.removeClass("btn-default"),$('[data-spin="up"]').removeClass("disabled")):(i="无货",f.addClass("btn-default"),p.addClass("btn-default"),$('[data-spin="up"]').addClass("disabled")),m.text(i),u.text(i),c.text(e.skus.salePrice),g.text(e.skus.price),s.spinning.setMax(e.skus.stock>20?20:e.skus.stock)}}):(s.spinning.setMax(t.stock>20?20:t.stock),parseInt(t.stock,10)>0?(u.text("有货"),f.removeClass("btn-default"),p.removeClass("btn-default"),$('[data-spin="up"]').removeClass("disabled")):(u.text("无货"),f.addClass("btn-default"),p.addClass("btn-default"),$('[data-spin="up"]').addClass("disabled")),d.text(t.stock),c.text(t.salePrice),g.text(t.price)),h.removeClass("active"),v.hide().last().show().find("img").attr({src:t.image,"data-origin":t.imageBig}),x.find("img").attr("src",t.image)},w=function(){b(function(t){var e=y[t];S(e)},function(){l.find("a").removeClass("disabled"),d.text(m.attr("data-sumstock")),u.text(e.oldStock>0?"有货":"无货");var t=v.last().attr("data-src");v.hide().last().show().find("img").attr(t),c.text(c.attr("data-saleprice")),g.text(g.attr("data-originPrice")),f.addClass("btn-default"),e.oldStock>0&&p.removeClass("btn-default")})};t.exports=w}).call(e,i(1),i(4))},178:function(t,e,i){(function($,e){"use strict";i(74);var n=$('[data-node="stockBox"]'),a=$('[data-node="repert"]'),s=$('[data-spin="down"]'),o=$('[data-spin="up"]'),r=null,l=function(){var t=20;"1"!==e.prodType?t=parseInt(n.attr("data-sumstock"),10)>20?20:parseInt(n.attr("data-sumstock"),10):(t=parseInt(a.text(),10),t=t>20?20:t),$("[data-trigger=spinner]").spinner({delay:200,min:1,max:t,rangemin:function(){s.addClass("disabled")},rangemax:function(){o.addClass("disabled")},changed:function(t,e){e>1&&s.removeClass("disabled"),1===e&&s.addClass("disabled"),e===r.spinning.max||e>r.spinning.max?o.addClass("disabled"):o.removeClass("disabled"),0===r.spinning.max&&r.spinning.setMax(1),0===e&&$('[data-node="count"]').val(1)}}),$('[data-node="count"]').val(1),r=$("[data-trigger=spinner]").data("spinner")};t.exports={init:l}}).call(e,i(1),i(4))},179:function(t,e,i){(function($){"use strict";var e=i(2),n=i(28),a=(i(125),i(180)),s=i(181),o="",r=($('[data-node="discussBox"]'),$('[data-node="discussTitle"]'),$('[data-node="discussPage"]')),l=$('[data-node="discussList"]'),d=1,c=function(){var t=$GLOBAL_CONFIG.productId;e.get(n.get("getMoreDiscuss"),{data:{itemId:t,page:d}}).done(function(t){if(200===t.code){var e=t.data.itemComments;if(e.length>0){o=a({data:t.data.linkUrl}),r.html($(o).val());for(var i=0,n=e.length;i<n;i++)e[i].solid=[],e[i].hollow=[],e[i].solid.length=e[i].score,e[i].hollow.length=5-e[i].score}else 1===d&&r.remove();l.html(s({data:e}))}})},u=function(){c(),r.on("click","a",function(){var t=$(this).attr("data-current");void 0!==t&&(t=parseInt(t,10),d=t,c())})};t.exports=u}).call(e,i(1))},180:function(t,e,i){var n=i(26);t.exports=n("src/js/page/goodInfo/discussPage",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$escape),a=t.data,s="";return s+=' <input type="hidden" data-node="test" value="',s+=n(a),s+='">',new String(s)})},181:function(t,e,i){var n=i(26);t.exports=n("src/js/page/goodInfo/discussList",function(t,e){"use strict";var i=this,n=(i.$helpers,t.data),a=i.$each,s=(t.$value,t.$index,i.$escape),o="";return o+=" ",n.length>0?(o+=' <ul class="clearfix" > ',a(n,function(t,e){o+=' <li data-node="comments"> <div class="fr"> <a href="javascript:;"> <img src="',o+=s(t.creater.facePicUrl),o+='" onerror="imgError(this)">',o+=s(t.creater.nickname),o+=' </a> <div class="star-box"> ',a(t.solid,function(t,e){o+=' <em class="iconn-43 active"></em> '}),o+=" ",a(t.hollow,function(t,e){o+=' <em class="iconn-43"></em> '}),o+=" </div> <p>",o+=s(t.createTime),o+='</p> </div> <div class="list-con">',o+=s(""===t.content?"收到宝贝了，还不错":t.content),o+="</div> ",t.images.length>0&&(o+=' <div class="list-img clearfix" data-node="imgPreviewList"> ',a(t.images,function(t,e){o+=' <a data-imgorigin="',o+=s(t.origin),o+='" href="javascript:;"> <img src="',o+=s(t.small),o+='"> </a> '}),o+=" </div> "),o+="  ",void 0!==t.replyContent&&(o+=' <div class="list-shop clearifx"> <span>商家回复</span>',o+=s(t.replyContent),o+=" </div> "),o+=" </li> "}),o+=" </ul> "):o+=' <div class="comments-none">此商品暂无评论</div> ',o+=" ",new String(o)})},182:function(t,e,i){(function($){"use strict";function e(t,e){var i=new Image;i.onload=function(){var t=i.width,n=i.height;t>n&&t>=v&&(n=n*v/t),i.onload=null,i=null,e(t,n)},i.src=t}function i(){g.on("mouseenter",p,function(){$(this).find(f).removeClass("hide")}),g.on("mouseleave",p,function(){$(this).find(f).addClass("hide")})}function n(t){$(h).insertAfter(t)}function a(t,e,i,a){var o=t.parents(d),r=o.find(p),c=o.siblings(),f=null,h=null;"undefined"==typeof r[0]&&(n(t),r=t.siblings(p)),c.find(u).removeClass(l),f=c.find(p),s(f,"hide"),i=i>v?v:i,h=r.find("img"),h.attr({src:e,width:i}),r.css({height:"auto"}),r.is(":hidden")&&s(r,"show",a)}function s(t,e,i){var n=300;"show"===e?t.css({width:0,height:0}).show().stop().animate({width:740,height:i},n):t.stop().animate({width:0,height:0},n,function(){t.hide()})}function o(){g.on("click",f,function(t){var e=$(this).parents(p);t.preventDefault(),m.removeClass(l),s(e,"hide")})}function r(){g.on("click",u,function(){var t=$(this).data("imgorigin"),n=$(this).parent();m=$(this),m.addClass(l).siblings().removeClass(l),e(t,function(e,i){a(n,t,e,i)}),i(),o()})}var l="active",d="[data-node=comments]",c="[data-node=imgPreviewList]",u=c+"> a",p="[data-node=bigImgPreviewStage]",f="[data-action=closeImgPreview]",h='<div data-node="bigImgPreviewStage" class="list-img-big"><span><em data-action="closeImgPreview" class="icon-narrow hide"></em><img></span></div>',g=$("[data-node=discussBox]"),m=null,v=740;t.exports={init:r}}).call(e,i(1))},183:function(t,e,i){(function($,e){"use strict";function n(){v()&&(l=p({title:"领取优惠券",modal:!0,fixed:!0,content:f({imgUrl:e.imgpath}),className:"pop-box"}),l.show(),a=$('[data-node="ticketLoading"]'),s=$('[data-node="ticketFail"]'),o=$('[data-node="ticketBox"]')),w()}var a,s,o,r,l,d,c=i(2),u=i(28),p=i(22),f=i(184),h=i(185),g=i(186),m=i(125),v=i(47),x=$('div[data-node="topGoodInfo"]'),y=x.find('[data-active="coupon"]'),b=[],S=[],w=function(){c.post(u.get("ticketList"),{validate:!0,data:{shopId:e.shopId,isLogin:e.islogin}}).done(function(t){if(t&&t.success&&200===t.code){+new Date;s.hide(),b=t.data.shopCoupons.batches,S=void 0!==t.data.myCoupons.userCoupons?t.data.myCoupons.userCoupons:[];for(var i=0,n=b.length;i<n;i++)b[i].money=parseInt(b[i].money,10)/100,b[i].usageRule.minAmount=parseInt(b[i].usageRule.minAmount,10)/100,b[i].showDay=!1,1===b[i].timeType?(b[i].timeLong=Math.ceil(b[i].timeLimit/86400),b[i].showDay=!0):(b[i].useStartTime=m.format(new Date(b[i].useStartTime),"YYYY.MM.DD"),b[i].useEndTime=m.format(new Date(b[i].useEndTime),"YYYY.MM.DD")),b[i].quantities[0].show=b[i].quantities[0].remainingReceiveQuantity>1?"inline":"none";for(var i=0,n=S.length;i<n;i++)S[i].validStartTime=m.format(new Date(S[i].validStartTime),"YYYY.MM.DD"),S[i].validEndTime=m.format(new Date(S[i].validEndTime),"YYYY.MM.DD"),S[i].batch.money=parseInt(S[i].batch.money,10)/100,S[i].batch.usageRule.minAmount=parseInt(S[i].batch.usageRule.minAmount,10)/100,S[i].show=S[i].couponsQuantity>1?"inline":"none";o.html(h({shopName:e.shopName,ticketList:b,myTickets:S,tDisplay:b.length>0?"block":"none",show:S.length>0,display:S.length>0?"block":"none"})),r=$('[data-node="myTicketList"]'),d=$('[data-node="mTicketBox"]')}else 881011===t.code?(a.hide(),s.show().text("登录失效，请重新登录").addClass("login"),$('[data-node="ticketBox"]').hide()):s.show().text("数据加载失败，点击重新加载")}).fail(function(){v()&&s.show().text("数据加载失败，点击重新加载")}).always(function(){v()&&a.hide(),l.reset()})},C=function(){$(document).on("click",'[data-action="coupon-mask"]',function(){$(this).hide()}).on("click",'[data-node="ticketFail"]',function(){$(this).hasClass("login")||(a.show(),w())}),P()},k=function(t){setTimeout(function(){t.find('[data-node="coupon-mask"]').hide()},2e3)},T=function(t){S.push(t),r.html(g({shopName:e.shopName,myTickets:S}))},P=function(){var t,i,n,a,s,o,r,p,f,h,g,v,x,y,b=+new Date,w=!0;$(document).on("click",'[data-action="getTicket"]',function(){w&&(w=!1,t=$(this).attr("data-id"),i=$(this),n=i.parents("li").eq(0),r=""===n.find('[data-node="tStart"]').text()?m.format(new Date(b),"YYYY.MM.DD"):n.find('[data-node="tStart"]').text(),p=""===n.find('[data-node="tEnd"]').text()?m.format(new Date(b+1e3*parseInt(i.attr("data-second"),10)),"YYYY.MM.DD"):n.find('[data-node="tEnd"]').text(),c.post(u.get("getTicket"),{data:{batchSn:t,userId:e.userId}}).done(function(e){if(e&&200===e.code){var c=$('[data-node="'+t+'"]'),u=!0;if(d.show(),c.length>0)for(var C=0,P=c.length;C<P;C++){if(a=i.attr("data-type"),"1"===a?(s=m.format(new Date(b),"YYYY.MM.DD"),o=m.format(1e3*new Date(b+parseInt(i.attr("data-second"),10)),"YYYY.MM.DD")):(s=c.eq(C).find('[data-node="mStart"]').text(),o=c.eq(C).find('[data-node="mEnd"]').text()),s===r){S[C].couponsQuantity++,f=c.eq(C).find('[data-node="mTicketNum"]'),h=parseInt(f.text(),10),1===h&&(S[C].show="inline",f.parent().show()),f.text(h+1),u=!1;break}C===P-1&&u&&T({batch:{money:n.find('[data-node="ticketMoney"]').text(),usageRule:{minAmount:n.find('[data-node="ticketMin"]').text()}},batchSn:t,validEndTime:p,validStartTime:r,couponsQuantity:1,show:"none"})}else T({batch:{money:n.find('[data-node="ticketMoney"]').text(),usageRule:{minAmount:n.find('[data-node="ticketMin"]').text()}},batchSn:t,validEndTime:p,validStartTime:r,couponsQuantity:1,show:"none"});g=n.find('[data-node="tTicketNum"]'),x=n.find('[data-action="getTicket"]'),v=parseInt(g.text(),10),2===v&&g.parent().hide(),g.text(v-1),0===e.data.userRemainingAvailableQuantity?(x.html('<em class="iconn-20"></em>已领'),n.find('[data-node="coupon-mask"]').show().text("领取成功，领取次数已达上限"),y=0===n.siblings().length?setTimeout(function(){n.parents('[data-node="tTicketBox"]').eq(0).addClass("fadeOutUp").next().addClass("fadeUp"),clearTimeout(y),setTimeout(function(){n.parents('[data-node="tTicketBox"]').eq(0).next().removeClass("fadeUp").prev().remove()},1e3)},500):setTimeout(function(){n.remove(),clearTimeout(y)},500)):n.find('[data-node="coupon-mask"]').show().text("领取成功，还可领取"+e.data.userRemainingAvailableQuantity+"张")}else 881011===e.code?n.find('[data-node="coupon-mask"]').show().text("登录失效，请重新登录"):n.find('[data-node="coupon-mask"]').show().text("领取失败");l.reset(),k(n),w=!0}).fail(function(){n.find('[data-node="coupon-mask"]').show().text("领取失败"),k(n),w=!0}))})},I=function(){y.on("click",function(){n()}),C()};t.exports={init:I}}).call(e,i(1),i(4))},184:function(t,e,i){var n=i(26);t.exports=n("src/js/page/goodInfo/ticketDialog",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$escape),a=t.imgUrl,s="";return s+=' <div class="tab-list"> <div data-node="ticketLoading" class="tab-loading" > <img src="',s+=n(a),s+='/images/public/loading.gif" alt=""> </div> <div class="tab-message" data-node="ticketFail" style="display:none;">数据加载失败，点击重新加载</div> <div data-node="ticketBox"></div> </div>',new String(s)})},185:function(t,e,i){var n=i(26);t.exports=n("src/js/page/goodInfo/ticketList",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$escape),a=t.tDisplay,s=i.$each,o=t.ticketList,r=(t.$value,t.$index,t.shopName),l=t.display,d=t.show,c=t.myTickets,u="";return u+=' <div data-node="tTicketBox" style="display: ',u+=n(a),u+='"> <h3>可领取优惠券</h3> <ul class="clearfix"> ',s(o,function(t,e){u+=" <li> <h4>",u+=n(r),u+='</h4> <p> <span data-node="ticketMoney">',u+=n(o[e].money),u+='</span>元 <em style="display:',u+=n(o[e].quantities[0].show),u+='"><span data-node="tTicketNum">',u+=n(o[e].quantities[0].remainingReceiveQuantity),u+='</span>张</em> </p> <p>满<strong data-node="ticketMin">',u+=n(o[e].usageRule.minAmount),u+='</strong>元可用</p> <div class="quan-time"> 有效期： ',o[e].showDay?(u+=" 领到券后",u+=n(o[e].timeLong),u+="天内可用 "):(u+=' <span data-node="tStart">',u+=n(o[e].useStartTime),u+='</span>-<span data-node="tEnd">',u+=n(o[e].useEndTime),u+="</span> "),u+=' </div> <a href="javascript:;" data-id="',u+=n(o[e].batchSn),u+='" data-action="getTicket" data-type="',u+=n(o[e].timeType),u+='" data-second="',u+=n(o[e].timeLimit),u+='">点击领取</a> <div class="small-mask" data-node="coupon-mask">您还可以领取2张</div> </li> '}),u+=' </ul> </div> <div data-node="mTicketBox" style="display: ',u+=n(l),u+='"> <h3 data-node="myTicketTitle">已领取</h3> <ul class="clearfix" data-node="myTicketList"> ',d&&(u+=" ",s(c,function(t,e){u+=' <li data-node="',u+=n(c[e].batchSn),u+='"> <h4>',u+=n(r),u+="</h4> <p><span>",u+=n(c[e].batch.money),u+='</span>元 <em style="display:',u+=n(c[e].show),u+='"><span data-node="mTicketNum">',u+=n(c[e].couponsQuantity),u+="</span>张</em> </p> <p>消费<strong>",u+=n(c[e].batch.usageRule.minAmount),u+='</strong>元可用</p> <div class="quan-time">有效期：<span data-node="mStart">',u+=n(c[e].validStartTime),u+='</span>—<span data-node="mEnd">',u+=n(c[e].validEndTime),u+='</span></div><em class="icon-quan"></em> </li> '}),u+=" "),u+=" </ul> </div> ",new String(u)})},186:function(t,e,i){var n=i(26);t.exports=n("src/js/page/goodInfo/myTicketList",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$each),a=t.myTickets,s=(t.$value,t.$index,i.$escape),o=t.shopName,r="";return r+=" ",n(a,function(t,e){r+=' <li data-node="',r+=s(a[e].batchSn),r+='"> <h4>',r+=s(o),r+="</h4> <p><span>",r+=s(a[e].batch.money),r+='</span>元 <em style="display:',r+=s(a[e].show),r+='"><span data-node="mTicketNum">',r+=s(a[e].couponsQuantity),r+="</span>张</em> </p> <p>消费<strong>",r+=s(a[e].batch.usageRule.minAmount),r+='</strong>元可用</p> <div class="quan-time">有效期：<span data-node="mStart">',r+=s(a[e].validStartTime),r+='</span>—<span data-node="mEnd">',r+=s(a[e].validEndTime),r+='</span></div><em class="icon-quan"></em> </li> '}),new String(r)})},187:function(t,e,i){(function($){"use strict";var e=i(47),n=i(3),a=function(){$('[data-action="shortcutBanner"]').on("click","a",function(t){var i=$(this);e()||(t.preventDefault(),n({onLogin:function(){window.location.href=i.attr("href")}}))})};t.exports={init:a}}).call(e,i(1))},188:function(t,e,i){(function($,e){"use strict";var n=i(189),a=i(190),s=i(2),o=i(28),r=$('[data-node="productChoose"]'),l=$('[data-node="shopChoose"]'),d=function(){s.get(o.get("productChoose"),{data:{itemId:e.productId,shopId:e.shopId}}).done(function(t){t&&t.success?(t.data.shopRecom.items.length>0&&l.html(a({domian:e.mall_domain,shopId:e.shopId,data:t.data.shopRecom.items,csid:e.sourceCode})),t.data.prodRecom.items.length>0&&r.html(n({domian:e.mall_domain,data:t.data.prodRecom.items,csid:e.sourceCode}))):(r.prev().remove(),r.remove(),l.prev().remove(),l.remove())})},c=function(){d()};t.exports={init:c}}).call(e,i(1),i(4))},189:function(t,e,i){var n=i(26);t.exports=n("src/js/page/goodInfo/productChoose",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$each),a=t.data,s=(t.$value,t.$index,i.$escape),o=t.domian,r=t.csid,l="";return l+='<ul class="clearfix" data-node="lastBanner"> ',n(a,function(t,e){l+=' <li > <a target="_blank" href="',l+=s(o),l+="item/",l+=s(t.shopId),l+="-",l+=s(t.id),l+=".html?csid=",l+=s(r),l+='" bp-data=\'{"event_id": "G000P019", "shop_id": "',l+=s(t.shopId),l+='", "product_id": "',l+=s(t.id),l+='"}\'> <img src="',l+=s(t.mainImage),l+='" alt="',l+=s(t.name),l+='" onerror="imgError(this)"> </a> <div class="text">￥<span>',l+=s(t.salePrice),l+='</span> <p> <a target="_blank" href="',l+=s(o),l+="item/",l+=s(t.shopId),l+="-",l+=s(t.id),l+=".html?csid=",l+=s(r),l+='" bp-data=\'{"event_id": "G000P019", "shop_id": "',l+=s(t.shopId),l+='", "product_id": "',l+=s(t.id),l+='"}\' title="',l+=s(t.name),l+='">',l+=s(t.name),l+="</a> </p> </div> </li> "}),l+=" </ul>",new String(l)})},190:function(t,e,i){var n=i(26);t.exports=n("src/js/page/goodInfo/shopChoose",function(t,e){"use strict";var i=this,n=(i.$helpers,i.$each),a=t.data,s=(t.$value,t.$index,i.$escape),o=t.domian,r=t.shopId,l=t.csid,d="";return d+='<ul class="clearfix"> ',n(a,function(t,e){d+=" <li> ",t.item.rebateFlag&&t.item.discountFlag?d+=' <em class="icon-fan">返</em> ':(d+=" ",t.item.rebateFlag&&(d+=' <em class="icon-fan">返</em> '),d+=" ",t.item.discountFlag&&(d+=' <em class="icon-fan icon-jiang">降</em> '),d+=" "),d+=' <a href="',d+=s(o),d+="item/",d+=s(r),d+="-",d+=s(t.itemId),d+=".html?csid=",d+=s(l),d+="\" bp-data=\"{'event_id':'G000P018', 'shop_id': '",d+=s(t.item.shopId),d+="','product_id': '",d+=s(t.itemId),d+='\'}" target="_blank" > <img src="',d+=s(t.item.mainImage),d+='" alt="',d+=s(t.item.name),d+='" onerror="imgError(this)"> </a> <div class="text">￥<span>',d+=s(t.item.salePrice),d+='</span> <p><a href="',d+=s(o),d+="item/",d+=s(r),d+="-",d+=s(t.itemId),d+=".html?csid=",d+=s(l),d+="\" bp-data=\"{'event_id':'G000P018', 'shop_id': '",d+=s(t.item.shopId),d+="','product_id': '",d+=s(t.itemId),d+='\'}" title="',d+=s(t.item.name),d+='">',d+=s(t.item.name),d+="</a></p> </div> </li> "}),d+=" </ul>",new String(d)})},191:function(t,e,i){(function($,e){"use strict";var n=i(192),a=i(2),s=i(28),o=$("[data-trigger=spinner]").data("spinner"),r=function(){n(function(t){var i=$('[data-node="price"]'),n=$('[data-node="originPrice"]'),r=$('[data-node="iscargo"]'),l=$('[data-node="stockBox"]'),d=$('[data-action="addShopCar"]'),c=$('[data-action="buybtn"]'),u={itemId:parseInt(e.productId,10),shopId:parseInt(e.shopId,10),provName:t[0].levelName,provId:parseInt(t[0].levelId,10),cityName:t[1].levelName,cityId:parseInt(t[1].levelId,10),borName:t[2].levelName,borId:parseInt(t[2].levelId,10)};0!==parseInt(e.skuId,10)&&"1"!==e.prodType&&(u.skuId=parseInt(e.skuId,10)),a.get(s.get("getCurrItemInfo"),{data:u}).done(function(t){if(t&&200===t.code&&t.success){var e=t.data;void 0!==e.skus&&(o.spinning.setMax(e.skus.stock>20?20:e.skus.stock),i.text(e.skus.salePrice),n.text(e.skus.price),e.skus.hasStock>0?(l.text("有货"),r.text("有货"),c.removeClass("btn-default"),d.removeClass("btn-default"),$('[data-spin="up"]').removeClass("disabled")):(l.text("无货"),r.text("无货"),c.addClass("btn-default"),d.addClass("btn-default"),$('[data-spin="up"]').addClass("disabled")))}})})};t.exports={init:r}}).call(e,i(1),i(4))},192:function(t,e,i){(function($){"use strict";var e=i(2),n=i(28),a=function(t){function i(t,e){x=!0;for(var i="",n=0,a=t.nodes.length;n<a;n++)i+='<li data-id="'+t.nodes[n].id+'">'+t.nodes[n].name+"</li>";f.hide().eq(e).show().html(i)}function a(t){if(t=t||function(){},m.length>2&&y){for(var e=0,i=m.length;e<i;e++)void 0!==m[e]&&(g[e]=m[e]);i=g.length,g.splice(m.length,g.length-m.length),t.call(null,g),m=[]}var n="",a="";for(e=0,i=g.length;e<i;e++)n+='<span data-aid="'+g[e].levelId+'" data-node="addressTop">'+g[e].levelName+"</span>",a+='<a href="javascript:;" class="" data-aid="'+g[e].levelId+'" data-action="setAddressTab"><span data-node="tabName">'+g[e].levelName+'</span><em class="icon icon-down"></em></a>';l.html(n),d=l.find("[data-aid]"),u.children().eq(1).html(a),p=u.find('[data-action="setAddressTab"]'),x=!0,u.hide()}function s(t,i){if(window.localStorage){var a,s=JSON.parse(localStorage.getItem("address"+t));null!==s?s.hasOwnProperty("time")&&(a=s.time<+new Date):a=!0,a?e.get(n.get("getAddress")+t,{}).done(function(e){if(200===e.code){i.call(null,e.data);var n={data:e.data,time:+new Date+6048e5};localStorage.removeItem("address"+t),localStorage.setItem("address"+t,JSON.stringify(n))}}).fail(function(t,e){}).always(function(){h&&(h=!1)}):(i.call(null,s.data),h&&(h=!1))}else e.get(n.get("getAddress")+t,{}).done(function(t){200===t.code&&i.call(null,t.data)}).fail(function(t,e){}).always(function(){h&&(h=!1)})}for(var o=$('div[data-node="topGoodInfo"]'),r=o.find('[data-action="setAddress"]'),l=r.find('[data-action="setAddressTopBox"]'),d=l.find('[data-node="addressTop"]'),c=l.find("[data-aid]"),u=o.find('[data-node="setAddressbox"]'),p=u.find('[data-action="setAddressTab"]'),f=u.find('[data-node="setAddressList"]'),h=!1,g=[],m=[],v=c.length-1,x=!0,y=!0,b=0,S=c.length;b<S;b++)g[b]={},g[b].levelId=c.eq(b).attr("data-aid"),g[b].levelName=c.eq(b).text();r.on("click",function(t){if(t.stopPropagation(),!h){h=!0,c=l.find("[data-aid]");var e=c.eq(c.length-2).attr("data-aid");s(e,function(t){var e=c.length-1<0?0:c.length-1;p.removeClass("selected-span").eq(e).addClass("selected-span").nextAll().remove(),"none"===u.css("display")&&u.show(),i(t,e)})}}),u.on("click",function(t){t.stopPropagation()}).on("click",'[data-action="setAddressTab"]',function(t){t.stopPropagation(),v=r.find('[data-action="setAddressTab"]').index($(this));var e;"请选择"!==$(this).children().eq(0).text()&&(p.removeClass("selected-span").eq(v).addClass("selected-span"),e=$(this).prev().attr("data-aid")||0,0===v?0===f.eq(v).children().length?s(e,function(t){i(t,v)}):f.hide().eq(v).show():s(e,function(t){i(t,v)}))}).on("click","li",function(e){if(e.stopPropagation(),x){x=!1;var n=$(this).attr("data-id"),o=$(this).text(),r=f.index($(this).parents("ul"));y=0!==r,p.removeClass("selected-span").eq(r).nextAll().remove(),p.eq(r).children().eq(0).text(o),p.eq(r).attr("data-aid",$(this).attr("data-id")),r!==f.length-1?s(n,function(t){p.removeClass("selected-span").eq(r+1).addClass("selected-span"),i(t,r+1),p.eq(0).parent().append('<a href="javascript:;" data-action="setAddressTab" class="selected-span"><span data-node="tabName">请选择</span><em class="icon icon-down"></em></a>'),p=u.find('[data-action="setAddressTab"]'),m[r]={},m[r].levelId=n,m[r].levelName=o}):(m[r]={},m[r].levelId=n,m[r].levelName=o,a(t))}}).on("click",'[data-action="addressClose"]',function(e){e.stopPropagation(),"none"!==u.css("display")&&(a(t),u.hide())}),$(document).on("click",function(e){e.stopPropagation(),"none"!==u.css("display")&&(a(t),u.hide())})};t.exports=a}).call(e,i(1))},193:function(t,e,i){(function($,e){"use strict";var n=i(2),a=$('[data-node="infoIframe"]'),s=null,o=null,r=null,l=0,d=new Image,c=null,u=0,p=0,f=0,h="",g=function t(i){h=void 0!==i.eq(l).attr("gome-src")?i.eq(l).attr("gome-src"):i.eq(l).attr("src"),d.onload=function(){l<=i.length&&(t(i),i.eq(l).attr("src",h),p=a.height(),f=Math.max(o.offsetHeight,d.height),s.height=f,l===i.length&&(c=setInterval(function(){f=o.offsetHeight,s.height=f,p===f&&(u++,u>30&&clearInterval(c))},300))),l++},d.onerror=function(){l<=i.length&&(t(i),i.eq(l).css("width","750px").attr("src",e.imgpath+"/images/public/img-error.png"),p=a.height(),f=Math.max(o.offsetHeight,d.height),s.height=f,l===i.length&&(c=setInterval(function(){f=o.offsetHeight,s.height=f,p===f&&(u++,u>30&&clearInterval(c))},300))),l++},d.src=h},m=function(){if("1"!==e.prodType){s=a[0],o=s.contentWindow.document.body,r=$(o);var t=e.detailUrl;if(""===t)return r.html('<div style="font-family: PingFang SC,Myriad Pro,Hiragino Sans GB,Microsoft YaHei,sans-serif;height: 600px;line-height: 600px;color: #999;text-align: center;font-size:14px;">此商品暂无图文详情</div>'),void(s.height=o.offsetHeight);n.get(t,{dataType:"jsonp",jsonp:"jianjie",jsonpCallback:"jianjie"}).done(function(t){""!==t?(r.html(t),g(r.find("img"))):(r.html('<div style="font-family: PingFang SC,Myriad Pro,Hiragino Sans GB,Microsoft YaHei,sans-serif;height: 600px;line-height: 600px;color: #999;text-align: center;font-size:14px;">此商品暂无图文详情</div>'),
s.height=o.offsetHeight)}).fail(function(){r.html('<div style="font-family: PingFang SC,Myriad Pro,Hiragino Sans GB,Microsoft YaHei,sans-serif;height: 600px;line-height: 600px;color: #999;text-align: center;font-size:14px;">此商品暂无图文详情</div>'),s.height=o.offsetHeight})}};t.exports={init:m}}).call(e,i(1),i(4))},194:function(t,e,i){(function($){"use strict";var e=$('[data-node="tabBtnBox"] a'),i=$('[data-node="tabContent"]'),n=$('[data-node="tabBox"]'),a=n.offset().top,s=$(window).scrollTop(),o=function(){s>=a?n.addClass("tabbox-focus"):n.removeClass("tabbox-focus")},r=function(){e.on("click",function(){var t=$(this),s=e.index(t);e.removeClass("active").eq(s).addClass("active"),i.addClass("hide").eq(s).removeClass("hide"),n.hasClass("tabbox-focus")&&$("body,html").animate({scrollTop:a},300,function(){n.removeClass("tabbox-focus").removeAttr("style").find(".w960").removeAttr("style")})}),o(),$(window).on("scroll",function(){s=$(window).scrollTop(),o()})};t.exports={init:r}}).call(e,i(1))},195:function(t,e,i){(function($){"use strict";i(196),$("[data-node=leftBigBox] > li").imgZoom({boxWidth:400,boxHeight:400})}).call(e,i(1))},196:function(t,e,i){(function($,t){"use strict";function e(t){this.opts=t,this.$el=t.$el,this.$sImg=t.$el.find("img"),this.$zoomDiv=null,this.$bigImg=null,this.imgWidth=0,this.imgHeight=0,this.$mask=null,this.maskWidth=0,this.maskHeight=0,this.elWidth=0,this.elHeight=0,this.flag=!0,this._init()}e.prototype={constructor:e,_init:function(){this.$el.css("position","relative"),this.bindEvent()},createHTML:function(){function e(){n.$zoomDiv||(n.$zoomDiv=$("<div/>"));var t=n.$el.offset(),e=t.left/1+n.$el.outerWidth(!0)/1+n.opts.marginLeft/1,i=t.top/1;n.$bigImg.css("position","absolute"),n.$zoomDiv.append(n.$bigImg),n.$zoomDiv.css({position:"absolute",left:e,top:i,zIndex:999,width:a,height:s,overflow:"hidden",border:"1px solid #eee",background:"#FFF"}),$("body").append(n.$zoomDiv)}function i(){n.maskWidth=Math.ceil(a/n.imgWidth*n.elWidth),n.maskHeight=Math.ceil(s/n.imgHeight*n.elHeight),n.maskWidth>n.elWidth&&(n.maskWidth=n.elWidth),n.maskHeight>n.elHeight&&(n.maskHeight=n.elHeight),n.$mask||(n.$mask=$("<div/>")),n.$mask.css({position:"absolute",background:'rgba(238,130,34,.4) url("'+t.imgpath+'/images/shop/move.png") no-repeat center',width:n.maskWidth,height:n.maskHeight,cursor:"none"}),n.$el.append(n.$mask)}var n=this,a=this.opts.boxWidth,s=this.opts.boxHeight;this.elWidth=this.$el.outerWidth(!0),this.elHeight=this.$el.outerHeight(!0),e(),i()},bindEvent:function(){var t=this;this.$el.on({mouseenter:function(){t.flag=!0;var e=t.$sImg.attr(t.opts.origin),i=new Image;i.onload=function(){t.flag&&(t.imgWidth=i.width,t.imgHeight=i.height,t.$bigImg=$(i),t.createHTML(),t.flag=!1)},i.src=e},mouseleave:function(){t.flag?t.flag=!1:(t.$zoomDiv&&t.$zoomDiv.remove(),t.$mask&&t.$mask.remove())},mousemove:function(e){if(!t.$bigImg)return!1;var i=t.$el.offset(),n=t.maskWidth,a=t.maskHeight,s=e.pageX-i.left-Math.ceil(n/2),o=e.pageY-i.top-Math.ceil(a/2),r=t.elWidth-n,l=t.elHeight-a;s=s<0?0:s,o=o<0?0:o,s=s>r?r:s,o=o>l?l:o;var d=-s*t.imgWidth/t.elWidth,c=-o*t.imgHeight/t.elHeight;t.$mask.css({left:s,top:o}),t.$bigImg.css({left:d,top:c})}})}},$.fn.imgZoom=function(t){var i={boxWidth:360,boxHeight:360,marginLeft:5,origin:"data-origin"};$.each(this,function(n,a){var s=$.extend(i,t);s.$el=$(a),new e(s)})}}).call(e,i(1),i(4))}});