webpackJsonp([13],{0:function(e,t,a){(function($){"use strict";a(197),$("img").lazyload({effect:"fadeIn"});var e=a(198),t=a(201),n=a(202),o=a(206),i=a(207);t.init(),n.init(),o.init(),i.init(),e.init()}).call(t,a(1))},54:function(e,t,a){(function($){"use strict";var e=document.createElement("input"),t="oninput"in e&&(!("documentMode"in document)||document.documentMode>9),a=function(e){return"INPUT"===e.nodeName&&("text"===e.type||"password"===e.type)},n=null,o=null,i=null,s={get:function(){return i.get.call(this)},set:function(e){o=e,i.set.call(this,e)}},r=function(e){n=e,o=e.value,i=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(n,"value",s),n.attachEvent("onpropertychange",l)},d=function(){n&&(delete n.value,n.detachEvent("onpropertychange",l),n=null,o=null,i=null)},l=function(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==o&&(o=t,$(n).trigger("textchange"))}};t?$(document).on("input",function(e){"TEXTAREA"!==e.target.nodeName&&$(e.target).trigger("textchange")}):$(document).on("focusin",function(e){a(e.target)&&(d(),r(e.target))}).on("focusout",function(){d()}).on("selectionchange keyup keydown",function(){n&&n.value!==o&&(o=n.value,$(n).trigger("textchange"))})}).call(t,a(1))},197:function(e,t,a){(function(e){!function($,e){var t,a=$(e);$.fn.lazyload=function(n){function o(){var e=0;i.each(function(){var t=$(this);if(!s.skip_invisible||t.is(":visible"))if($.abovethetop(this,s)||$.leftofbegin(this,s));else if($.belowthefold(this,s)||$.rightoffold(this,s)){if(++e>s.failure_limit)return!1}else t.trigger("appear")})}var i=this,s={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return n&&(void 0!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),void 0!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),$.extend(s,n)),t=void 0===s.container||s.container===e?a:$(s.container),0===s.event.indexOf("scroll")&&t.bind(s.event,function(){return o()}),this.each(function(){var e=this,t=$(e);e.loaded=!1,t.one("appear",function(){if(!this.loaded){if(s.appear){var a=i.length;s.appear.call(e,a,s)}$("<img />").bind("load",function(){t.attr("src",t.data(s.data_attribute))[s.effect](s.effect_speed),e.loaded=!0;var a=$.grep(i,function(e){return!e.loaded});if(i=$(a),s.load){var n=i.length;s.load.call(e,n,s)}}).attr("src",t.data(s.data_attribute))}}),0!==s.event.indexOf("scroll")&&t.bind(s.event,function(){e.loaded||t.trigger("appear")})}),a.bind("resize",function(){o()}),o(),this},$.belowthefold=function(n,o){var i;return i=void 0===o.container||o.container===e?a.height()+a.scrollTop():t.offset().top+t.height(),i<=$(n).offset().top-o.threshold},$.rightoffold=function(n,o){var i;return i=void 0===o.container||o.container===e?a.width()+a.scrollLeft():t.offset().left+t.width(),i<=$(n).offset().left-o.threshold},$.abovethetop=function(n,o){var i;return i=void 0===o.container||o.container===e?a.scrollTop():t.offset().top,i>=$(n).offset().top+o.threshold+$(n).height()},$.leftofbegin=function(n,o){var i;return i=void 0===o.container||o.container===e?a.scrollLeft():t.offset().left,i>=$(n).offset().left+o.threshold+$(n).width()},$.inviewport=function(e,t){return!($.rightofscreen(e,t)||$.leftofscreen(e,t)||$.belowthefold(e,t)||$.abovethetop(e,t))},$.extend($.expr[":"],{"below-the-fold":function(t){return $.belowthefold(t,{threshold:0,container:e})},"above-the-top":function(t){return!$.belowthefold(t,{threshold:0,container:e})},"right-of-screen":function(t){return $.rightoffold(t,{threshold:0,container:e})},"left-of-screen":function(t){return!$.rightoffold(t,{threshold:0,container:e})},"in-viewport":function(t){return!$.inviewport(t,{threshold:0,container:e})},"above-the-fold":function(t){return!$.belowthefold(t,{threshold:0,container:e})},"right-of-fold":function(t){return $.rightoffold(t,{threshold:0,container:e})},"left-of-fold":function(t){return!$.rightoffold(t,{threshold:0,container:e})}})}(e,window)}).call(t,a(1))},198:function(e,t,a){(function($,t){"use strict";function n(){if(0==parseInt(b.html))C.removeClass("hide").addClass("show");else{var e={toPage:h.html(),tootlePage:v.html()};1==e.tootlePage?(p.addClass("disabled"),m.addClass("disabled")):0==e.tootlePage&&(f.addClass("hide"),p.addClass("disabled"),m.addClass("disabled"));var t=r(e);f.empty().append(t)}w.css({height:"220px","line-height":"220px","text-align":"center"})}function o(){var e=$(this),t=h.html(),a="";return!e.hasClass("disabled")&&!e.hasClass("noClick")&&(a="prePage"==e.attr("data-node")?parseInt(t)-1:"nextPage"==e.attr("data-node")?parseInt(t)+1:e.html(),void i(a,e))}function i(e,a){function n(e){if(!o.hasClass("noClick")){var t=r(e);f.empty().append(t),1==e.toPage?(p.addClass("disabled"),m.removeClass("disabled")):e.toPage==e.tootlePage?(m.addClass("disabled"),p.removeClass("disabled")):(m.removeClass("disabled"),p.removeClass("disabled"))}}var o=a;f.addClass("hide").removeClass("show");var i=t.query_string,u=t.csid;g.empty(),w.removeClass("hide").addClass("show"),C.removeClass("show").addClass("hide"),d.get(c.get("searchGoods")+"?"+i+"&page="+e).done(function(e){if(e.success===!0){var a=e.data.items;if(a.length<1)s();else{var o={toPage:e.data.page,tootlePage:e.data.pageCount};n(o);var i={aSrc:t.mall_domain,csid:u,goods:a,strImg:t.imgpath};g.html(l(i)),w.removeClass("show").addClass("hide"),f.addClass("show").removeClass("hide"),h.html(e.data.page),v.html(e.data.pageCount),$("img").lazyload({effect:"fadeIn"})}}else s()}).fail(function(){s()})}function s(){w.removeClass("show").addClass("hide"),C.removeClass("hide").addClass("show");var e=5,t=setInterval(function(){1==e?(location.reload(),clearInterval(t)):$("[data-node=countDown]").html(--e)},1e3);$("[data-node=spanRrfresh]").on("click",function(){location.reload()})}a(197);var r=a(199),d=a(2),l=a(200),c=a(28),f=$("[data-node=page]"),u=$("[data-node=pageShow]"),h=$("[data-node=currentPage]"),v=$("[data-node=tootlePage]"),p=$("[data-node=prePage]"),g=$('[data-node="searchList"]'),m=$("[data-node=nextPage]"),b=$("[data-node=goodsNum]"),w=$("[data-node=addMoreData]"),C=$("[data-node=noDataShow]"),x=function(){n(),f.on("click","a",o),u.on("click","em",o)};e.exports={init:x}}).call(t,a(1),a(4))},199:function(e,t,a){(function($){"use strict";function t(e,t,a){for(var n=a.arrPage,o="",i=0;i<n.length;i++){var s="";e==n[i]&&(s="active");var r=n[i];o+='<a href="javascript:;" class = '+s+">"+r+"</a>"}var d=1==e?"disabled":"",l=e==t?"disabled":"",c='<a href="javascript:;" class="'+d+' " data-node="prePage">上一页</a>',f='<a href="javascript:;" >1</a>',u='<a href="javascript:;" class="noClick">...</a>',h='<a href="javascript:;" >'+t+"</a>",v='<a href="javascript:;" class="'+l+'" data-node="nextPage">下一页</a>',p="";return"no"==a.dshow?p=c+o+v:"before"==a.dshow?p=c+f+u+o+v:"last"==a.dshow?p=c+o+u+h+v:"all"==a.dshow&&(p=c+f+u+o+u+h+v),p}var a=function(e){var a="",n={elmSize:9},o=$.extend({},n,e),i=parseInt(o.elmSize),s=parseInt(o.tootlePage),r=parseInt(o.toPage),d=[],l={};if(s<=i){for(var c=0;c<s;c++)d.push(c+1);l={arrPage:d,dshow:"no"},a=t(r,s,l)}else if(r+4>=s){for(var f=0;f<i-2;f++){var u=s-(i-2)+(f+1);d.push(u)}l={arrPage:d,dshow:"before"},a=t(r,s,l)}else if(r-4<=1){for(var h=0;h<i-2;h++){var v=h+1;d.push(v)}l={arrPage:d,dshow:"last"},a=t(r,s,l)}else{for(c=0;c<i-4;c++){var p=parseInt(r-2+c);d.push(p)}l={arrPage:d,dshow:"all"},a=t(r,s,l)}return a};e.exports=a}).call(t,a(1))},200:function(e,t,a){var n=a(26);e.exports=n("src/js/page/goodSearch/searchList",function(e,t){"use strict";var a=this,n=(a.$helpers,a.$each),o=e.goods,i=(e.good,e.$index,a.$escape),s=e.aSrc,r=e.csid,d=e.strImg,l="";return n(o,function(e,t){l+=' <li> <a href="',l+=i(s),l+="item/",l+=i(e.shopId),l+="-",l+=i(e.id),l+=".html?csid=",l+=i(r),l+='" target="_blank" class="img"><img src="',l+=i(d),l+='" alt="" data-original="',l+=i(e.mainImage),l+='" onerror="imgError(this)" width="218" height="218" ></a> <div class="text"> <a href="',l+=i(s),l+="item/",l+=i(e.shopId),l+="-",l+=i(e.id),l+=".html?csid=",l+=i(r),l+='" title="',l+=i(e.name),l+='" target="_blank"> ',e.promotionMarks.itemProspectiveRebateAmount&&(l+="<span>返利</span>"),l+=" ",l+=i(e.name),l+=' </a> <div class="price"><span>￥',l+=i(e.salePrice/100),l+="</span> ",e.discount&&(l+=" <del>",l+=i(e.price/100),l+="</del>"),l+=" </div> <p>",l+=i(e.saleQuantity),l+="人付款</p> </div> </li> "}),new String(l)})},201:function(e,t,a){(function($){"use strict";var t=$("[data-node=wrap]"),n=$("[data-node=brandList]"),o=$("[data-node=brandList]").find("li"),i=$("[data-node=letterList]"),s=a(2),r=a(28),d="active",l=function(e){var t=$(e),a=t.parents("[data-node=wrap]"),o=a.find("[data-node=letterList]").length;if(a.hasClass(d)){if(a.removeClass(d),t.html('收起<em class="icon-up"></em>'),!o)return!1;c()}else a.addClass(d),t.html('更多<em class="icon-down"></em>'),o&&(i.find("a").removeClass(d),i.find("a:eq(0)").addClass(d),n.find("li").show())},c=function(){return!($("[data-node=letterList] a").length>2)&&void s.get(r.get("getBrand"),{data:{words:t.eq(0).data("brands")}}).done(function(e){if(e.success===!0){var t=e.data.upperWord,a=e.data.firstWord;$.each(t,function(e,t){t="Other"==t?"#":t;var a='<a href="javascript:;">'+t+"</a>";i.append(a)}),$.each(o,function(e,t){$(t).attr("data-word",a[e])})}})},f=function(e){var t=$(e),a=t.text().toLowerCase();i.find("a").removeClass(d),t.addClass(d),u(a)},u=function(e){e="#"==e?"other":e,"所有品牌"==e?n.find("li").show():(n.find("li").hide(),n.find("li[data-word="+e+"]").show())},h=function(){t.on("click","[data-action=more]",function(){l(this)}),i.on("mouseenter","a",function(){f(this)})};e.exports={init:h}}).call(t,a(1))},202:function(e,t,a){(function($){"use strict";var t=a(203),n=a(205);a(54);var o=$("[data-node=minPrice]"),i=$("[data-node=maxPrice]"),s=$("[data-action=submit]"),r=function(){var e=event.keyCode;return e>=48&&e<=57},d=function(e){var t=e.val(),a=/^[0-9]+$/;a.test(t)||e.val("")},l=8,c=function(){var e=$(this),t=$.trim(e.val()),a=t.length,n=/^[0-9]+$/;return n.test(t)&&a>l&&e.val(t.substr(0,l)),!1},f=function(){var e=o.val(),t=i.val();return Number(e)>Number(t)&&(""===t?(o.val(e),i.val("")):(o.val(t),i.val(e))),0==e&&0==t&&(o.val(e),i.val("")),{min:o.val(),max:i.val()}},u=function(){var e=f();n(),t({minPrice:e.min,maxPrice:e.max})},h=function(){o.on("keypress",r),i.on("keypress",r),o.on("textchange",c),i.on("textchange",c),o.on("blur",function(){d(o)}),i.on("blur",function(){d(i)}),s.on("click",u)};e.exports={init:h}}).call(t,a(1))},203:function(e,t,a){(function(t,$){"use strict";var n=a(204),o=function(e){var a=t.query_string,o=t.mall_domain+"search/index?",i=n(a),s="";$.each(e,function(e,t){i[e]=t});for(var r in i)s+="&"+r+"="+i[r];s=s.substr(1),location.href=o+s};e.exports=o}).call(t,a(4),a(1))},204:function(e,t,a){(function($){"use strict";var t=function(e){var t=$.trim(e),a={};if(""===t)return a;for(var n=e.split("&"),o=0;o<n.length;o++){var i=n[o].split("=");a[i[0]]=i[1]}return a};e.exports=t}).call(t,a(1))},205:function(e,t,a){(function($){"use strict";var t=function(){var e="hide",t="show",a=$("[data-node=searchList]"),n=$("[data-node=result]"),o=$("[data-node=noDataShow]"),i=$("[data-node=page]"),s=$("[data-node=addMoreData]");a.addClass(e),n.addClass(e),o.removeClass(t).addClass(e),i.removeClass(t).addClass(e),s.removeClass(e)};e.exports=t}).call(t,a(1))},206:function(e,t,a){(function($){"use strict";var t=a(203),n=a(205),o=$("[data-action=rebate]"),i=$("[data-action=drop]"),s="active",r=function(e){var a=$(e);a.hasClass(s)?a.removeClass(s):a.addClass(s),n(),t({rebate:o.hasClass(s)?1:0,drop:i.hasClass(s)?1:0})},d=function(){o.on("click",function(){r(this)}),i.on("click",function(){r(this)}),$("[data-node=warning-icon]").on("click",function(){$("[data-node=search-warning]").hide()})};e.exports={init:d}}).call(t,a(1))},207:function(e,t,a){"use strict";var n=a(208),o=a(2),i=a(28),s=a(203),r=a(205),d=function(){n(function(e){var t={provName:e[0].levelName,provId:parseInt(e[0].levelId,10),cityName:e[1].levelName,cityId:parseInt(e[1].levelId,10),borName:e[2].levelName,borId:parseInt(e[2].levelId,10)};o.get(i.get("getCurrItemInfo"),{data:t}).done(function(e){e.success===!0?(r(),s({addressNodeId:t.borId})):alert(e.message)}).fail(function(){alert(e.message)})})};e.exports={init:d}},208:function(e,t,a){(function($){"use strict";var t=a(2),n=a(28),o=function(e){function a(e,t){m=!0;for(var a="",n=0,o=e.nodes.length;n<o;n++)a+='<li data-id="'+e.nodes[n].id+'">'+e.nodes[n].name+"</li>";u.hide().eq(t).show().html(a)}function o(e){if(e=e||function(){},p.length>2&&b){for(var t=0,a=p.length;t<a;t++)void 0!==p[t]&&(v[t]=p[t]);a=v.length,v.splice(p.length,v.length-p.length),e.call(null,v),p=[]}var n="",o="";for(t=0,a=v.length;t<a;t++)n+='<span data-aid="'+v[t].levelId+'" data-node="addressTop">'+v[t].levelName+"</span>",o+='<a href="javascript:;" class="" data-aid="'+v[t].levelId+'" data-action="setAddressTab"><span data-node="tabName">'+v[t].levelName+'</span><em class="icon icon-down"></em></a>';d.html(n),c.children().eq(1).html(o),f=c.find('[data-action="setAddressTab"]'),m=!0,c.hide()}function i(e,a){if(window.localStorage){var o,i=JSON.parse(localStorage.getItem("address"+e));null!==i?i.hasOwnProperty("time")&&(o=i.time<+new Date):o=!0,o?t.get(n.get("getAddress")+e,{}).done(function(t){if(200===t.code){a.call(null,t.data);var n={data:t.data,time:+new Date+6048e5};localStorage.removeItem("address"+e),localStorage.setItem("address"+e,JSON.stringify(n))}}).fail(function(e,t){}).always(function(){h&&(h=!1)}):(a.call(null,i.data),h&&(h=!1))}else t.get(n.get("getAddress")+e,{}).done(function(e){200===e.code&&a.call(null,e.data)}).fail(function(e,t){}).always(function(){h&&(h=!1)})}for(var s=$('div[data-node="topGoodInfo"]'),r=s.find('[data-action="setAddress"]'),d=r.find('[data-action="setAddressTopBox"]'),l=d.find("[data-aid]"),c=s.find('[data-node="setAddressbox"]'),f=c.find('[data-action="setAddressTab"]'),u=c.find('[data-node="setAddressList"]'),h=!1,v=[],p=[],g=l.length-1,m=!0,b=!0,w=0,C=l.length;w<C;w++)v[w]={},v[w].levelId=l.eq(w).attr("data-aid"),v[w].levelName=l.eq(w).text();r.on("click",function(e){if(e.stopPropagation(),!h){h=!0,l=d.find("[data-aid]");var t=l.eq(l.length-2).attr("data-aid");i(t,function(e){var t=l.length-1<0?0:l.length-1;f.removeClass("selected-span").eq(t).addClass("selected-span").nextAll().remove(),"none"===c.css("display")&&c.show(),a(e,t)})}}),c.on("click",function(e){e.stopPropagation()}).on("click",'[data-action="setAddressTab"]',function(e){e.stopPropagation(),g=r.find('[data-action="setAddressTab"]').index($(this));var t;"请选择"!==$(this).children().eq(0).text()&&(f.removeClass("selected-span").eq(g).addClass("selected-span"),t=$(this).prev().attr("data-aid")||0,0===g?0===u.eq(g).children().length?i(t,function(e){a(e,g)}):u.hide().eq(g).show():i(t,function(e){a(e,g)}))}).on("click","li",function(t){if(t.stopPropagation(),m){m=!1;var n=$(this).attr("data-id"),s=$(this).text(),r=u.index($(this).parents("ul"));b=0!==r,f.removeClass("selected-span").eq(r).nextAll().remove(),f.eq(r).children().eq(0).text(s),f.eq(r).attr("data-aid",$(this).attr("data-id")),r!==u.length-1?i(n,function(e){f.removeClass("selected-span").eq(r+1).addClass("selected-span"),a(e,r+1),f.eq(0).parent().append('<a href="javascript:;" data-action="setAddressTab" class="selected-span"><span data-node="tabName">请选择</span><em class="icon icon-down"></em></a>'),f=c.find('[data-action="setAddressTab"]'),p[r]={},p[r].levelId=n,p[r].levelName=s}):(p[r]={},p[r].levelId=n,p[r].levelName=s,o(e))}}).on("click",'[data-action="addressClose"]',function(t){t.stopPropagation(),"none"!==c.css("display")&&(o(e),c.hide())}),$(document).on("click",function(t){t.stopPropagation(),"none"!==c.css("display")&&(o(e),c.hide())})};e.exports=o}).call(t,a(1))}});