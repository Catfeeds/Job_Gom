webpackJsonp([34],{0:function(t,s,a){(function(t,$){"use strict";function s(){return window.location.reload(),!1}var o=a(37),e=a(268),l=a(55),n=a(28),d=a(2);6==t.type||7==t.type?$("[data-node=tell_buger]").addClass("disabled"):$("[data-node=tell_buger]").on("click",function(){var s=t.imgpath;o('<div class="sm-download"><img src="'+s+'/images/public/ma1.jpg"><p>描二维码，下载国美PlusAPP查看消息</p></div>')}),$("[data-node=clickBtn]").on("click",function(){var t=$("[data-node=goods_id]").html();$(this).hasClass("sendgoods")?e(t,s):$(this).hasClass("getgoods")&&i(t)});var i=function(t){var s=t,a="确认商家已上门取货？",o="商家取货后请点击“确定”按钮确认，以免耽误您的退款。";l("提示",{width:600,fixed:!0,modal:!0,title:"提示",content:'<h3 class="two-title" data-idShure='+s+' data-node="shureP" >'+a+'</h3><p class="pay-pop-p   pay-pop-text">'+o+'</p><div data-node="togoleDiv"  style="text-align:center;font-size:12px;color:red;padding-bottom:10px;" ></div>',className:"pop-box pop-pad-btm65",okCls:"pc-btn pc-btnh40 pc-btnw120",cancelCls:"queren-btn pc-btnh40 pc-btnw120",ok:function(){return $("[data-node=togoleDiv]").html(""),d.get(n.get("orderSendGood")+"?orderid="+t).then(function(t){t.success?($("button[i=close]").click(),window.location.reload()):($("[data-node=togoleDiv]").html("* 请求失败，请重新点击"),$("[data-node=togoleDiv]").removeClass("hide").addClass("show"))}),!1},btnWrapCls:"two-buttons"})}}).call(s,a(4),a(1))},55:function(t,s,a){(function($){"use strict";var s=a(22),o=function(){},e=function(t,a){var e={fixed:!0,modal:!0,content:'<p class="del-pop-p">'+t+"</p>",className:"pop-box",okCls:"pc-btn pc-btnh35 circle-pop-btn",ok:o,cancel:o,btnWrapCls:"two-buttons"};$.extend(!0,e,a);var l=s(e);return l.show(),l};t.exports=e}).call(s,a(1))},268:function(t,s,a){(function($){"use strict";var s=a(269),o=(a(22),a(55)),e=a(28),l=a(2),n=function(t,s){c(s);var a=t;$("[data-node=logisticNo]").on("keyup",function(){var t=$("[data-node=orderNumNull]"),s=$(this).val(),a=$(this).val().length,o=new RegExp("^[A-Za-z0-9]+$");return o.test(s)?(a<1&&t.css("display","none"),a>20?($(this).attr("autocomplete","off"),t.css("display","block"),t.html("运单号不能超过20个字符")):t.css("display","none"),/\s/.test(s)?(t.css("display","block"),t.html("请输入正确的订单号"),!1):void 0):(t.css("display","block"),t.html("运单号只能是数字或英文"),!1)});var o={$showLogistics:$("[data-node=showLogistics]"),$ul:$("[data-node=addMsgUL]"),$input:$("[data-node=insertBox]")};o.$showLogistics.on("click",function(t){t.stopPropagation(),$("[data-node=addMsgNull]").css("display","none"),$("[data-node=addMsgNull]").html(""),o.$ul.hasClass("hasList")||d(o.$ul),o.$ul.hasClass("show")?o.$ul.addClass("hide").removeClass("show"):o.$ul.addClass("show").removeClass("hide")}),o.$ul.on("click","li",function(){var t=$(this).children("a").attr("id"),s=$(this).children("a").html();o.$input.html(s),o.$input.attr("id",t),o.$input.attr("data-orderId",a),o.$ul.addClass("hide").removeClass("show")})},d=function(t){t.empty(),l.post(e.get("logisticsList")).then(function(s){if(s.success){for(var a=s.data,o="",e=0;e<a.length;e++){var l='<li><a href="javascript:;" id="'+a[e].id+'"">'+a[e].name+"</a></li>";o+=l}t.append(o),t.addClass("hasList show")}})},i=function(t){var s=$("[data-node=orderNumNull]"),a=$("[data-node=addMsgNull]"),o=$("[data-node=insertBox]"),n=o.attr("id"),d=o.attr("data-orderid"),i=$("[data-node=logisticNo]").val();if(s.css("display","none"),a.css("display","none"),!d)return a.css("display","block"),a.html("快递公司为空，请填写"),!1;if(!i)return s.css("display","block"),s.html("运单号不能为空，请填写"),!1;var c=new RegExp("^[A-Za-z0-9]+$");if(!c.test(i))return s.css("display","block"),s.html("运单号只能是数字或英文"),!1;if(/\s/.test(i))return s.css("display","block"),s.html("请输入正确的订单号"),!1;if(i.length>20)return s.css("display","block"),s.html("运单号不能超过20个字符"),!1;var r={logisticVenderId:parseInt(n),orderid:parseInt(d),logisticNo:i};return l.post(e.get("sendGoods"),{data:r}).then(function(a){a.success?(s.css("display","none"),s.html(""),t(),$("[data-node=loadList]").attr("data-page",1),$("[i=close]").click()):(s.css("display","block"),s.html(a.message))}),!1},c=function(t){o("",{width:600,fixed:!0,modal:!0,title:"一键发货",content:s,className:"pop-box pop-pad-btm65",okCls:"pc-btn pc-btnh40 pc-btnw120",cancelCls:"queren-btn pc-btnh40 pc-btnw120",ok:function(){return i(t)},btnWrapCls:"two-buttons"})};t.exports=n}).call(s,a(1))},269:function(t,s,a){var o=a(26);t.exports=o("src/js/module/popup/onekeydeliver/deliverGoods",'<ul class="shipping-input"> <li> <label>选择快递公司：</label> <div class="express-select-box"> <div class="express-select active" data-node="showLogistics" > <div class="selected" data-node="insertBox">请选择</div><em class="icon icon-down icon-up"></em> </div> <ul class="select-list" data-node="addMsgUL" style="max-height:140px;overflow-y:scroll"> </ul> <p class="error-txt" data-node="addMsgNull"></p> </div> </li> <li> <label>选择快递单号：</label> <input type="text" placeholder="请输入20字以内的快递单号" class="express-number" data-node="logisticNo"> <p class="error-txt" data-node="orderNumNull"></p> </li> </ul>')}});