webpackJsonp([26],{0:function(t,e,a){(function($,t){"use strict";a(46),a(54);var e=a(2),i=a(28),n=a(51),o=a(37),d=a(36),s=a(40),r=a(42);a(242),a(243);var c=a(244);a(245);var l=a(56);l.setPageData("register");var u=$("[data-node=lg-form]"),p=u.find("[data-node='phone_number']"),f=u.find("[data-node='input_phone_number']"),m=u.find("[data-node='tip_phone_number']"),v=u.find("[data-node='check_code_li']"),h=u.find("[data-node='check_code_input']"),g=u.find("[data-node='check_code_tip']"),b=u.find("[data-node='check_code_img']"),_=u.find("[data-node='check_code_change']"),C=u.find("[data-node='input_msg_test']"),k=u.find("[data-node='tip_msg_test']"),y=u.find("[data-node=tip_msg_test]"),w=u.find("[data-node='password']"),x=u.find("[data-node='input_password']"),V=u.find("[data-node='tip_pass']"),A=u.find("[data-node='code_input']"),E=u.find("[data-node=complete]");c.init(),$("[data-node=input_phone_number],[data-node=input_msg_test],[data-node=input_password],[data-node=input_password_confirm],[data-node=code_input]").placeholder(),$.fn.extend({tipVisible:function(t){var e=t||!1;"SPAN"==this[0].nodeName?e?$(this).html(e).css({visibility:"visible",color:"#F95353"}):$(this).css({visibility:"visible",color:"#F95353"}):$(this).css("visibility","visible")},tipHide:function(){$(this).css("visibility","hidden")}});var N=function(e){var a=e||!0;"keep"!=a&&(b.attr("src",t.passport_domain+i.get("getCheckCode")+"?setid=register&num="+(new Date).getTime()),h.val(""))},S=function(){N(),g.tipHide(),v.removeClass("lg-form-error")},I=function(){if(""==n(f.val()))return N(),function(){p.addClass("lg-form-error").attr("data-verification","1"),m.tipVisible(d.tel.ept)}();var a=p.attr("data-verification"),r=w.attr("data-pass");if(0==a){if(0==a&&""==n(C.val()))return y.tipVisible(d.msgCode.tipEpt);if(0==a&&6==!C.val().length)return y.tipVisible(d.msgCode.tipErr);if(""==n(x.val())&&0==a)return V.tipVisible();if(A.attr("data-userid")===!1)return o("推荐码错误");if(0==a&&0==r&&(""==A.attr("data-userid")||0!=A.attr("data-userid"))){var c={mobile:f.val(),password:s(x.val()),verifyCode:C.val()};0==A.attr("data-code")&&A.attr("data-userId")&&(c.membershipRefereeCode=A.val()),e.post(i.get("registSubmit"),{data:c}).done(function(e){e.success?location.href=t.passport_domain+"regist/indexnickname":"881006"==e.code||"100010"==e.code?y.tipVisible(d.msgCode.tipWrong):"881007"==e.code?(V.html(e.message).show(),$("[data-node=password_allright]").tipHide()):422==e.code?y.tipVisible(d.msgCode.tipWrong):o(e.message),N()}).fail(function(){N(),o("数据请求失败 请稍后尝试")})}}},z=function(){var t=p.attr("data-verification"),a=$("[data-node='tip_msg_test']"),s=$("[data-node='get_verifyCode']");if("0"==t){if(s.html()!=d.msgCode.btnDefault)return void a.tipVisible(d.msgCode.tipDisabled);if(0==n(h.val()).length)return function(){v.addClass("lg-form-error"),g.tipVisible("请先输入验证码")}();var r={mobile:$("[data-node = 'phone_number'] input[type = 'text']").val(),code:h.val(),setid:"register"};e.post(i.get("getVerificationCode"),{data:r}).done(function(t,e,i){if(t.success){var n=60;s.css("background","#DDD").html(n+d.msgCode.btnAfterSend),v.removeClass("lg-form-error"),g.tipHide(),N("keep"),k.html(d.msgCode.tipSend).css({visibility:"visible",color:"#F95353"});var o=setInterval(function(){1==n?(clearInterval(o),k.css("visibility","hidden"),s.html(d.msgCode.btnDefault),a.tipHide()):(n--,s.html(n+d.msgCode.btnAfterSend))},1030)}else"该手机号已被注册"==t.message?m.tipVisible(d.tel.errBack):"发送次数超过限制"==t.message?a.tipVisible(d.msgCode.tipLimitEdit):"验证码输入错误,请重新输入"==t.message||"9111912"==t.code?(v.addClass("lg-form-error"),N(),g.tipVisible(d.msgCode.checkCodeWrong)):"验证码错误"==t.message?a.tipVisible(d.msgCode.tipWrong):a.tipVisible(t.message)}).fail(function(t,e,a){o("数据请求失败 请稍后尝试")})}else""==f.val()?m.tipVisible(d.tel.ept):m.tipVisible(d.tel.err),p.addClass("lg-form-error")};C.on("textchange",function(){$("[data-node='tip_msg_test']").tipHide()}),$("[data-node='get_verifyCode']").on("click",z),$("[data-node=input_msg_test]").on("textchange",function(){var t=/^[0-9]*$/;($(this).val().length<6||!t.test($(this).val()))&&(0==$(this).val().length?$("[data-node=tip_msg_test]").tipVisible(d.msgCode.tipEpt):$("[data-node=tip_msg_test]").tipVisible(d.msgCode.tipErr))}),h.on("textchange",function(){var t=$(this);v.removeClass("lg-form-error"),g.tipHide(),n(t.val()).length>4&&t.val(r(t.val(),4))}),_.on("click",S),E.unbind("input").on("click",I)}).call(e,a(1),a(4))},51:function(t,e){"use strict";var a=function(t){return t.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")};t.exports=a},54:function(t,e,a){(function($){"use strict";var t=document.createElement("input"),e="oninput"in t&&(!("documentMode"in document)||document.documentMode>9),a=function(t){return"INPUT"===t.nodeName&&("text"===t.type||"password"===t.type)},i=null,n=null,o=null,d={get:function(){return o.get.call(this)},set:function(t){n=t,o.set.call(this,t)}},s=function(t){i=t,n=t.value,o=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(i,"value",d),i.attachEvent("onpropertychange",c)},r=function(){i&&(delete i.value,i.detachEvent("onpropertychange",c),i=null,n=null,o=null)},c=function(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==n&&(n=e,$(i).trigger("textchange"))}};e?$(document).on("input",function(t){"TEXTAREA"!==t.target.nodeName&&$(t.target).trigger("textchange")}):$(document).on("focusin",function(t){a(t.target)&&(r(),s(t.target))}).on("focusout",function(){r()}).on("selectionchange keyup keydown",function(){i&&i.value!==n&&(n=i.value,$(i).trigger("textchange"))})}).call(e,a(1))},64:function(t,e){"use strict";var a={checkVal:function(t,e){return e.test(t)},isMobileNum:function(t){return/^1[34578][0-9]{9}$/.test(t)},isEmail:function(t){return/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/.test(t)},isCertificate:function(t){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(t)},isCID:function(t){return/^(\d{16}|\d{19})$/.test(t)},isCWord:function(t,e,a){e=!isNaN(e)&&e>0?e:1,a=!isNaN(a)&&a>0?a:"";var i=new RegExp("^[\\u4e00-\\u9fa5]{"+e+","+a+"}$");return i.test(t)},isArray:function(t){return Array.isArray(t)||t instanceof Array},passwordReg:function(t){var e=/^((?=.*?\d)(?=.*?[A-Za-z])|(?=.*?\d)(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，\"\,\:\;；,\.‘’“”：'"\·`【】])|(?=.*?[A-Za-z])(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]))[\dA-Za-z<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]{6,21}$/;return e.test(t)},checkSpace:function(t){var e=/\s+/;return e.test(t)},checkRefCode:function(t){var e=/^[0-9a-zA-Z]{8}$/;return e.test(t)},checkNickName:function(t){var e=/^([\u4e00-\u9fa5]|[0-9a-zA-Z_-])+$/;return e.test(t)},isMsgCode:function(t){var e=/^\d{6}$/;return e.test(t)},isImgCode:function(t){var e=/^[0-9a-zA-Z]{4}$/;return e.test(t)}};t.exports=a},168:function(t,e,a){"use strict";function i(t){var e=0,a=n(t);return t?(e+=a<=6?5:a>=11?25:10,e+=t.match(/[a-z]/i)?t.match(/[a-z]/)&&t.match(/[A-Z]/)?20:10:0,e+=t.match(/[0-9]/)?t.match(/[0-9]/g).length>=3?20:10:0,e+=t.match(/\W/)?t.match(/\W/g).length>1?25:10:0,e+=t.match(/[0-9]/)&&t.match(/[a-z]/i)?t.match(/\W/)?t.match(/[a-z]/)&&t.match(/[A-Z]/)?5:3:2:0):0}var n=a(43);t.exports=i},242:function(t,e,a){(function($){"use strict";var t=a(51),e=a(36),i=function(){var a=/^1[3|4|5|7|8][0-9]\d{8,8}$/g,i=function(t){$("[data-node='phone_number']").addClass("lg-form-error").attr("data-verification","1"),$("[data-node='tip_phone_number']").html(t).css("visibility","visible")},n=this.value;return""==t(n)?i(e.tel.ept):a.test(n)?($("[data-node='phone_number']").removeClass("lg-form-error").attr("data-verification","0"),$("[data-node='tip_phone_number']").css("visibility","hidden"),$("[data-node='phone_number_allright']").css("visibility","visible"),void 0):i(e.tel.err)};$("[data-node='phone_number'] input[type = 'text']").on({blur:i,focus:function(){$("[data-node='phone_number']").removeClass("lg-form-error"),$("[data-node='phone_number_allright']").css("visibility","hidden"),$("[data-node='tip_phone_number']").css("visibility","hidden")}})}).call(e,a(1))},243:function(t,e,a){(function($){"use strict";var t=a(51),e=a(64),i=a(168);a(54);var n=a(36),o=$("[data-node='password']"),d=$("[data-node='input_password']"),s=$("[data-node=password_allright]"),r=$("[data-node=input_password_confirm]"),c=$("[data-node=password_confirm_allright]"),l=$("[data-node=password_confirm]"),u=$("[data-node=tip_password_confirm]"),p=$("[data-node='tip_pass']"),f=o.find("[data-node=password_eyes]");$.fn.extend({visible:function(){$(this).css("visibility","visible")},hidden:function(){$(this).css("visibility","hidden")}});var m={onfocus:function(){p.css({visibility:"visible",color:"#F95353"})},input:function(){var a=t(d.val()),f=r.val();""!=a?($("[data-node='pass_level']").css("display","block"),i(a)<60?($("[data-node='level_strong'],[data-node='level_md']").css("background-color","#CCC"),$("[data-node='level_weak']").css("background-color","#e60012"),i(a)<=27||!e.passwordReg(a)||a.length<6?(p.html(n.pwd.commonTip).show(),o.attr("data-pass","1")):(p.html(n.pwd.commonTip).hide(),o.attr("data-pass","0"))):i(a)>=60&&i(a)<80?e.checkSpace(d.val())||($("[data-node='level_weak'],[data-node = 'level_strong']").css("background-color","#CCC"),$("[data-node='level_md']").css("background-color","#f39800"),o.attr("data-pass","0")):i(a)>=80&&(e.checkSpace(d.val())||($("[data-node='level_weak'],[data-node = 'level_md']").css("background-color","#CCC"),$("[data-node='level_strong']").css("background-color","#22ac38"),o.attr("data-pass","0"))),a.length>=6&&a.length<=20&&e.passwordReg(a)?i(a)>27&&!e.checkSpace(d.val())?(s.visible(),o.attr("data-pass","0")):e.checkSpace(d.val())&&(s.hidden(),o.attr("data-pass","1"),p.html(n.pwd.commonTip).show()):(s.hidden(),o.attr("data-pass","1")),f==a||0!=l.attr("data-passconfirm")||e.checkSpace(d.val())?f==a&&1==l.attr("data-passconfirm")?("visible"==s.css("visibility")&&(l.attr("data-passconfirm",0),c.visible()),u.hidden()):f!=a&&1==l.attr("data-passconfirm")&&e.checkSpace(d.val())?(c.hidden(),u.hidden()):c.hidden():(l.attr("data-passconfirm",1),c.hidden(),u.visible())):(e.checkSpace(d.val())&&(p.html(n.pwd.commonTip).show(),f==d.val()&&u.hidden()),$("[data-node='pass_level']").css("display","none"),p.html(n.pwd.commonTip).show(),o.attr("data-pass","1"))}},v=function(){$(this).hasClass("active")?(d.attr("type","text"),$(this).removeClass("active")):(d.attr("type","password"),$(this).addClass("active"))};f.on("click",v),d.on({focus:m.onfocus,textchange:m.input})}).call(e,a(1))},244:function(t,e,a){(function($,e){"use strict";var a=$("[data-node=ssoMask]"),i=$("[data-node=ssoMain]"),n=i.find("em.icon-btn"),o=i.find("a.pc-btnw300.pc-btn.pc-btnh45"),d=!1,s=function(t){var s=t||!1,r=function(){a.addClass("hide"),i.addClass("hide"),d=!0},c=function(){return s?(location.href=s,!1):void(""==document.referrer?location.href=e.main_domain:location.href=document.referrer)};o.on("click",r),n.on("click",c)},r=function(){return d};t.exports={init:s,valid:r}}).call(e,a(1),a(4))},245:function(t,e,a){(function($){"use strict";var e=a(2),i=a(28),n=a(51),o=a(36),d=$("[data-node=lg-form]"),s=d.find("[data-node='code_li']"),r=d.find("[data-node='code_input']"),c=(d.find("[data-node='code_skip']"),d.find("[data-node='code_complete']"),d.find("[data-node=code_span]")),l=d.find("[data-node=code_allright]"),u=d.find("[data-node=recommend_open]"),p=d.find("[data-node=recommend_icon]"),f={onfocus:function(){c.css("visibility","hidden"),l.css("visibility","hidden")},onblur:function(){var t=r.val();""!=n(r.val())?e.post(i.get("checkRecommendationCode"),{data:{referralCode:t}}).done(function(t,e,a){t.success?(r.attr({"data-code":"0","data-userId":t.data.userId}),l.css("visibility","visible")):(r.attr({"data-code":"1","data-userId":"false"}),c.html(o.refCode.err).css({visibility:"visible",color:"#F95353"}),l.css("visibility","hidden"))}).fail(function(t,e,a){alert("数据请求失败 请稍后尝试")}):(r.attr({"data-userId":""}),r.val().length>0&&c.html(o.refCode.err).css({visibility:"visible",color:"#F95353"}))},oninput:function(){var t=r.val();""!=n(r.val())?r.attr({"data-userId":t}):r.attr({"data-userId":""})}},m=function(){r.on({focus:f.onfocus,blur:f.onblur,input:f.oninput})},v=function(){s.hasClass("hide")?(s.removeClass("hide"),p.attr("class","iconn-1")):(s.addClass("hide"),p.attr("class","iconn-2"))};u.on("click",v),p.on("click",v),t.exports=m()}).call(e,a(1))}});