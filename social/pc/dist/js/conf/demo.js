webpackJsonp([7],{0:function(e,t,n){(function(e,$){"use strict";var t=(n(2),n(48)),a=(n(28),n(42),n(74),n(49),n(118),n(120),n(37),n(55),n(123));a.shareItem("[data-action=shareList]");var i=(n(125),function(e){});t("mailArrived").sub(i),t("mailArrived").pub({title:"value from publish uu "}),$("[data-trigger=spinner]").spinner({delay:200,min:1,max:3,beforeChange:function(){return!1},rangemin:function(){},rangemax:function(){},changed:function(e,t,n){}})}).call(t,n(1),n(1))},49:function(e,t,n){(function(t,$){"use strict";var a=n(50),i=n(22),s=n(48),o=n(2),r=n(28),d=n(43),c=n(51),l=n(42),u=n(52),h=n(37);n(46),n(54);var p,f,m,v,g,x,y,b,w,k,C,I,M,D,N=function(){p=this._$("content"),f=p.find("[data-node=name]"),m=p.find("[data-node=nameTip]"),v=p.find("[data-node=idCard]"),g=p.find("[data-node=idCardTip]"),x=p.find("[data-node=addr]"),y=p.find("[data-node=addrTip]"),b=p.find("[data-node=phone]"),b.attr("maxlength",12),w=p.find("[data-node=phoneTip]"),C=p.find("[data-node=setDefault]"),I=p.find("[data-node=province]"),M=p.find("[data-node=city]"),D=p.find("[data-node=borough]"),k=p.find("[data-node=areaTip]")},S=function(){f.placeholder(),x.placeholder(),b.placeholder()},Y=function(e,t,n){var a=d(e),i=!0;return(a>t||a<n)&&(i=!1),i},T=function(){var e=c(f.val());f.val(e);var t=!0;return Y(e,20,2)?m.hide():(t=!1,m.show()),t},F=function(){if("1"!=t.isCross)return!0;var e=c(v.val());v.val(e);var n=!0;return/^\d{17}[\dxX]$/.test(e)?g.hide():(n=!1,g.show()),n},P=function(){var e=c(x.val());x.val(e);var t=!0;return Y(e,60,5)?y.hide():(t=!1,y.show()),t},q=function(){var e=c(b.val()),t=/^0([0-9]{3,4}-)?[0-9]{10,12}$/,n=/^1[34578][0-9]{9}$/,a=t.test(e)||n.test(e);return a?w.hide():w.show(),a},H=function(){var e=u.getData(),t=!0;return e.provinceId&&e.boroughId&&e.cityId?k.hide():(t=!1,k.show()),t},A=function(){var e=!0;return T()||(e=!1),F()||(e=!1),P()||(e=!1),q()||(e=!1),H()||(e=!1),e},j=function(e,t){var n=c(e.val()),a=d(n);a>t&&e.val(l(n,t))},O=function(){var e=C.data("checked"),n=v.val()||"",a=18===n.length,i={userName:f.val(),idCard:n.toUpperCase(),address:x.val(),mobile:b.val(),isDefault:e?1:0,isCross:!!parseInt(t.isCross),hasIdCardVal:a},s=u.getData();return s.areaId&&(i.areaId=s.areaId,i.areaName=s.areaName),s.provinceId&&(i.provinceId=s.provinceId,i.provinceName=s.provinceName),s.cityId&&(i.cityId=s.cityId,i.cityName=s.cityName),s.boroughId&&(i.boroughId=s.boroughId,i.boroughName=s.boroughName),i},V=function(){var e=p.find("[data-node=province]"),t=p.find("[data-node=city]"),n=p.find("[data-node=borough]"),a=p.find("[data-node=area]");u.init([e,t,n,a],["选择省","选择市","选择区县","选择街道"],{},[{content:'<span class="menu-add" data-node="checked">选择省</span>',btn:'<span class="down-arrow"><em class="iconn-2"></em></span>'},{content:'<span class="menu-add" data-node="checked">选择市</span>',btn:'<span class="down-arrow"><em class="iconn-2"></em></span>'},{content:'<span class="menu-add" data-node="checked">选择区县</span>',btn:'<span class="down-arrow"><em class="iconn-2"></em></span>'},{content:'<span class="menu-add" data-node="checked">选择街道</span>',btn:'<span class="down-arrow"><em class="iconn-2"></em></span>'}])},z=function(){f.on("blur",function(){T()}),f.on("textchange",function(){var e=$(this),t=e.data("name");e.val()!=t&&""!==t&&v.val("").prop("readonly",!1),j(f,20)}),v.on("blur",function(){F()}),v.on("contextmenu",function(){return!1}),v.on("keydown",function(e){var t=e.keyCode;return t>=48&&t<=57||t>=96&&t<=105||88==t||8==t||46==t||t>=37&&t<=40}),v.on("textchange",function(){var e=$(this).val(),t="";/^\d{1,18}$|^\d{17}[xX]$/.test(e)||(t=$.trim(e.substr(0,e.length-1)),$(this).val(t))}),x.on("blur",function(){P()}),x.on("textchange",function(){j(x,60)}),b.on("blur",function(){q()}),C.on("click",function(){var e=$(this),t=e.find("span"),n="menu-radio-checked";return t.hasClass(n)?(e.data("checked",0),t.removeClass(n)):(e.data("checked",1),t.addClass(n)),!1}),I.on("click","a",function(){H()}),M.on("click","a",function(){H()}),D.on("click","a",function(){H()})},L=function(){f.off(),v.off(),x.off(),b.off(),C.off(),u.destroy()},B={name:"",phone:"",addr:"",province:"",city:"",borough:"",area:"",setDefault:!0,isCross:!1},U=function(e,n){var d=e.name,c=r.get("addAddress"),l="addr.add",u=e.addressId;u&&(c=r.get("editAddress"),l="addr.edit");var p=a(e||B);n=n||{};var f=!1,m={title:"编辑收货地址",modal:!0,fixed:!0,content:p,className:"pop-box",okValue:"确定",okCls:"pc-btn pc-btnh35 circle-pop-btn",ok:function(){var e=this;if(A()){if(f)return!1;f=!0;var n=O();"0"===t.isCross&&d!=n.userName&&n.idCard&&(n.idCard=""),u&&(n.addressId=u),void 0===n.areaId&&(n.areaId="110114001",n.areaName="全部区域"),o.post(c,{data:n}).done(function(t){var a=$("[data-node=userCardTips]"),i=t.code,o=t.data||{};if(200===i){o.addressId&&(n.addressId=o.addressId),s(l).pub(n);var r=$("[data-node=curAddr]"),d=r.closest("tr");if(r.length){var c=d.find("[data-node=addrInfos]").data("addr").idCard,u=!!$.trim(c);a.length&&u&&(a.remove(),d.find("[data-action=editAddr]").closest("td").removeClass("hide-text"))}e.close(),e.remove()}else h(t.message)}).fail(function(){}).always(function(){f=!1})}return!1},onshow:function(){N.call(this),V.call(this),S(),z()},onclose:function(){L(),f=!1}};$.extend(!0,m,n);var v=i(m);return v.show(),v};e.exports=U}).call(t,n(4),n(1))},50:function(e,t,n){var a=n(26);e.exports=a("src/js/module/popup/deliveryAddr/content",function(e,t){"use strict";var n=this,a=(n.$helpers,n.$escape),i=e.name,s=e.isCross,o=e.idCard,r=e.hasIdCardVal,d=e.provinceId,c=e.province,l=e.cityId,u=e.city,h=e.boroughId,p=e.borough,f=e.areaId,m=e.area,v=e.addr,g=e.phone,x=e.isDefault,y="";return y+='<div class="edit-add-box"> <dl class="receiver clearfix"> <dt>收货人:</dt> <dd> <input type="text" data-node="name" data-name="',y+=a(i),y+='" placeholder="请输入姓名" value="',y+=a(i),y+='"> </dd> </dl> <p class="warn-txt" data-node="nameTip">收货人姓名为2-20个字符</p> ',s&&(y+=' <dl class="receiver clearfix"> <dt>身份证号:</dt> <dd> <input type="text" data-node="idCard" data-idcard="',y+=a(o),y+='" ',r&&(y+='readonly="true"'),y+=' placeholder="请输入身份证号" value="',y+=a(o),y+='"> </dd> </dl> <p class="warn-txt" data-node="idCardTip">请填写与收货人姓名对应的身份证号码</p> '),y+=' <dl class="area clearfix"> <dt>所在地区:</dt> <dd data-node="areaList"> <div data-node="province" data-provinceId=',y+=a(d),y+=">",y+=a(c),y+='</div> <div data-node="city" data-cityId=',y+=a(l),y+=">",y+=a(u),y+='</div> <div data-node="borough" data-boroughId=',y+=a(h),y+=">",y+=a(p),y+='</div> <div data-node="area" data-areaId=',y+=a(f),y+=">",y+=a(m),y+='</div> </dd> </dl> <p class="warn-txt" data-node="areaTip">请补充地址</p> <dl class="detail-add clearfix"> <dt>详细地址:</dt> <dd> <input type="text" data-node="addr" placeholder="请如实填写详细地址" value="',y+=a(v),y+='"> </dd> </dl> <p class="warn-txt" data-node="addrTip">限制为5-60个字符</p> <dl class="phone clearfix"> <dt>电话/手机:</dt> <dd> <input type="text" data-node="phone" placeholder="请输入电话/手机号" value="',y+=a(g),y+='"> </dd> </dl> <p class="warn-txt" data-node="phoneTip">请输入手机号/电话号码</p> <div class="set-default-add"> <label data-node="setDefault" data-checked="',y+=x===!0?"true":"false",y+='"> <span class="menu-radio ',y+=x===!0?"menu-radio-checked":"''",y+='"></span>设置为默认地址 </label> </div> </div> ',new String(y)})},51:function(e,t){"use strict";var n=function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")};e.exports=n},52:function(e,t,n){(function($){"use strict";n(53);var t,a=n(2),i=n(28),s={},o=function(e,n,o,r){function d(e,t){if(window.localStorage){var n=JSON.parse(localStorage.getItem("address"+e)),s=null===n||!n.hasOwnProperty("time")||n.time<+new Date;s?a.get(i.get("getAddress")+e,{}).done(function(n){if(200===n.code){t.call(null,n.data);var a={data:n.data,time:+new Date+6048e5};localStorage.removeItem("address"+e),localStorage.setItem("address"+e,JSON.stringify(a))}}).fail(function(e,t){}):t.call(null,n.data)}else a.get(i.get("getAddress")+e,{}).done(function(e){200===e.code&&t.call(null,e.data)}).fail(function(e,t){})}function c(t,a){var i=t;a||(i++,e[t].find("div").children().eq(0).text(s[u[t][1]]));for(var o=i,r=e.length;o<r;o++)void 0!==s[u[o][0]]&&(delete s[u[o][0]],delete s[u[o][1]]),e[o].find("div").children().eq(0).text(l?n:n[o]),o!=i&&e[o].find("ul").html("")}var e=e,l=!1,u=[["provinceId","provinceName"],["cityId","cityName"],["boroughId","boroughName"],["areaId","areaName"]],h={},p=!(r instanceof Array);o=$.extend({},h,o),t=e,"string"==typeof n&&(l=!0);for(var f=0;f<t.length;f++){var m=l?n:n[f];m!==t[f].text()&&(s[u[f][0]]=t[f].attr("data-"+[u[f][0]]),s[u[f][1]]=t[f].text());var v=f-1>=0?t[f-1].attr("data-"+[u[f-1][0]]):0;!function(a){var i=o;i.please=l?n:n[a],i.onChanged=function(i){var o=i.value,r=!1;void 0===o?r=!0:(s[u[a][0]]=i.value,s[u[a][1]]=i.text,a+1<=t.length-1&&d(~~o,function(t){e[a+1].setList({data:t.nodes,please:l?n:n[a+1],textName:"name",valueName:"id"})})),c(a,r)},e[a].selects(p?r:r[a],i),""!==v&&d(v,function(e){t[a].setList({data:e.nodes,please:l?n:n[a],textName:"name",valueName:"id",checked:t[0].find("div").children().eq(0).text()})})}(f)}},r=function(){for(var e=0,n=t.length;e<n;e++)t[e].off()},d=function(){return s};e.exports={init:o,destroy:r,getData:d}}).call(t,n(1))},53:function(e,t,n){(function($){"use strict";$.fn.extend({selects:function(e,t){var n=this,a={content:'<span class="span1">'+$(n).text()+"</span>",btn:'<span class="span2"></span>'},i=$.trim($(n).text()),s={data:[],checked:i,please:"请选择",textName:"text",valueName:"value",selectdCls:"active",checkText:!0,checkedCls:"active",disable:"disable",onChanged:function(){}};e=$.extend({},a,e),t=$.extend({},s,t);var o=$("<div></div>").appendTo($(n).empty()).height($(n).height());$(e.content).text(""===i?t.please:i).appendTo(o).attr("data-node","checked"),$(e.btn).appendTo(o);for(var r,d,c=null,l='<ul data-node="selectList"><li><a href="javascript:;">'+t.please+"</a></li>",u=t.parent?$(t.parent):this,h=t.parent?this.selector:void 0,p=0,f=t.data.length;p<f;p++)c=void 0!==t.data[p][t.valueName]?t.data[p][t.valueName]:p,l+='<li class="'+(t.data[p].checked===c?t.checkedCls:"")+'"><a href="javascript:;" data-value="'+c+'" data-index="'+p+'">'+t.data[p][t.textName]+"</a></li>";return l+="</ul>",$(l).appendTo($(n)),u.on("click",h,function(e){e.stopPropagation(),$('ul[data-node="selectList"]').hide(),0===t.data.length&&"running"!==$(this).attr("data-refresh")||$(this).hasClass(t.disable)||($(this).addClass(t.selectdCls),0!==$(this).find("ul li").length&&$(this).find("ul").show())}),u.on("click",'ul[data-node="selectList"] a',function(e){return e.stopPropagation(),r=$(this).parents("ul").parent().find('[data-node="checked"]'),r.text()!==$(this).text()&&(d={text:$(this).text()!==t.please?$(this).text():"",value:$(this).attr("data-value"),index:$(this).attr("data-index")},t.checkText&&r.text($(this).text()),void 0!==t.checkedCls&&$(this).parent().addClass(t.checkedCls).siblings().removeClass(t.checkedCls),t.onChanged.call(this,d)),$(this).parents("ul").hide(),!1}),$(document).on("click",function(){n.find("ul").hide()}),this},setList:function(e){$(this).attr("data-refresh","running");var t,n=this,a={data:[],textName:"text",checked:"",valueName:"value",please:"请选择",checkedCls:"active"};e=$.extend({},a,e);var i='<li><a href="javascript:;">'+e.please+"</a></li>";if(0!==e.data.length)for(var s=0,o=e.data.length;s<o;s++)t=void 0!==e.data[s][e.valueName]?e.data[s][e.valueName]:s,i+='<li class="'+(e.checked===e.data[s][e.textName]?e.checkedCls:"")+'"><a href="javascript:;" data-value="'+t+'">'+e.data[s][e.textName]+"</a></li>";return $(n).find('[data-node="selectList"]').html(i),this}})}).call(t,n(1))},54:function(e,t,n){(function($){"use strict";var e=document.createElement("input"),t="oninput"in e&&(!("documentMode"in document)||document.documentMode>9),n=function(e){return"INPUT"===e.nodeName&&("text"===e.type||"password"===e.type)},a=null,i=null,s=null,o={get:function(){return s.get.call(this)},set:function(e){i=e,s.set.call(this,e)}},r=function(e){a=e,i=e.value,s=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(a,"value",o),a.attachEvent("onpropertychange",c)},d=function(){a&&(delete a.value,a.detachEvent("onpropertychange",c),a=null,i=null,s=null)},c=function(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==i&&(i=t,$(a).trigger("textchange"))}};t?$(document).on("input",function(e){"TEXTAREA"!==e.target.nodeName&&$(e.target).trigger("textchange")}):$(document).on("focusin",function(e){n(e.target)&&(d(),r(e.target))}).on("focusout",function(){d()}).on("selectionchange keyup keydown",function(){a&&a.value!==i&&(i=a.value,$(a).trigger("textchange"))})}).call(t,n(1))},55:function(e,t,n){(function($){"use strict";var t=n(22),a=function(){},i=function(e,n){var i={fixed:!0,modal:!0,content:'<p class="del-pop-p">'+e+"</p>",className:"pop-box",okCls:"pc-btn pc-btnh35 circle-pop-btn",ok:a,cancel:a,btnWrapCls:"two-buttons"};$.extend(!0,i,n);var s=t(i);return s.show(),s};e.exports=i}).call(t,n(1))},74:function(e,t,n){(function($){"use strict";var t,n,a=function e(t,n){return this.$el=t,this.options=$.extend({},e.rules.defaults,e.rules[n.rule]||{},n),this.min=Number(this.options.min)||0,this.max=Number(this.options.max)||0,this.$el.on({"focus.spinner":$.proxy(function(e){e.preventDefault(),this.oldValue=this.value()},this),"change.spinner":$.proxy(function(e){e.preventDefault(),this.value(this.$el.val())},this),"keydown.spinner":$.proxy(function(e){var t={38:"up",40:"down"}[e.which];t&&(e.preventDefault(),this.spin(t))},this)}),this.oldValue=this.value(),this.value(this.$el.val()),this};a.rules={defaults:{min:null,max:null,step:1,precision:0},currency:{min:0,max:null,step:.01,precision:2},quantity:{min:1,max:999,step:1,precision:0},percent:{min:1,max:100,step:1,precision:0},month:{min:1,max:12,step:1,precision:0},day:{min:1,max:31,step:1,precision:0},hour:{min:0,max:23,step:1,precision:0},minute:{min:1,max:59,step:1,precision:0},second:{min:1,max:59,step:1,precision:0}},a.prototype={spin:function(e){if(!this.$el.prop("disabled")&&!this.$el.siblings("[data-spin="+e+"]").hasClass("disabled")){this.oldValue=this.value();var t=$.isFunction(this.options.step)?this.options.step.call(this,e):this.options.step,n="up"===e?1:-1,a=this.options.beforeChange||function(){};a.call(this,this.oldValue,e)!==!1&&this.value(this.oldValue+Number(t)*n)}},value:function(e){if(null===e||void 0===e)return this.numeric(this.$el.val());e=this.numeric(e);var a=this.validate(e);0!==a&&(a===-1?(e=this.min,this.$el.trigger("rangemin.spinner")):(e=this.max,this.$el.trigger("rangemax.spinner"))),this.$el.val(e.toFixed(this.options.precision)),this.oldValue!==this.value()&&(this.$el.trigger("changing.spinner",[this.value(),this.oldValue]),clearTimeout(t),t=setTimeout($.proxy(function(){this.$el.trigger("changed.spinner",[this.value(),this.oldValue])},this),n.delay))},numeric:function(e){return e=this.options.precision>0?parseFloat(e,10):parseInt(e,10),isFinite(e)?e:e||this.options.min||0},validate:function(e){return null!==this.options.min&&e<this.min?-1:null!==this.options.max&&e>this.max?1:0},setMin:function(e){var t=this.min=this.numeric(e);this.options.min=t},setMax:function(e){var t=this.max=this.numeric(e);this.options.max=t}},n=function(e,t){this.$el=$(e),this.$spinning=this.$el.find('[data-spin="spinner"]'),0===this.$spinning.length&&(this.$spinning=this.$el.find(':input[type="text"]')),t=$.extend({},t,this.$spinning.data()),this.spinning=new a(this.$spinning,t),this.$el.on("click.spinner",'[data-spin="up"], [data-spin="down"]',$.proxy(this,"spin")),t.delay&&this.delay(t.delay),t.changed&&this.changed(t.changed),t.changing&&this.changing(t.changing),t.rangemin&&this.rangemin(t.rangemin),t.rangemax&&this.rangemax(t.rangemax)},n.delay=500,n.prototype={constructor:n,spin:function(e){var t=$(e.currentTarget).data("spin");switch(e.type){case"click":e.preventDefault(),this.spinning.spin(t)}},delay:function e(t){var e=Number(t);e>=0&&(this.constructor.delay=e+100)},value:function(){return this.spinning.value()},changed:function(e){this.bindHandler("changed.spinner",e)},changing:function(e){this.bindHandler("changing.spinner",e)},rangemax:function(e){this.bindHandler("rangemax.spinner",e)},rangemin:function(e){this.bindHandler("rangemin.spinner",e)},bindHandler:function(e,t){$.isFunction(t)?this.$spinning.on(e,t):this.$spinning.off(e)},beginSpin:function(e){this.spinInterval=setInterval($.proxy(this.spinning,"spin",e),100)}};var i=$.fn.spinner;$.fn.spinner=function(e,t){return this.each(function(){var a=$.data(this,"spinner");a||(a=new n(this,e),$.data(this,"spinner",a)),"delay"===e||"changed"===e||"changing"===e?a[e](t):"step"===e&&t?a.spinning.step=t:"spin"===e&&t&&a.spinning.spin(t)})},$.fn.spinner.Constructor=n,$.fn.spinner.noConflict=function(){return $.fn.spinner=i,this},e.exports=$.fn.spinner}).call(t,n(1))},118:function(e,t,n){(function($){"use strict";var t=n(119),a=n(22),i=function(e,n){var i=t(e||{});n=n||{};var s={title:"选择图片",modal:!0,fixed:!0,content:i,className:"pop-box",okValue:"插入图片",okCls:"pc-btn pc-btnh35 circle-pop-btn",cancalValue:"取消",btnWrapCls:"insert-cancel"};return $.extend(!0,s,n),a(s)};e.exports={create:i}}).call(t,n(1))},119:function(e,t,n){var a=n(26);e.exports=a("src/js/module/popup/upload/content",function(e,t){"use strict";var n=this,a=(n.$helpers,n.$escape),i=e.maxlength,s="";return s+='<div data-node="uploadBox"> <div class="pics-list-wrap clearfix"> <ul class="pics-list clearfix" data-node="uploadList"> <li data-defaultAddFile=\'picker\'></li> </ul> </div> <div class="num-pics">您可以添加 <span class="link-hover-red" data-node="addNum">',s+=a(i),s+='</span><span class="deep-gray">/',s+=a(i),s+=" </span>张图片</div> </div>",new String(s)})},120:function(e,t,n){(function(t,$){"use strict";var a=n(22),i=n(2),s=n(28),o=n(48),r=n(71),d=n(121),c=n(37);n(42),n(43);n(122)();var l,u="active",h={},p='<div data-node="loading" class="loading"><img src="'+t.imgpath+'/images/public/loading.gif"></div>',f='<p data-node="reload" class="failed-txt">数据获取失败，点击<a data-node="btn_reload" href="javascript:;" style="color:#f95353">重新加载</a>！</p>',m=function(){return i.get(s.get("selectGroup"))},v=function(e){var t=$(this),n=t.data("id"),a=$("[i-id=ok]"),i="btn-default";return l&&(l.removeClass(u),a.addClass(i)),t.addClass(u),a.removeClass(i),l=t,h={id:n,name:l.data("name")},!1},g=function(e){var t=this._$("content");t[e?"off":"on"]("click","dl",v)},x=function e(t){t=t||{};var n={title:"选择圈子",modal:!0,fixed:!0,content:p,className:"pop-box",okValue:"确定",okCls:"pc-btn pc-btnh35 circle-pop-btn btn-default",btnWrapCls:"insert-cancel",ok:function(){return h.id?void o(r.postTopic.selectCircle).pub(h):(c("请选择一个圈子"),!1)},cancel:function(){g.call(this,!0)},onshow:function(){var t,n=this;$("[data-action=selectGroup]").attr("data-groupid")&&(t=$("[data-action=selectGroup]").attr("data-groupid")),m().done(function(a){if(a&&200===a.code){var i=function(e,t){for(var n=[],a=0,i=0;i<e.length;i++){for(var s=0;s<t.length;s++){if(t[s].id==e[i].id){a=1;break}a=0}if(!(n.length<12))return n;0==a&&n.push(e[i])}return n},s=a.data||{},o=s.myRelatedGroups||{},r=o.imaster||[],c=o.imember||[],u=s.recommendGroups||{},h=u.peas||[],p=r.concat(c),m=i(h,p),s={created:r,joined:c,recommend:m},v=d(s);n.content(v),t&&$("[data-id="+t+"]")&&($("[data-id="+t+"]").addClass("active"),l=$("[data-id="+t+"]")),g.call(n)}else n.content(f),$("[data-node=btn_reload]").on("click",function(){e()})}).fail(function(){n.content(f)}).always(function(){})},onclose:function(){g.call(this,!0)}};$.extend(!0,n,t);var i=a(n);return i.show(),i};e.exports=x}).call(t,n(4),n(1))},121:function(e,t,n){var a=n(26);e.exports=a("src/js/module/popup/circle/content",function(e,t){"use strict";var n=this,a=n.$helpers,i=n.$escape,s=e.created,o=n.$each,r=(e.group,e.$index,e.joined),d=e.recommend,c="";return c+='<div data-node="loading" style="display:none" class="loading"><img src="',c+=i(a.randomShowPic("loading")),c+='" alt=""></div> <p data-node="reload" style="display:none" class="failed-txt">数据获取失败，点击重新加载！</p> <ul class="chosed-circle-box"> ',s.length>0&&(c+=' <li class="clearfix"> <h4>我创建的圈子</h4> ',o(s,function(e,t){c+=' <dl data-id="',c+=i(e.id),c+='" data-name="',c+=i(e.name),c+='"> <dt> ',e.icon&&e.icon.length>0?(c+=' <img src="',c+=i(e.icon),c+='" title="',c+=i(e.name),c+='"> '):(c+=' <img src="',c+=i(a.randomShowPic("face")),c+='" title="',c+=i(e.name),c+='"> '),c+=' </dt> <dd><a href="javascript:;">',c+=i(e.name),c+="</a></dd> </dl> "}),c+=" </li> "),c+=" ",r.length>0&&(c+=' <li class="clearfix"> <h4>我加入的圈子</h4> ',o(r,function(e,t){c+=' <dl data-id="',c+=i(e.id),c+='" data-name="',c+=i(e.name),c+='"> <dt> ',e.icon&&e.icon.length>0?(c+=' <img src="',c+=i(e.icon),c+='" title="',c+=i(e.name),c+='"> '):(c+=' <img src="',c+=i(a.randomShowPic("face")),c+='" title="',c+=i(e.name),c+='"> '),c+=' </dt> <dd><a href="javascript:;">',c+=i(e.name),c+="</a></dd> </dl> "}),c+=" </li> "),c+=" ",d.length>0&&(c+=' <li class="clearfix"> <h4>推荐圈子</h4> ',o(d,function(e,t){c+=' <dl data-id="',c+=i(e.id),c+='" data-name="',c+=i(e.name),c+='"> <dt> ',e.icon&&e.icon.length>0?(c+=' <img src="',c+=i(e.icon),c+='" title="',c+=i(e.name),c+='"> '):(c+=' <img src="',c+=i(a.randomShowPic("face")),c+='" title="',c+=i(e.name),c+='"> '),c+=' </dt> <dd><a href="javascript:;">',c+=i(e.name),c+="</a></dd> </dl> "}),c+=" </li> "),c+=" </ul> ",new String(c)})},122:function(e,t,n){(function(t){"use strict";var a=n(26),i=function(e){return"face"==e?t.imgpath+"/images/public/circle-default.png":"loading"==e?t.imgpath+"/images/public/loading.gif":void 0};e.exports=function(){a.helper("randomShowPic",i)}}).call(t,n(4))},123:function(e,t,n){(function($){"use strict";var t=n(2),a=n(28),i=n(124),s=n(47),o={qq:"http://connect.qq.com/widget/shareqq/index.html",sina:"http://v.t.sina.com.cn/share/share.php",qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey"},r={url:"http://www.gomeplus.com",title:"国美PlusAPP边玩边分享，购物不孤单",pic:"http://www.gomeplus.com/images/logo.png",summary:"国美PlusAPP边玩边分享，购物不孤单"},d=function(e){window.open(e)},c=!1,l=function(){var e='<p data-node="shareBtnBox" class="share-down" style="z-index:21;"><span class="share-box"><span class="icon icon-up-arrow"></span><span class="icon-box"><em data-shareto="weixin" class="iconn-30"></em><em data-shareto="qq" class="iconn-32"></em><em data-shareto="sina" class="iconn-31"></em><em data-shareto="qzone" class="iconn-33"></em></span></span></p>';$("body").append(e),c=!0},u=function(e){!c&&l(),$("[data-node=shareBtnBox]").css({left:e.x,top:e.y}).show()},h=!1,p=function(){var e='<div class="share-weixin"><div class="wx-mask"></div><div class="wx-main"><div class="wx-code"><span></span><img data-node="shareWeixinCode" alt="分享到微信" /></div><p>打开微信扫一扫，即可分享</p><a href="javascript:;" title="点击关闭" class="wx-close">×</a></div></div>';$("body").append(e),h=!0},f=function(e,t){var n=[],a={title:e.title,url:e.url,summary:e.summary,desc:e.desc,site:e.site};t?a.pics=e.pic:a.pic=e.pic;for(var i in a)n.push(i+"="+encodeURIComponent(a[i]||""));return n.join("&")},m={weixin:function(e){var t=i(e.url);!h&&p(),$("[data-node=shareWeixinCode]")[0].src=t,$(".share-weixin").show(),$(".wx-close").on("click",function(){$(".share-weixin").hide()})},qq:function(e){var t=o.qq+"?"+f(e,!0);d(t)},sina:function(e){var t=o.sina+"?"+f(e);d(t)},qzone:function(e){var t=o.qzone+"?"+f(e,!0);d(t)}},v=function(e){var n="0"!==e.isRebate;t.get(a.get("shareGetGoodsKid"),{validate:n,data:{skuId:e.skuId,itemId:e.itemId,parentKid:e.parentKid},async:!1}).done(function(t){if(t.success===!0){var n=t.data.kid,a=e.shareInfo,i=a.url,s=i.indexOf("?");s>0&&(i=i.substring(0,s)),a.url=i+"?onlineUserId="+a.onlineUserId+"&kId="+n,m[e.shareto](a)}else m[e.shareto](e.shareInfo)}).fail(function(t){n?s()&&m[e.shareto](e.shareInfo):m[e.shareto](e.shareInfo)})},g=function(e){var t={title:e.title||r.title,url:e.url||r.url,pic:e.pic||r.pic,summary:e.summary||"",desc:e.desc||""};!!m[e.type]&&m[e.type](t)},x=function(e,t,n){var a=null;$item="string"==typeof e?$(e):e,t=t||"[data-action=shareto]",$item.on("mouseenter",t,function(e){var t=$(this).data("surl"),n=$(this).data("stitle"),i=$(this).data("spic");a={url:t,title:n,pic:i};var s=$(this).width(),o=$(this).height(),r=$(this).offset().left/1+s/2-80+"px",d=$(this).offset().top/1+(o-1)+"px";return u({x:r,y:d}),!1}),$item.on("mouseleave",t,function(e){return $("[data-node=shareBtnBox]").hide(),!1}),$("body").on("click","[data-shareto]",function(e){e.preventDefault(),shareType=$(this).data("shareto"),a.type=shareType,n=n||function(){},n.call(null,a),g(a)}),$("body").on("mouseenter","[data-node=shareBtnBox]",function(){$(this).show()}),$("body").on("mouseleave","[data-node=shareBtnBox]",function(){$(this).hide()})};e.exports={share:g,shareto:m,shareItem:x,shareWithKid:v}}).call(t,n(1))},124:function(e,t,n){(function(t){"use strict";var n=function(e){return t.wap_url+"q.php?t="+encodeURIComponent(e)};e.exports=n}).call(t,n(4))},125:function(e,t){"use strict";function n(e,t){for(var n=[],a=0,i=e.length;a<i;a++)n.push(e[a].substr(0,t));return n}function a(e){return function(t,n,a){var i=a[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(t.month=i)}}function i(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var s={},o=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r=/\d\d?/,d=/\d{3}/,c=/\d{4}/,l=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,u=function(){},h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],f=n(p,3),m=n(h,3);s.i18n={dayNamesShort:m,dayNames:h,monthNamesShort:f,monthNames:p,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10)*e%10]}};var v={D:function(e){return e.getDate()},DD:function(e){return i(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return i(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return i(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return String(e.getFullYear()).substr(2)},YYYY:function(e){return e.getFullYear()},h:function(e){return e.getHours()%12||12},hh:function(e){return i(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return i(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return i(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return i(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return i(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return i(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+i(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},g={D:[r,function(e,t){e.day=t}],M:[r,function(e,t){e.month=t-1}],YY:[r,function(e,t){var n=new Date,a=+(""+n.getFullYear()).substr(0,2);e.year=""+(t>68?a-1:a)+t}],h:[r,function(e,t){e.hour=t}],m:[r,function(e,t){e.minute=t}],s:[r,function(e,t){e.second=t}],YYYY:[c,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[d,function(e,t){e.millisecond=t}],d:[r,u],ddd:[l,u],MMM:[l,a("monthNamesShort")],MMMM:[l,a("monthNames")],a:[l,function(e,t,n){var a=t.toLowerCase();a===n.amPm[0]?e.isPm=!1:a===n.amPm[1]&&(e.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,t){var n,a=(t+"").match(/([\+\-]|\d\d)/gi);a&&(n=+(60*a[1])+parseInt(a[2],10),e.timezoneOffset="+"===a[0]?n:-n)}]};g.dd=g.d,g.dddd=g.ddd,g.Do=g.DD=g.D,g.mm=g.m,g.hh=g.H=g.HH=g.h,g.MM=g.M,g.ss=g.s,g.A=g.a,s.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},s.format=function(e,t,n){var a=n||s.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");return t=s.masks[t]||t||s.masks.default,t.replace(o,function(t){return t in v?v[t](e,a):t.slice(1,t.length-1)})},s.parse=function(e,t,n){var a=n||s.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=s.masks[t]||t,e.length>1e3)return!1;var i=!0,r={};if(t.replace(o,function(t){if(g[t]){var n=g[t],s=e.search(n[0]);~s?e.replace(n[0],function(t){return n[1](r,t,a),e=e.substr(s+t.length),t}):i=!1}return g[t]?"":t.slice(1,t.length-1)}),!i)return!1;var d=new Date;r.isPm===!0&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:r.isPm===!1&&12===+r.hour&&(r.hour=0);var c;return null!=r.timezoneOffset?(r.minute=+(r.minute||0)-+r.timezoneOffset,c=new Date(Date.UTC(r.year||d.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):c=new Date(r.year||d.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0),c},e.exports=s}});