webpackJsonp([10],{0:function(t,e,n){(function($){"use strict";var t=n(167);n(46),$("input").placeholder(),t();var e=n(56);e.setPageData("forgetPwd")}).call(e,n(1))},64:function(t,e){"use strict";var n={checkVal:function(t,e){return e.test(t)},isMobileNum:function(t){return/^1[34578][0-9]{9}$/.test(t)},isEmail:function(t){return/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/.test(t)},isCertificate:function(t){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(t)},isCID:function(t){return/^(\d{16}|\d{19})$/.test(t)},isCWord:function(t,e,n){e=!isNaN(e)&&e>0?e:1,n=!isNaN(n)&&n>0?n:"";var a=new RegExp("^[\\u4e00-\\u9fa5]{"+e+","+n+"}$");return a.test(t)},isArray:function(t){return Array.isArray(t)||t instanceof Array},passwordReg:function(t){var e=/^((?=.*?\d)(?=.*?[A-Za-z])|(?=.*?\d)(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，\"\,\:\;；,\.‘’“”：'"\·`【】])|(?=.*?[A-Za-z])(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]))[\dA-Za-z<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]{6,21}$/;return e.test(t)},checkSpace:function(t){var e=/\s+/;return e.test(t)},checkRefCode:function(t){var e=/^[0-9a-zA-Z]{8}$/;return e.test(t)},checkNickName:function(t){var e=/^([\u4e00-\u9fa5]|[0-9a-zA-Z_-])+$/;return e.test(t)},isMsgCode:function(t){var e=/^\d{6}$/;return e.test(t)},isImgCode:function(t){var e=/^[0-9a-zA-Z]{4}$/;return e.test(t)}};t.exports=n},65:function(t,e){"use strict";var n=function(){},a=function(t,e){this.onChange=e.onChange||n,this.onFinish=e.onFinish||n,this.count=t||60,this.start()};a.prototype.start=function(){var t=this;setTimeout(function(){t.onChange(t.count),t.count--,t.count<=0?t.onFinish():t.start()},1e3)},t.exports=a},66:function(t,e){"use strict";function n(t,e){return t.length>e?t.substr(0,e):t}t.exports=n},87:function(t,e,n){(function($){"use strict";var e,n,a,o=function(){e.off().on("click",function(){e.hide(),n.hide()}),n.off().on("click",function(){e.hide(),n.hide()})},i=function(t,i){var r={duration:2e3,callback:function(){}};$.extend(r,i||{}),clearTimeout(a),e=$('[data-action="publicMask"]'),n=$('[data-action="publicTips"]'),e.length>0?(e.show(),n.show().text(t)):($("body").append('<div data-action="publicMask" class="ordi-toast"></div><div class="ordi-toast-txt" data-action="publicTips">'+t+"</div>"),e=$('[data-action="publicMask"]'),n=$('[data-action="publicTips"]'),o()),n.css("margin",-n[0].offsetHeight/2+"px 0 0 "+-n.width()/2+"px"),a=setTimeout(function(){e.hide(),n.hide(),r.callback()},r.duration)};t.exports={init:i,events:o}}).call(e,n(1))},167:function(t,e,n){(function($,e){"use strict";function a(){h.placeholder(),g.placeholder(),g.on({blur:D,focus:P,keyup:F}),v.on("click",_),h.on({focus:V,blur:R,keyup:O}),w.on({focus:J,blur:W,keyup:U}),A.on("click",X),p.on("click",H)}var o=n(65),i=n(2),r=n(28),s=n(87).init,d=n(36),c=n(66),u=n(64);n(46);var l,f=$('[data-node="forgetPwdStepTwo"]'),v=f.find('[data-action="sendMsgBtn"]'),p=f.find('[data-action="nextStep"]'),C=f.find('[data-node="errorCode"]'),h=f.find('[data-node="msgCode"]'),m=f.find('[data-node="errorBorderCode"]'),g=f.find('[data-node="tel"]'),x=f.find('[data-node="errorTel"]'),b=f.find('[data-node="errorBorderTel"]'),k=f.find("[data-node=errorBorderImgCode]"),w=f.find("[data-node=imgCode]"),A=f.find("[data-action=imgChangeBtn]"),y=f.find("[data-node=errImgCode]"),T=f.find("[data-node=codeImg]"),E=f.find("[data-node=publicErrBox]"),M=f.find("[data-node=publicErr]"),N="lg-form-error",S="code-disabled",z="none",B=1,I=d.imgCode,Z=e.passport_domain,D=function(){var t=g.val(),e=u.isMobileNum(t),n=!0;return t?e?(b.removeClass(N),x.text("")):(b.addClass(N),x.text(d.tel.err),n=!1):(b.addClass(N),x.text(d.tel.ept),n=!1),n},F=function(){var t=(g.val()+"").length;t>11&&g.val(c(g.val()+"",11))},P=function(){b.removeClass(N),x.text(""),E.addClass(z),M.text("")},R=function(){var t=h.val(),e=1;return t?/^\d{6}$/.test(t)?e=1:(m.addClass(N),C.text(d.msgCode.tipErr),e=0):(m.addClass(N),C.text(d.msgCode.tipEpt),e=0),e},O=function(){var t=(h.val()+"").length;t>6&&h.val(c(h.val()+"",6))},V=function(){m.hasClass(N)&&(m.removeClass(N),C.text(""),E.addClass(z),M.text(""))},_=function(){var t=D(),e=w.val();if(B&&t){var n=W();if(n){l=g.val();var a={mobileOrEmail:l,code:e,setid:"getpassword"};i.post(r.get("sendMsgCodeV2"),{data:a}).then(function(t){if(t.success){if(t.data.isStoreUser)return s("您是门店会员，将为您跳转至门店重置密码页",{callback:function(){location.href=Z+"/shop/index"}}),!1;E.addClass(z),M.text(""),m.removeClass(N),C.text(d.msgCode.tipSend).css("color","#f95353"),new o(60,{onChange:function(t){B=0,v.text(t+d.msgCode.btnAfterSend).addClass(S)},onFinish:function(){B=1,v.text(d.msgCode.btnDefault).removeClass(S)}})}else{if(X(),9111912==t.code)return k.addClass(N),void y.text(I.err);E.removeClass(z),M.text(t.message)}})}}},H=function(){var t=h.val(),e=g.val(),n=D(),a=R();if(!n||!a)return!1;var o={verifycode:t,mobileOrEmail:e};i.post(r.get("checkCode"),{data:o}).then(function(t){t.success?(m.removeClass(N),C.text(""),location.href=Z+"/forgetpwd/step2"):(X(),E.removeClass(z),M.text(t.message))})},J=function(){k.removeClass(N),y.text(""),E.addClass(z),M.text("")},U=function(){var t=w.val(),e=t.length;e>4&&w.val(c(t,4))},W=function(){var t=w.val(),e=t.length,n=u.isImgCode(t),a=0;return e?n?(a=1,k.removeClass(N),y.text("")):(a=0,k.addClass(N),y.text(I.err)):(a=0,k.addClass(N),y.text(I.ept)),a},X=function(){var t=T.attr("src")+"&timeStamp="+(new Date).getTime();T.attr("src",t),k.removeClass(N),y.text(""),E.addClass(z),M.text(""),w.val("")};t.exports=a}).call(e,n(1),n(4))}});