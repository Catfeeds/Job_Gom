webpackJsonp([31],{0:function(i,t,e){(function($,i){"use strict";var t=e(2),n=e(28),a=e(252),o=e(253),r=e(254),s=e(37);e(210)(),e(232)(),e(255)();var c=new o({columnWidth:242},"[data-node=tiles]"),u=function(i){if(!i)return i;var t;try{t=decodeURIComponent(i)}catch(e){t=unescape(i)}return t},l=u($("[data-node=tiles]").data("keyword")),d=$("[data-action=loadMore]"),p=$("[data-node=loading]"),h=!1,m=1,f=!1,g=function(){d.hide(),p.show()},v=function(i){var t=i||"没有更多数据";d.find("span").html(t),d.off().show(),p.hide()},x=function(){if(!h)return f?void v():(h=!0,g(),t.get(n.get("searchTopics"),{data:{word:l,page_num:m,pagesize:20}}).done(function(t){if(200===t.code){m++;var e=t.data.topics||[];0==e.length?(f=!0,v("无相关话题")):(p.hide(),e.group_domain=i.group_domain,c.appended($(a({topics:e}))),r.init({a:$("[data-node=list_title]"),b:$("[data-node=list_description]")},l),e.length<20?(d.off().hide(),p.hide()):d.show())}else f=!0,v()}).fail(function(i){s("数据请求失败 请稍后尝试")}).always(function(){h=!1}),!1)},y=function(){x(),d.on("click",x)};y()}).call(t,e(1),e(4))},157:function(i,t,e){(function(t){"use strict";var e=t.imgpath+"/images/emoji/",n=".png",a=[{name:"微笑",url:"weixiao"},{name:"色",url:"se"},{name:"亲亲",url:"qinqin"},{name:"得意",url:"deyi"},{name:"流泪",url:"liulei"},{name:"害羞",url:"haixiu"},{name:"闭嘴",url:"bizui"},{name:"鼓掌",url:"guzhang"},{name:"大哭",url:"daku"},{name:"尴尬",url:"ganga"},{name:"生气",url:"shengqi"},{name:"调皮",url:"tiaopi"},{name:"呲牙",url:"ciya"},{name:"惊讶",url:"jingya"},{name:"委屈",url:"weiqu"},{name:"吐血",url:"tuxue"},{name:"冷汗",url:"lenghan"},{name:"抓狂",url:"zhuakuang"},{name:"难过",url:"nanguo"},{name:"偷笑",url:"touxiao"},{name:"白眼",url:"baiyan"},{name:"不屑",url:"buxie"},{name:"快哭了",url:"kuaikule"}],o=[{name:"困",url:"kun"},{name:"装酷",url:"zhuangku"},{name:"大笑",url:"daxiao"},{name:"偷瞄",url:"toumiao"},{name:"奋斗",url:"fendou"},{name:"咒骂",url:"zhouma"},{name:"疑问",url:"yiwen"},{name:"晕",url:"yun"},{name:"捶打",url:"chuida"},{name:"再见",url:"zaijian"},{name:"抠鼻",url:"koubi"},{name:"发呆",url:"fadai"},{name:"坏笑",url:"huaixiao"},{name:"哈欠",url:"haqian"},{name:"鄙视",url:"bishi"},{name:"睡觉",url:"shuijiao"},{name:"饿",url:"e"},{name:"阴险",url:"yinxian"},{name:"难受",url:"nanshou"},{name:"可怜",url:"kelian"},{name:"撇嘴",url:"piezui"},{name:"石化",url:"shihua"},{name:"泪眼",url:"leiyan"}],r=function(i){for(var t=0,a=i.length;t<a;t++){var o=i[t];o.url=e+o.url+n}return i};i.exports=r(a.concat(o))}).call(t,e(4))},158:function(i,t,e){(function(t){"use strict";var e=t.imgpath+"/images/emoji/",n=".png",a={"亲":{name:"亲亲",url:e+"qinqin"+n},"愤怒":{name:"生气",url:e+"shengqi"+n},"惊恐":{name:"惊讶",url:e+"jingya"+n},"迷茫":{name:"委屈",url:e+"weiqu"+n},"伤心":{name:"难过",url:e+"nanguo"+n},"努力":{name:"奋斗",url:e+"fendou"+n},YY:{name:" 坏笑",url:e+"huaixiao"+n},"恶心":{name:"难受",url:e+"nanshou"+n}};i.exports=a}).call(t,e(4))},159:function(i,t,e){var n=e(26);i.exports=n("src/js/module/popup/face/face",function(i,t){"use strict";var e=this,n=(e.$helpers,e.$each),a=i.list,o=(i.v,i.i,i.face,i.$index,e.$escape),r=i.page,s="";return s+='<div data-node="faceBox" class="imoj-box" style="position: absolute;z-index: 9999;display:none"> <em class="sanjiao"></em> <div data-node="faceList" class="imoj-list"> ',n(a,function(i,t){s+=' <div class="imoj-content clearfix ',t&&(s+="hide"),s+='"> ',n(i,function(i,t){s+=' <a href="javascript:;"> <img width="22" height="22" data-face="[',s+=o(i.name),s+=']" src="',s+=o(i.url),s+='" alt="',s+=o(i.name),s+='" title="',s+=o(i.name),s+='"> </a> '}),s+=" </div> "}),s+=' </div> <ul data-action="facePage" class="pagination"> ',n(r,function(i,t){s+=" <li ",0==t&&(s+='class="active"'),s+=">",s+=o(t+1),s+="</li> "}),s+=" </ul> </div>",new String(s)})},210:function(i,t,e){(function(t){"use strict";var n=e(26),a=function(i,e){return""===i?t.imgpath+"/images/public/"+e:i};i.exports=function(){n.helper("showPic",a)}}).call(t,e(4))},232:function(i,t,e){"use strict";var n=e(26),a=e(42),o=e(43),r=e(233),s=e(234),c=function(i,t){var e,n=o(i);return e=n>t?a(i,t)+"...":i,s.parseEmoji(r(e))};i.exports=function(){n.helper("truncateByteLen",c)}},233:function(i,t){"use strict";var e=function(i,t){return i?i.replace(t||/[&<">'](?:(amp|lt|ldquo|rdquo|quot|gt|#39|nbsp|#\d+);)?/g,function(i,t){return t?i:{"<":"&lt;","&":"&amp;",'"':"&quot;","“":"&ldquo;","”":"&rdquo;",">":"&gt;","'":"&#39;"}[i]}):""};i.exports=e},234:function(i,t,e){(function($){"use strict";var t,n,a=e(157),o=e(158),r=e(159),s=0,c={},u=function(i){for(var t=i.length,e=24,n=Math.ceil(t/e),a=[],o=0;o<n;o++){a[o]=[];var r=e*(o+1);r=r>t?t:r;for(var s=o*e;s<r;s++){var u=i[s];a[o].push(u),c[u.name]=u.url}}return{page:new Array(n),list:a}},l=function(i,t){p(0),$("[data-node=faceBox]").css({left:i+"px",top:t+"px"}).show()},d=function(){$("[data-node=faceBox]").hide()},p=function(i){i=i||s,$("[data-action=facePage] > li").eq(i).addClass("active").siblings("li").removeClass("active"),$("[data-node=faceList] > div").eq(i).removeClass("hide").siblings("div").addClass("hide")},h=function(i,e){$("body").on("click","[data-face]",function(a){a.preventDefault(),a.stopPropagation(),t=$(this).data("face"),n=$(this).attr("src"),i({reg:t,url:n}),e!==!1&&$("[data-node=faceBox]").hide()})},m=function(i){var t=u(a),e=r(t);$("body").append(e),i()},f=function(){$("body").on("click","[data-node=faceBox]",function(i){i.stopPropagation()}),$(document).on("click",function(){$("[data-node=faceBox]").hide()}),$("[data-node=faceBox]").on("mouseenter","[data-action=facePage] > li",function(){var i=$(this).index();p(i)})},g=function(i){var t=!0;for(var e in i){t=!1;break}return t},v=function(i){var t=/(\[([\s\S]+?)\])/g;return g(c)&&u(a),i.replace(t,function(i,t,e){var n=c[e];if(n)return'<img width="22" height="22" src="'+n+'" />';var a=o[e];return a?'<img width="22" height="22" src="'+a.url+'" />':i})},x=function(){m(f)};i.exports={init:x,insert:h,show:l,hide:d,parseEmoji:v}}).call(t,e(1))},252:function(i,t,e){var n=e(26);i.exports=n("src/js/page/searchTopics/topics",function(i,t){"use strict";var e=this,n=e.$helpers,a=e.$each,o=i.topics,r=(i.topic,i.index,i.topicFirstPic),s=e.$escape,c=e.$string,u="";return a(o,function(i,t){u+=" ",i.topic&&(u+=" ",u+=""===r?' <div class="circle-box no-pic"> ':' <div class="circle-box"> ',u+=' <div class="mg-negative"> ',u+=""===i.topic.topicFirstPic?' <span class="topic-tag topic-tag-static"> ':' <span class="topic-tag"> ',u+=' <a href="',u+=s(n.othersLink(i.user.id)),u+='" target="_blank"> <em class="icon-lysy"> <img src="',u+=s(n.showPic(i.user.userPic,"head-default.png")),u+='" title="',u+=s(i.user.userName),u+='"> </em> ',u+=s(i.user.userName),u+=" </a> </span> ",""!==i.topic.topicFirstPic&&(u+=' <div class="list-img"> <a href="',u+=s(o.group_domain),u+="topic/",u+=s(i.topic.id),u+='.html" target="_blank">  <img src="',u+=s(i.topic.topicFirstPic),u+='" title="" onerror="imgError(this);"> ',"video"==i.topic.picType&&(u+=' <em class="icon-play"></em> '),u+=" </a> </div> "),u+=' <div class="list-title"> <p class="list-title-content"> <a data-node="list_title" href="',u+=s(o.group_domain),u+="topic/",u+=s(i.topic.id),u+='.html" target="_blank">',u+=c(n.truncateByteLen(i.topic.name,"52")),u+='</a> <span class="list-title-time">',u+=s(i.topic.time_str),u+='</span> </p> </div> <p data-node="list_description" class="list-description">',u+=c(n.truncateByteLen(i.topic.topicContent,"74")),u+='</p> <div class="text-icon"> <a href="javascript:;" data-action="like" data-id="',u+=s(i.id),u+='" data-type="1" data-praise="',u+=s(i.like.isLike===!1?1:0),u+='" data-count=',u+=s(i.like.userQuantity),u+='> <em class="iconn-10"></em> ',u+=s(i.like.userQuantity),u+=' </a> <a href="javascript:;" class="a-share"> <em class="icon icon-share">&#xe9ed;</em> <span>',u+=s(i.topic.topicReplyNum),u+='</span> </a> <!-- <a data-action="shareto" data-surl="',u+=s(o.groupDomain),u+="topic/detail?tid=",u+=s(i.id),u+='" data-stitle="这儿有我们志趣相投的小伙伴，快加入我们吧" data-spic="" href="javascript:;" class="a-share"> <em class="icon icon-share"></em>分享到 </a> --> </div> </div> </div> '),u+=" "}),new String(u)})},253:function(i,t,e){(function($){"use strict";function t(i,t){this.element=$(t),this.$tiles=this.element.children(),this._create(i),this._init()}var e={};t.prototype={constructor:t,_getTiles:function(){return this.element.children()},_create:function(i){this.options=$.extend(!0,{},e,i||{});for(var t=this.element,n=this.columnWidth=this._getColumnWidth(),a=this._getColumns(),o=0;o<a;o+=1)$('<div style="float:left;width:'+n+'px;" data-node="tiles-col"></div>').appendTo(t);this.cols=t.find("> [data-node=tiles-col]")},_getColumns:function(){var i=this.element.width(),t=Math.floor(i/this.columnWidth);return t=Math.max(t,1),this.colNum=t},_init:function(){this.layout(this.$tiles)},_getColumnWidth:function(){return this.options.columnWidth||this.$tiles.outerWidth(!0)||this.element.width()},appended:function(i,t){this.$tiles=this.$tiles.add(i),this.layout(i,t)},destroy:function(){},layout:function(i,t){for(var e=0,n=i.length;e<n;e++)this._placeTile(i[e])},_placeTile:function(i){this.cols.eq(this.getShortestColumn()).append(i)},getShortestColumn:function(){for(var i,t,e=0,n=this.cols,a=n.length,o=0;o<a;o++)t=n[o].offsetHeight,0==o&&(i=t),t<i&&(i=t,e=o);return e}},i.exports=t}).call(t,e(1))},254:function(i,t,e){(function($){"use strict";var t=function(i,t){for(var e=i,n=t.split("+"),a=function(i,t){var e=new RegExp(t,"g");for(var n in i)$(i[n]).each(function(i){var n=$(this),a=n.text();a.indexOf(t)>-1&&a.indexOf("img")==-1&&a.indexOf("src")==-1&&(a=a.replace(e,'<aside style="color:red;display:inline">'+t+"</aside>"),n.html(a))})},o=0;o<n.length;o++)n[o].length>0&&a(e,n[o])};i.exports={init:t}}).call(t,e(1))},255:function(i,t,e){(function(t){"use strict";var n=e(26),a=function(i){return"0"!==t.islogin&&t.userId==i?t.i_domain+"index":t.group_domain+"ta/"+i+".html"};i.exports=function(){n.helper("othersLink",a)}}).call(t,e(4))}});