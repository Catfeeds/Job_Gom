webpackJsonp([11],{0:function(e,a,t){(function($,e){"use strict";var a=t(51),s=t(168),r=t(66),d=t(64),n=t(2),o=t(28),l=t(36),i=t(40);t(46);var c=t(56);c.setPageData("newPwd");var u=$('[data-node="forgetPwdStepThree"]'),v=u.find('[data-node="pwd"]'),C=u.find('[data-node="surePwd"]'),f=u.find("[data-node=rightTip]"),m=u.find("[data-node=sureRightTip]"),p=u.find('[data-node="errorBorderPwd"]'),w=u.find('[data-node="errorBorderSurePwd"]'),h=u.find('[data-node="pwdTip"]'),x=u.find('[data-node="errorPwd"]'),g=u.find('[data-node="errorSurePwd"]'),k=u.find('[data-action="sureBtn"]'),A=u.find("[data-node=publicErr]"),T=u.find("[data-node=publicErrBox]"),z="lg-form-error",q="hide",P="none",Z="level-weak",b="level-md",N="level-strong",R=function(){x.text(l.pwd.commonTip).css("color","#f95353"),f.addClass(q),T.addClass(P)},y=function(){var e=v.val(),a=s(e);return 0===e.length?(p.addClass(z),x.show().text(l.pwd.commonTip).css("color","#f95353"),f.addClass(q),!1):!d.passwordReg(e)||d.checkSpace(e)?(p.addClass(z),x.show().text(l.pwd.commonTip),f.addClass(q),!1):a<27?(p.addClass(z),x.show().text(l.pwd.commonTip),f.addClass(q),!1):(f.removeClass(q),p.removeClass(z),x.hide().text(""),void 0)},S=function(){var e=v.val(),a=C.val(),t=v.val().length,n=h.find("span");t>20&&v.val(r(v.val(),20));var o=s(e);return p.removeClass(z),o>27&&d.passwordReg(e)&&!d.checkSpace(e)?(h.removeClass(q),x.hide(),o<60?(n.eq(0).addClass(Z),n.eq(1).removeClass(b),n.eq(2).removeClass(N)):o>=60&&o<80?(n.eq(0).removeClass(Z),n.eq(1).addClass(b),n.eq(2).removeClass(N)):(n.eq(0).removeClass(Z),n.eq(1).removeClass(b),n.eq(2).addClass(N)),void(""!==a&&(a!==e?(w.addClass(z),g.text(l.pwdV.err),m.addClass(q)):(w.removeClass(z),g.text(""),m.removeClass(q))))):(x.show().text(l.pwd.commonTip),!1)},V=function(){var e=v.val(),a=C.val();return 0===a.length?(m.addClass(q),!1):p.hasClass(z)?(m.addClass(q),!1):void(e!==a?(w.addClass(z),g.text(l.pwdV.err),m.addClass(q)):(w.removeClass(z),g.text(""),m.removeClass(q)))},B=function(){T.addClass(P);var e=C.val().length;e>20&&C.val(r(C.val(),20))},E=function(){var t=a(v.val()),s=a(C.val()),r=i(t),d={newPassword:r};return T.addClass(P),t||s?t?!p.hasClass(z)&&(x.text(""),p.removeClass(z),s?(g.text(""),w.removeClass(z),m.removeClass(q),void(s!==t?(w.addClass(z),g.text(l.pwdV.err),m.addClass(q)):n.post(o.get("passwordReset"),{data:d}).done(function(a){a.success?(w.removeClass(z),p.removeClass(z),g.text(""),x.text(""),location.href=e.passport_domain+"forgetpwd/step3"):(m.addClass(q),f.addClass(q),T.removeClass(P),A.text(a.message))}).fail(function(){alert("请求错误！")}))):(g.text(l.pwdV.ept),w.addClass(z),m.addClass(q),!1)):(x.text(l.pwd.commonTip),p.addClass(z),f.addClass(q),!1):(x.text(l.pwd.commonTip),p.addClass(z),f.addClass(q),g.text(l.pwdV.ept),w.addClass(z),m.addClass(q),!1)},W=function(){v.placeholder(),C.placeholder(),C.on({keyup:B,blur:V}),v.on({keyup:S,blur:y,focus:R}),k.on("click",E)};W()}).call(a,t(1),t(4))},51:function(e,a){"use strict";var t=function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")};e.exports=t},64:function(e,a){"use strict";var t={checkVal:function(e,a){return a.test(e)},isMobileNum:function(e){return/^1[34578][0-9]{9}$/.test(e)},isEmail:function(e){return/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/.test(e)},isCertificate:function(e){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(e)},isCID:function(e){return/^(\d{16}|\d{19})$/.test(e)},isCWord:function(e,a,t){a=!isNaN(a)&&a>0?a:1,t=!isNaN(t)&&t>0?t:"";var s=new RegExp("^[\\u4e00-\\u9fa5]{"+a+","+t+"}$");return s.test(e)},isArray:function(e){return Array.isArray(e)||e instanceof Array},passwordReg:function(e){var a=/^((?=.*?\d)(?=.*?[A-Za-z])|(?=.*?\d)(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，\"\,\:\;；,\.‘’“”：'"\·`【】])|(?=.*?[A-Za-z])(?=.*?[<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]))[\dA-Za-z<>《》！\*\(\^\)\$%~!@#\…&%￥—\+=、。，；‘’“”：'"\·`,\.【】]{6,21}$/;return a.test(e)},checkSpace:function(e){var a=/\s+/;return a.test(e)},checkRefCode:function(e){var a=/^[0-9a-zA-Z]{8}$/;return a.test(e)},checkNickName:function(e){var a=/^([\u4e00-\u9fa5]|[0-9a-zA-Z_-])+$/;return a.test(e)},isMsgCode:function(e){var a=/^\d{6}$/;return a.test(e)},isImgCode:function(e){var a=/^[0-9a-zA-Z]{4}$/;return a.test(e)}};e.exports=t},66:function(e,a){"use strict";function t(e,a){return e.length>a?e.substr(0,a):e}e.exports=t},168:function(e,a,t){"use strict";function s(e){var a=0,t=r(e);return e?(a+=t<=6?5:t>=11?25:10,a+=e.match(/[a-z]/i)?e.match(/[a-z]/)&&e.match(/[A-Z]/)?20:10:0,a+=e.match(/[0-9]/)?e.match(/[0-9]/g).length>=3?20:10:0,a+=e.match(/\W/)?e.match(/\W/g).length>1?25:10:0,a+=e.match(/[0-9]/)&&e.match(/[a-z]/i)?e.match(/\W/)?e.match(/[a-z]/)&&e.match(/[A-Z]/)?5:3:2:0):0}var r=t(43);e.exports=s}});